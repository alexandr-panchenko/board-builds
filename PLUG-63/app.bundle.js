/*! For license information please see app.bundle.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.app=t():e.app=t()}(void 0!==typeof self?self:this,(function(){return(()=>{var e={347:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(15),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([e.id,".ContextMenuButton {\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 40px;\n\theight: 50px;\n\tborder: none;\n\tcursor: pointer;\n\tbackground-color: white;\n\tfloat: left;\n\tposition: relative;\n}\n.ContextMenuButtonChangeBorderStyle {\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 52px;\n\theight: 50px;\n\tborder: none;\n\tcursor: pointer;\n\tbackground-color: white;\n\tfloat: left;\n\tposition: relative;\n}\n.ContextMenuButton:hover {\n\tcolor: blue;\n}\n.ContextMenuText:hover {\n\tcolor: blue;\n}\n.ContextMenuBar {\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n\tpadding-top: 4px;\n\tpadding-bottom: 4px;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\twidth: 160px;\n\tbackground-color: white;\n\tborder-radius: 4px;\n\tbox-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n}\n.ContextMenuChangeFigureType {\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n\tpadding-top: 4px;\n\tpadding-bottom: 4px;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\twidth: 120px;\n\tbackground-color: white;\n\tborder-radius: 4px;\n\tbox-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n}\n.ContextMenuChangeAlignment {\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n\tpadding-top: 4px;\n\tpadding-bottom: 4px;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\twidth: 120px;\n\tbackground-color: white;\n\tborder-radius: 4px;\n\tbox-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n}\n.ContextMenuChangeFontSize {\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n\tpadding-top: 4px;\n\tpadding-bottom: 4px;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\twidth: 40px;\n\tbackground-color: white;\n\tborder-radius: 4px;\n\tbox-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n}\n.ContextMenuChangeFontStyle {\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\twidth: 160px;\n\tbackground-color: white;\n\tborder-radius: 4px;\n\tbox-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n}\n.ContextMenuHorisontalSeparator {\n\theight: 1px;\n\tbackground: rgb(230, 230, 230);\n\tflex: 1 0 100%;\n\tdisplay: flex;\n}\n","",{version:3,sources:["webpack://./src/View/Overlays/Menus/ContextPanelMenu/Context.css"],names:[],mappings:"AAAA;CACC,uBAAuB;CACvB,mBAAmB;CACnB,WAAW;CACX,YAAY;CACZ,YAAY;CACZ,eAAe;CACf,uBAAuB;CACvB,WAAW;CACX,kBAAkB;AACnB;AACA;CACC,uBAAuB;CACvB,mBAAmB;CACnB,WAAW;CACX,YAAY;CACZ,YAAY;CACZ,eAAe;CACf,uBAAuB;CACvB,WAAW;CACX,kBAAkB;AACnB;AACA;CACC,WAAW;AACZ;AACA;CACC,WAAW;AACZ;AACA;CACC,kBAAkB;CAClB,mBAAmB;CACnB,gBAAgB;CAChB,mBAAmB;CACnB,aAAa;CACb,eAAe;CACf,YAAY;CACZ,uBAAuB;CACvB,kBAAkB;CAClB,4CAA4C;AAC7C;AACA;CACC,kBAAkB;CAClB,mBAAmB;CACnB,gBAAgB;CAChB,mBAAmB;CACnB,aAAa;CACb,eAAe;CACf,YAAY;CACZ,uBAAuB;CACvB,kBAAkB;CAClB,4CAA4C;AAC7C;AACA;CACC,kBAAkB;CAClB,mBAAmB;CACnB,gBAAgB;CAChB,mBAAmB;CACnB,aAAa;CACb,eAAe;CACf,YAAY;CACZ,uBAAuB;CACvB,kBAAkB;CAClB,4CAA4C;AAC7C;AACA;CACC,kBAAkB;CAClB,mBAAmB;CACnB,gBAAgB;CAChB,mBAAmB;CACnB,aAAa;CACb,eAAe;CACf,WAAW;CACX,uBAAuB;CACvB,kBAAkB;CAClB,4CAA4C;AAC7C;AACA;CACC,kBAAkB;CAClB,mBAAmB;CACnB,aAAa;CACb,eAAe;CACf,YAAY;CACZ,uBAAuB;CACvB,kBAAkB;CAClB,4CAA4C;AAC7C;AACA;CACC,WAAW;CACX,8BAA8B;CAC9B,cAAc;CACd,aAAa;AACd",sourcesContent:[".ContextMenuButton {\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 40px;\n\theight: 50px;\n\tborder: none;\n\tcursor: pointer;\n\tbackground-color: white;\n\tfloat: left;\n\tposition: relative;\n}\n.ContextMenuButtonChangeBorderStyle {\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 52px;\n\theight: 50px;\n\tborder: none;\n\tcursor: pointer;\n\tbackground-color: white;\n\tfloat: left;\n\tposition: relative;\n}\n.ContextMenuButton:hover {\n\tcolor: blue;\n}\n.ContextMenuText:hover {\n\tcolor: blue;\n}\n.ContextMenuBar {\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n\tpadding-top: 4px;\n\tpadding-bottom: 4px;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\twidth: 160px;\n\tbackground-color: white;\n\tborder-radius: 4px;\n\tbox-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n}\n.ContextMenuChangeFigureType {\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n\tpadding-top: 4px;\n\tpadding-bottom: 4px;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\twidth: 120px;\n\tbackground-color: white;\n\tborder-radius: 4px;\n\tbox-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n}\n.ContextMenuChangeAlignment {\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n\tpadding-top: 4px;\n\tpadding-bottom: 4px;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\twidth: 120px;\n\tbackground-color: white;\n\tborder-radius: 4px;\n\tbox-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n}\n.ContextMenuChangeFontSize {\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n\tpadding-top: 4px;\n\tpadding-bottom: 4px;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\twidth: 40px;\n\tbackground-color: white;\n\tborder-radius: 4px;\n\tbox-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n}\n.ContextMenuChangeFontStyle {\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\twidth: 160px;\n\tbackground-color: white;\n\tborder-radius: 4px;\n\tbox-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n}\n.ContextMenuHorisontalSeparator {\n\theight: 1px;\n\tbackground: rgb(230, 230, 230);\n\tflex: 1 0 100%;\n\tdisplay: flex;\n}\n"],sourceRoot:""}]);const s=a},785:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(15),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([e.id,".ToolsMenuButton {\n\twidth: 24px;\n\theight: 24px;\n\tpadding: 8px;\n\tborder: none;\n\tcursor: pointer;\n\tbackground-color: white;\n\tfloat: left;\n\tposition: relative;\n}\n.ToolsMenuIcon {\n\tdisplay: block;\n\toverflow: hidden;\n}\n.ToolsMenuButton:hover {\n\tcolor: blue;\n}\n.ToolsMenuText:hover {\n\tcolor: blue;\n}\n.ToolsMenuBar {\n\tpadding: 16px;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\twidth: 120px;\n\tbackground-color: white;\n\tborder-radius: 4px;\n\tbox-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n}\n","",{version:3,sources:["webpack://./src/View/Overlays/Menus/ToolsPanelMenu/ToolsMenu.css"],names:[],mappings:"AAAA;CACC,WAAW;CACX,YAAY;CACZ,YAAY;CACZ,YAAY;CACZ,eAAe;CACf,uBAAuB;CACvB,WAAW;CACX,kBAAkB;AACnB;AACA;CACC,cAAc;CACd,gBAAgB;AACjB;AACA;CACC,WAAW;AACZ;AACA;CACC,WAAW;AACZ;AACA;CACC,aAAa;CACb,aAAa;CACb,eAAe;CACf,YAAY;CACZ,uBAAuB;CACvB,kBAAkB;CAClB,4CAA4C;AAC7C",sourcesContent:[".ToolsMenuButton {\n\twidth: 24px;\n\theight: 24px;\n\tpadding: 8px;\n\tborder: none;\n\tcursor: pointer;\n\tbackground-color: white;\n\tfloat: left;\n\tposition: relative;\n}\n.ToolsMenuIcon {\n\tdisplay: block;\n\toverflow: hidden;\n}\n.ToolsMenuButton:hover {\n\tcolor: blue;\n}\n.ToolsMenuText:hover {\n\tcolor: blue;\n}\n.ToolsMenuBar {\n\tpadding: 16px;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\twidth: 120px;\n\tbackground-color: white;\n\tborder-radius: 4px;\n\tbox-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n}\n"],sourceRoot:""}]);const s=a},459:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(15),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([e.id,".ContextButton {\n\tdisplay: flex;\n\tmargin-left: 5px;\n\tmargin-right: 5px;\n\twidth: 40px;\n\theight: 50px;\n\tjustify-content: center;\n\talign-items: center;\n\tpadding: 0px;\n\tborder: none;\n\tbackground-color: white;\n\tcursor: pointer;\n}\n.ContextSeparator {\n\tdisplay: flex;\n\tmargin-left: 5px;\n\tmargin-right: 5px;\n\twidth: 1px;\n\tbackground-color: rgb(230, 230, 230);\n}\n.ContextButton:hover {\n\tcolor: blue;\n}\n.ContextText:hover {\n\tcolor: blue;\n}\n.ContextBar {\n\theight: 50px;\n\tdisplay: flex;\n\tcursor: pointer;\n\tbackground-color: white;\n\tborder-radius: 4px;\n\tbox-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n}\n","",{version:3,sources:["webpack://./src/View/Overlays/Panels/ContextPanel/Context.css"],names:[],mappings:"AAAA;CACC,aAAa;CACb,gBAAgB;CAChB,iBAAiB;CACjB,WAAW;CACX,YAAY;CACZ,uBAAuB;CACvB,mBAAmB;CACnB,YAAY;CACZ,YAAY;CACZ,uBAAuB;CACvB,eAAe;AAChB;AACA;CACC,aAAa;CACb,gBAAgB;CAChB,iBAAiB;CACjB,UAAU;CACV,oCAAoC;AACrC;AACA;CACC,WAAW;AACZ;AACA;CACC,WAAW;AACZ;AACA;CACC,YAAY;CACZ,aAAa;CACb,eAAe;CACf,uBAAuB;CACvB,kBAAkB;CAClB,4CAA4C;AAC7C",sourcesContent:[".ContextButton {\n\tdisplay: flex;\n\tmargin-left: 5px;\n\tmargin-right: 5px;\n\twidth: 40px;\n\theight: 50px;\n\tjustify-content: center;\n\talign-items: center;\n\tpadding: 0px;\n\tborder: none;\n\tbackground-color: white;\n\tcursor: pointer;\n}\n.ContextSeparator {\n\tdisplay: flex;\n\tmargin-left: 5px;\n\tmargin-right: 5px;\n\twidth: 1px;\n\tbackground-color: rgb(230, 230, 230);\n}\n.ContextButton:hover {\n\tcolor: blue;\n}\n.ContextText:hover {\n\tcolor: blue;\n}\n.ContextBar {\n\theight: 50px;\n\tdisplay: flex;\n\tcursor: pointer;\n\tbackground-color: white;\n\tborder-radius: 4px;\n\tbox-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n}\n"],sourceRoot:""}]);const s=a},375:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(15),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([e.id,".ToolButton {\n\twidth: 56px;\n\theight: 40px;\n\tpadding-left: 8px;\n\tpadding-right: 8px;\n\tmargin: 0px;\n\tborder: none;\n\tcursor: pointer;\n\tbackground-color: white;\n}\n.ToolButtonHighlight {\n\twidth: 56px;\n\theight: 40px;\n\tpadding-left: 8px;\n\tpadding-right: 8px;\n\tmargin: 0px;\n\tborder: none;\n\tcursor: pointer;\n\tbackground-color: white;\n\tcolor: blue;\n}\n.ToolButton:hover {\n\tcolor: blue;\n}\n.ToolIconOn {\n\tcolor: blue;\n}\n.ToolBar {\n\twidth: 56px;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tpadding-top: 4px;\n\tpadding-bottom: 4px;\n\tbackground-color: white;\n\tborder-radius: 4px;\n\tbox-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n}\n","",{version:3,sources:["webpack://./src/View/Overlays/Panels/ToolsPanel/Tools.css"],names:[],mappings:"AAAA;CACC,WAAW;CACX,YAAY;CACZ,iBAAiB;CACjB,kBAAkB;CAClB,WAAW;CACX,YAAY;CACZ,eAAe;CACf,uBAAuB;AACxB;AACA;CACC,WAAW;CACX,YAAY;CACZ,iBAAiB;CACjB,kBAAkB;CAClB,WAAW;CACX,YAAY;CACZ,eAAe;CACf,uBAAuB;CACvB,WAAW;AACZ;AACA;CACC,WAAW;AACZ;AACA;CACC,WAAW;AACZ;AACA;CACC,WAAW;CACX,aAAa;CACb,eAAe;CACf,gBAAgB;CAChB,mBAAmB;CACnB,uBAAuB;CACvB,kBAAkB;CAClB,4CAA4C;AAC7C",sourcesContent:[".ToolButton {\n\twidth: 56px;\n\theight: 40px;\n\tpadding-left: 8px;\n\tpadding-right: 8px;\n\tmargin: 0px;\n\tborder: none;\n\tcursor: pointer;\n\tbackground-color: white;\n}\n.ToolButtonHighlight {\n\twidth: 56px;\n\theight: 40px;\n\tpadding-left: 8px;\n\tpadding-right: 8px;\n\tmargin: 0px;\n\tborder: none;\n\tcursor: pointer;\n\tbackground-color: white;\n\tcolor: blue;\n}\n.ToolButton:hover {\n\tcolor: blue;\n}\n.ToolIconOn {\n\tcolor: blue;\n}\n.ToolBar {\n\twidth: 56px;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tpadding-top: 4px;\n\tpadding-bottom: 4px;\n\tbackground-color: white;\n\tborder-radius: 4px;\n\tbox-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n}\n"],sourceRoot:""}]);const s=a},90:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(15),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([e.id,".ZoomButton {\n\twidth: 36px;\n\theight: 48px;\n\tpadding: 0px;\n\tmargin: 0px;\n\tborder: none;\n\tcursor: pointer;\n\tbackground-color: white;\n\talign-items: center;\n\tjustify-content: center;\n}\n.ZoomText {\n\twidth: 56px;\n\theight: 48px;\n\tpadding: 0px;\n\tmargin: 0px;\n\tborder: none;\n\tcursor: pointer;\n\tbackground-color: white;\n\talign-items: center;\n\tjustify-content: center;\n}\n.ZoomButton:hover {\n\tcolor: blue;\n}\n.ZoomIcon:hover {\n\tcolor: blue;\n}\n.ZoomText:hover {\n\tcolor: blue;\n}\n.ZoomBar {\n\tdisplay: flex;\n\tposition: absolute;\n\tbottom: 8px;\n\tright: 8px;\n\tbackground-color: white;\n\tborder-radius: 4px;\n\tbox-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n\tpadding-left: 4px;\n\tpadding-right: 4px;\n}\n","",{version:3,sources:["webpack://./src/View/Overlays/Panels/ZoomPanel/Zoom.css"],names:[],mappings:"AAAA;CACC,WAAW;CACX,YAAY;CACZ,YAAY;CACZ,WAAW;CACX,YAAY;CACZ,eAAe;CACf,uBAAuB;CACvB,mBAAmB;CACnB,uBAAuB;AACxB;AACA;CACC,WAAW;CACX,YAAY;CACZ,YAAY;CACZ,WAAW;CACX,YAAY;CACZ,eAAe;CACf,uBAAuB;CACvB,mBAAmB;CACnB,uBAAuB;AACxB;AACA;CACC,WAAW;AACZ;AACA;CACC,WAAW;AACZ;AACA;CACC,WAAW;AACZ;AACA;CACC,aAAa;CACb,kBAAkB;CAClB,WAAW;CACX,UAAU;CACV,uBAAuB;CACvB,kBAAkB;CAClB,4CAA4C;CAC5C,iBAAiB;CACjB,kBAAkB;AACnB",sourcesContent:[".ZoomButton {\n\twidth: 36px;\n\theight: 48px;\n\tpadding: 0px;\n\tmargin: 0px;\n\tborder: none;\n\tcursor: pointer;\n\tbackground-color: white;\n\talign-items: center;\n\tjustify-content: center;\n}\n.ZoomText {\n\twidth: 56px;\n\theight: 48px;\n\tpadding: 0px;\n\tmargin: 0px;\n\tborder: none;\n\tcursor: pointer;\n\tbackground-color: white;\n\talign-items: center;\n\tjustify-content: center;\n}\n.ZoomButton:hover {\n\tcolor: blue;\n}\n.ZoomIcon:hover {\n\tcolor: blue;\n}\n.ZoomText:hover {\n\tcolor: blue;\n}\n.ZoomBar {\n\tdisplay: flex;\n\tposition: absolute;\n\tbottom: 8px;\n\tright: 8px;\n\tbackground-color: white;\n\tborder-radius: 4px;\n\tbox-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n\tpadding-left: 4px;\n\tpadding-right: 4px;\n}\n"],sourceRoot:""}]);const s=a},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},15:e=>{"use strict";function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e){var n=t(e,4),r=n[1],i=n[3];if(!i)return r;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),s="/*# ".concat(a," */"),l=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[r].concat(l).concat([s]).join("\n")}return[r].join("\n")}},681:function(e,t,n){var r,i;i=function(e){var t=["N","E","A","D"];function n(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,n){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function o(e,t){o.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function a(e,t){a.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function s(e,t,n){s.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function l(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function u(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function c(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}function h(e){var t=0,n=u(e);if("array"===n)return e.forEach((function(e){t+=h(e)})),t+c("[type: array, hash: "+t+"]");if("object"===n){for(var r in e)if(e.hasOwnProperty(r)){var i="[ type: object, key: "+r+", value hash: "+h(e[r])+"]";t+=c(i)}return t}return t+c("[ type: "+n+" ; value: "+e+"]")}function d(e,t,n,r,l,c,f,p){n=n||[],f=f||[];var g=(l=l||[]).slice(0);if(null!=c){if(r){if("function"==typeof r&&r(g,c))return;if("object"==typeof r){if(r.prefilter&&r.prefilter(g,c))return;if(r.normalize){var m=r.normalize(g,c,e,t);m&&(e=m[0],t=m[1])}}}g.push(c)}"regexp"===u(e)&&"regexp"===u(t)&&(e=e.toString(),t=t.toString());var y,v,b,x,w=typeof e,C=typeof t,S="undefined"!==w||f&&f.length>0&&f[f.length-1].lhs&&Object.getOwnPropertyDescriptor(f[f.length-1].lhs,c),k="undefined"!==C||f&&f.length>0&&f[f.length-1].rhs&&Object.getOwnPropertyDescriptor(f[f.length-1].rhs,c);if(!S&&k)n.push(new o(g,t));else if(!k&&S)n.push(new a(g,e));else if(u(e)!==u(t))n.push(new i(g,e,t));else if("date"===u(e)&&e-t!=0)n.push(new i(g,e,t));else if("object"===w&&null!==e&&null!==t){for(y=f.length-1;y>-1;--y)if(f[y].lhs===e){x=!0;break}if(x)e!==t&&n.push(new i(g,e,t));else{if(f.push({lhs:e,rhs:t}),Array.isArray(e)){for(p&&(e.sort((function(e,t){return h(e)-h(t)})),t.sort((function(e,t){return h(e)-h(t)}))),y=t.length-1,v=e.length-1;y>v;)n.push(new s(g,y,new o(void 0,t[y--])));for(;v>y;)n.push(new s(g,v,new a(void 0,e[v--])));for(;y>=0;--y)d(e[y],t[y],n,r,g,y,f,p)}else{var _=Object.keys(e),A=Object.keys(t);for(y=0;y<_.length;++y)b=_[y],(x=A.indexOf(b))>=0?(d(e[b],t[b],n,r,g,b,f,p),A[x]=null):d(e[b],void 0,n,r,g,b,f,p);for(y=0;y<A.length;++y)(b=A[y])&&d(void 0,t[b],n,r,g,b,f,p)}f.length=f.length-1}}else e!==t&&("number"===w&&isNaN(e)&&isNaN(t)||n.push(new i(g,e,t)))}function f(e,t,n,r,i){var o=[];if(d(e,t,o,r,null,null,null,i),n)for(var a=0;a<o.length;++a)n(o[a]);return o}function p(e,t,n,r,i,o,a){return d(e,t,n,r,i,o,a,!0)}function g(e,t,n,r){var i=f(e,t,r?function(e){e&&r.push(e)}:void 0,n);return r||(i.length?i:void 0)}function m(e,t,n,r){var i=f(e,t,r?function(e){e&&r.push(e)}:void 0,n,!0);return r||(i.length?i:void 0)}function y(e,t,n){if(n.path&&n.path.length){var r,i=e[t],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":y(i[n.path[r]],n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}else switch(n.kind){case"A":y(e[t],n.index,n.item);break;case"D":e=l(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function v(e,n,r){if(void 0===r&&n&&~t.indexOf(n.kind)&&(r=n),e&&r&&r.kind){for(var i=e,o=-1,a=r.path?r.path.length-1:0;++o<a;)void 0===i[r.path[o]]&&(i[r.path[o]]=void 0!==r.path[o+1]&&"number"==typeof r.path[o+1]?[]:{}),i=i[r.path[o]];switch(r.kind){case"A":r.path&&void 0===i[r.path[o]]&&(i[r.path[o]]=[]),y(r.path?i[r.path[o]]:i,r.index,r.item);break;case"D":delete i[r.path[o]];break;case"E":case"N":i[r.path[o]]=r.rhs}}}function b(e,t,n){if(n.path&&n.path.length){var r,i=e[t],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":b(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":b(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=l(e,t)}return e}function x(e,t,n){if(e&&t&&n&&n.kind){var r,i,o=e;for(i=n.path.length-1,r=0;r<i;r++)void 0===o[n.path[r]]&&(o[n.path[r]]={}),o=o[n.path[r]];switch(n.kind){case"A":b(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}}function w(e,t,n){e&&t&&f(e,t,(function(r){n&&!n(e,t,r)||v(e,t,r)}))}return n(i,r),n(o,r),n(a,r),n(s,r),Object.defineProperties(g,{diff:{value:g,enumerable:!0},orderIndependentDiff:{value:m,enumerable:!0},observableDiff:{value:f,enumerable:!0},orderIndependentObservableDiff:{value:p,enumerable:!0},orderIndepHash:{value:h,enumerable:!0},applyDiff:{value:w,enumerable:!0},applyChange:{value:v,enumerable:!0},revertChange:{value:x,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof $conflict},enumerable:!0}}),g.DeepDiff=g,e&&(e.DeepDiff=g),g}(this),void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)},418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,l=i(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))n.call(a,c)&&(l[c]=a[c]);if(t){s=t(a);for(var h=0;h<s.length;h++)r.call(a,s[h])&&(l[s[h]]=a[s[h]])}}return l}},666:(e,t,n)=>{"use strict";var r=n(842);function i(e,t,n,i,s,l){for(var u,c,h,d,f=e.data,p=[],g=e.toBBox,m=new r(void 0,o);f;){for(u=0;u<f.children.length;u++)c=f.children[u],h=a(t,n,f.leaf?g(c):c),(!l||h<=l*l)&&m.push({node:c,isItem:f.leaf,dist:h});for(;m.length&&m.peek().isItem;)if(d=m.pop().node,s&&!s(d)||p.push(d),i&&p.length===i)return p;(f=m.pop())&&(f=f.node)}return p}function o(e,t){return e.dist-t.dist}function a(e,t,n){var r=s(e,n.minX,n.maxX),i=s(t,n.minY,n.maxY);return r*r+i*i}function s(e,t,n){return e<t?t-e:e<=n?0:e-n}e.exports=i,e.exports.default=i},582:function(e){e.exports=function(){"use strict";function e(e,r,i,o,a){!function e(n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,l=r-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);e(n,r,Math.max(i,Math.floor(r-l*c/s+h)),Math.min(o,Math.floor(r+(s-l)*c/s+h)),a)}var d=n[r],f=i,p=o;for(t(n,i,r),a(n[o],d)>0&&t(n,i,o);f<p;){for(t(n,f,p),f++,p--;a(n[f],d)<0;)f++;for(;a(n[p],d)>0;)p--}0===a(n[i],d)?t(n,i,p):t(n,++p,o),p<=r&&(i=p+1),r<=p&&(o=p-1)}}(e,r,i||0,o||e.length-1,a||n)}function t(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function n(e,t){return e<t?-1:e>t?1:0}var r=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function o(e,t){a(e,0,e.children.length,t,e)}function a(e,t,n,r,i){i||(i=p(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=t;o<n;o++){var a=e.children[o];s(i,e.leaf?r(a):a)}return i}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function u(e,t){return e.minY-t.minY}function c(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function h(e){return e.maxX-e.minX+(e.maxY-e.minY)}function d(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function f(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function p(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,n,r,i,o){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=i)){var s=n+Math.ceil((r-n)/i/2)*i;e(t,s,n,r,o),a.push(n,s,s,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(e){var t=this.data,n=[];if(!f(e,t))return n;for(var r=this.toBBox,i=[];t;){for(var o=0;o<t.children.length;o++){var a=t.children[o],s=t.leaf?r(a):a;f(e,s)&&(t.leaf?n.push(a):d(e,s)?this._all(a,n):i.push(a))}t=i.pop()}return n},r.prototype.collides=function(e){var t=this.data;if(!f(e,t))return!1;for(var n=[];t;){for(var r=0;r<t.children.length;r++){var i=t.children[r],o=t.leaf?this.toBBox(i):i;if(f(e,o)){if(t.leaf||d(e,o))return!0;n.push(i)}}t=n.pop()}return!1},r.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(e,t){if(!e)return this;for(var n,r,o,a=this.data,s=this.toBBox(e),l=[],u=[];a||l.length;){if(a||(a=l.pop(),r=l[l.length-1],n=u.pop(),o=!0),a.leaf){var c=i(e,a.children,t);if(-1!==c)return a.children.splice(c,1),l.push(a),this._condense(l),this}o||a.leaf||!d(a,s)?r?(n++,a=r.children[n],o=!1):a=null:(l.push(a),u.push(n),n=0,r=a,a=a.children[0])}return this},r.prototype.toBBox=function(e){return e},r.prototype.compareMinX=function(e,t){return e.minX-t.minX},r.prototype.compareMinY=function(e,t){return e.minY-t.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(e){return this.data=e,this},r.prototype._all=function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},r.prototype._build=function(e,t,n,r){var i,a=n-t+1,s=this._maxEntries;if(a<=s)return o(i=p(e.slice(t,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),(i=p([])).leaf=!1,i.height=r;var l=Math.ceil(a/s),u=l*Math.ceil(Math.sqrt(s));g(e,t,n,u,this.compareMinX);for(var c=t;c<=n;c+=u){var h=Math.min(c+u-1,n);g(e,c,h,l,this.compareMinY);for(var d=c;d<=h;d+=l){var f=Math.min(d+l-1,h);i.children.push(this._build(e,d,f,r-1))}}return o(i,this.toBBox),i},r.prototype._chooseSubtree=function(e,t,n,r){for(;r.push(t),!t.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,a=void 0,s=0;s<t.children.length;s++){var l=t.children[s],u=c(l),h=(d=e,f=l,(Math.max(f.maxX,d.maxX)-Math.min(f.minX,d.minX))*(Math.max(f.maxY,d.maxY)-Math.min(f.minY,d.minY))-u);h<o?(o=h,i=u<i?u:i,a=l):h===o&&u<i&&(i=u,a=l)}t=a||t.children[0]}var d,f;return t},r.prototype._insert=function(e,t,n){var r=n?e:this.toBBox(e),i=[],o=this._chooseSubtree(r,this.data,t,i);for(o.children.push(e),s(o,r);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(r,i,t)},r.prototype._split=function(e,t){var n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var a=this._chooseSplitIndex(n,i,r),s=p(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,o(n,this.toBBox),o(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},r.prototype._splitRoot=function(e,t){this.data=p([e,t]),this.data.height=e.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(e,t,n){for(var r,i,o,s,l,u,h,d=1/0,f=1/0,p=t;p<=n-t;p++){var g=a(e,0,p,this.toBBox),m=a(e,p,n,this.toBBox),y=(i=g,o=m,s=void 0,l=void 0,u=void 0,h=void 0,s=Math.max(i.minX,o.minX),l=Math.max(i.minY,o.minY),u=Math.min(i.maxX,o.maxX),h=Math.min(i.maxY,o.maxY),Math.max(0,u-s)*Math.max(0,h-l)),v=c(g)+c(m);y<d?(d=y,r=p,f=v<f?v:f):y===d&&v<f&&(f=v,r=p)}return r||n-t},r.prototype._chooseSplitAxis=function(e,t,n){var r=e.leaf?this.compareMinX:l,i=e.leaf?this.compareMinY:u;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)},r.prototype._allDistMargin=function(e,t,n,r){e.children.sort(r);for(var i=this.toBBox,o=a(e,0,t,i),l=a(e,n-t,n,i),u=h(o)+h(l),c=t;c<n-t;c++){var d=e.children[c];s(o,e.leaf?i(d):d),u+=h(o)}for(var f=n-t-1;f>=t;f--){var p=e.children[f];s(l,e.leaf?i(p):p),u+=h(l)}return u},r.prototype._adjustParentBBoxes=function(e,t,n){for(var r=n;r>=0;r--)s(t[r],e)},r.prototype._condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():o(e[t],this.toBBox)},r}()},448:(e,t,n)=>{"use strict";var r=n(294),i=n(418),o=n(840);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},g={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(g,e)||!f.call(p,e)&&(d.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=60103,S=60106,k=60107,_=60108,A=60114,E=60109,P=60110,T=60112,M=60113,B=60120,O=60115,L=60116,z=60121,I=60128,R=60129,N=60130,D=60131;if("function"==typeof Symbol&&Symbol.for){var F=Symbol.for;C=F("react.element"),S=F("react.portal"),k=F("react.fragment"),_=F("react.strict_mode"),A=F("react.profiler"),E=F("react.provider"),P=F("react.context"),T=F("react.forward_ref"),M=F("react.suspense"),B=F("react.suspense_list"),O=F("react.memo"),L=F("react.lazy"),z=F("react.block"),F("react.scope"),I=F("react.opaque.id"),R=F("react.debug_trace_mode"),N=F("react.offscreen"),D=F("react.legacy_hidden")}var j,G="function"==typeof Symbol&&Symbol.iterator;function W(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=G&&e[G]||e["@@iterator"])?e:null}function H(e){if(void 0===j)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var U=!1;function Y(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?H(e):""}function X(e){switch(e.tag){case 5:return H(e.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return e=Y(e.type,!1);case 11:return e=Y(e.type.render,!1);case 22:return e=Y(e.type._render,!1);case 1:return e=Y(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case A:return"Profiler";case _:return"StrictMode";case M:return"Suspense";case B:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return V(e.type);case z:return V(e._render);case L:t=e._payload,e=e._init;try{return V(e(t))}catch(e){}}return null}function q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ue(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ge,me,ye=(me=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((ge=ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Ce(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){xe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ae(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Pe=null,Te=null;function Me(e){if(e=ri(e)){if("function"!=typeof Ee)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),Ee(e.stateNode,e.type,t))}}function Be(e){Pe?Te?Te.push(e):Te=[e]:Pe=e}function Oe(){if(Pe){var e=Pe,t=Te;if(Te=Pe=null,Me(e),t)for(e=0;e<t.length;e++)Me(t[e])}}function Le(e,t){return e(t)}function ze(e,t,n,r,i){return e(t,n,r,i)}function Ie(){}var Re=Le,Ne=!1,De=!1;function Fe(){null===Pe&&null===Te||(Ie(),Oe())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Ge=!1;if(h)try{var We={};Object.defineProperty(We,"passive",{get:function(){Ge=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch(me){Ge=!1}function He(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Ue=!1,Ye=null,Xe=!1,Ve=null,qe={onError:function(e){Ue=!0,Ye=e}};function Qe(e,t,n,r,i,o,a,s,l){Ue=!1,Ye=null,He.apply(qe,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if($e(e)!==e)throw Error(a(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,lt=null,ut=null,ct=new Map,ht=new Map,dt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function gt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ze(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){vt(e)&&n.delete(t)}function xt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&vt(st)&&(st=null),null!==lt&&vt(lt)&&(lt=null),null!==ut&&vt(ut)&&(ut=null),ct.forEach(bt),ht.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,xt)))}function Ct(e){function t(t){return wt(t,e)}if(0<at.length){wt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==lt&&wt(lt,e),null!==ut&&wt(ut,e),ct.forEach(t),ht.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)yt(n),null===n.blockedOn&&dt.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},_t={},At={};function Et(e){if(_t[e])return _t[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in At)return _t[e]=n[t];return e}h&&(At=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var Pt=Et("animationend"),Tt=Et("animationiteration"),Mt=Et("animationstart"),Bt=Et("transitionend"),Ot=new Map,Lt=new Map,zt=["abort","abort",Pt,"animationEnd",Tt,"animationIteration",Mt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Bt,"transitionEnd","waiting","waiting"];function It(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Lt.set(r,t),Ot.set(r,i),u(i,[r])}}(0,o.unstable_now)();var Rt=8;function Nt(e){if(0!=(1&e))return Rt=15,1;if(0!=(2&e))return Rt=14,2;if(0!=(4&e))return Rt=13,4;var t=24&e;return 0!==t?(Rt=12,t):0!=(32&e)?(Rt=11,32):0!==(t=192&e)?(Rt=10,t):0!=(256&e)?(Rt=9,256):0!==(t=3584&e)?(Rt=8,t):0!=(4096&e)?(Rt=7,4096):0!==(t=4186112&e)?(Rt=6,t):0!==(t=62914560&e)?(Rt=5,t):67108864&e?(Rt=4,67108864):0!=(134217728&e)?(Rt=3,134217728):0!==(t=805306368&e)?(Rt=2,t):0!=(1073741824&e)?(Rt=1,1073741824):(Rt=8,e)}function Dt(e,t){var n=e.pendingLanes;if(0===n)return Rt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Rt=15;else if(0!==(o=134217727&n)){var l=o&~a;0!==l?(r=Nt(l),i=Rt):0!==(s&=o)&&(r=Nt(s),i=Rt)}else 0!==(o=n&~a)?(r=Nt(o),i=Rt):0!==s&&(r=Nt(s),i=Rt);if(0===r)return 0;if(r=n&((0>(r=31-Ut(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Nt(t),i<=Rt)return t;Rt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ut(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Gt(24&~t))?jt(10,t):e;case 10:return 0===(e=Gt(192&~t))?jt(8,t):e;case 8:return 0===(e=Gt(3584&~t))&&(0===(e=Gt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Gt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Gt(e){return e&-e}function Wt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ht(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ut(t)]=n}var Ut=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Yt(e)/Xt|0)|0},Yt=Math.log,Xt=Math.LN2;var Vt=o.unstable_UserBlockingPriority,qt=o.unstable_runWithPriority,Qt=!0;function $t(e,t,n,r){Ne||Ie();var i=Kt,o=Ne;Ne=!0;try{ze(i,e,t,n,r)}finally{(Ne=o)||Fe()}}function Zt(e,t,n,r){qt(Vt,Kt.bind(null,e,t,n,r))}function Kt(e,t,n,r){var i;if(Qt)if((i=0==(4&t))&&0<at.length&&-1<ft.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=Jt(e,t,n,r);if(null===o)i&&gt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return lt=mt(lt,e,t,n,r,i),!0;case"mouseover":return ut=mt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ht.set(o,mt(ht.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;gt(e,r)}Ir(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Ae(r);if(null!==(i=ni(i))){var o=$e(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ze(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Ir(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function ln(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var un,cn,hn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=ln(dn),pn=i({},dn,{view:0,detail:0}),gn=ln(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(un=e.screenX-hn.screenX,cn=e.screenY-hn.screenY):cn=un=0,hn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),yn=ln(mn),vn=ln(i({},mn,{dataTransfer:0})),bn=ln(i({},pn,{relatedTarget:0})),xn=ln(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cn=ln(wn),Sn=ln(i({},dn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=An[e])&&!!t[e]}function Pn(){return En}var Tn=i({},pn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=ln(Tn),Bn=ln(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=ln(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pn})),Ln=ln(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),zn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=ln(zn),Rn=[9,13,27,32],Nn=h&&"CompositionEvent"in window,Dn=null;h&&"documentMode"in document&&(Dn=document.documentMode);var Fn=h&&"TextEvent"in window&&!Dn,jn=h&&(!Nn||Dn&&8<Dn&&11>=Dn),Gn=String.fromCharCode(32),Wn=!1;function Hn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Yn=!1;var Xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Xn[e.type]:"textarea"===t}function qn(e,t,n,r){Be(r),0<(t=Nr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,$n=null;function Zn(e){Tr(e,0)}function Kn(e){if(Z(ii(e)))return e}function Jn(e,t){if("change"===e)return t}var er=!1;if(h){var tr;if(h){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"==typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",or),$n=Qn=null)}function or(e){if("value"===e.propertyName&&Kn($n)){var t=[];if(qn(t,$n,e,Ae(e)),e=Zn,Ne)e(t);else{Ne=!0;try{Le(e,t)}finally{Ne=!1,Fe()}}}}function ar(e,t,n){"focusin"===e?(ir(),$n=n,(Qn=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn($n)}function lr(e,t){if("click"===e)return Kn(t)}function ur(e,t){if("input"===e||"change"===e)return Kn(t)}var cr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},hr=Object.prototype.hasOwnProperty;function dr(e,t){if(cr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!hr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function gr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?gr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=h&&"documentMode"in document&&11>=document.documentMode,br=null,xr=null,wr=null,Cr=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Cr||null==br||br!==K(r)||("selectionStart"in(r=br)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&dr(wr,r)||(wr=r,0<(r=Nr(xr,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}It("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),It("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),It(zt,2);for(var kr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<kr.length;_r++)Lt.set(kr[_r],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Er=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ar));function Pr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,u){if(Qe.apply(this,arguments),Ue){if(!Ue)throw Error(a(198));var c=Ye;Ue=!1,Ye=null,Xe||(Xe=!0,Ve=c)}}(r,t,void 0,e),e.currentTarget=null}function Tr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Pr(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Pr(i,s,u),o=l}}}if(Xe)throw e=Ve,Xe=!1,Ve=null,e}function Mr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}var Br="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Br]||(e[Br]=!0,s.forEach((function(t){Er.has(t)||Lr(t,!1,e,null),Lr(t,!0,e,null)})))}function Lr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Er.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),zr(o,e,i,t),a.add(s))}function zr(e,t,n,r){var i=Lt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Zt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Ge||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ir(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(De)return e(t,n);De=!0;try{Re(e,t,n)}finally{De=!1,Fe()}}((function(){var r=o,i=Ae(n),a=[];e:{var s=Ot.get(e);if(void 0!==s){var l=fn,u=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":l=Mn;break;case"focusin":u="focus",l=bn;break;case"focusout":u="blur",l=bn;break;case"beforeblur":case"afterblur":l=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case Pt:case Tt:case Mt:l=xn;break;case Bt:l=Ln;break;case"scroll":l=gn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=Cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Bn}var c=0!=(4&t),h=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=je(p,d))&&c.push(Rr(p,g,f)))),h)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!ni(u)&&!u[ei])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ni(u):null)&&(u!==(h=$e(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=yn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Bn,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?s:ii(l),f=null==u?s:ii(u),(s=new c(g,p+"leave",l,n,i)).target=h,s.relatedTarget=f,g=null,ni(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,g=c),h=g,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Dr(f))p++;for(f=0,g=d;g;g=Dr(g))f++;for(;0<p-f;)c=Dr(c),p--;for(;0<f-p;)d=Dr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Dr(c),d=Dr(d)}c=null}else c=null;null!==l&&Fr(a,s,l,c,!1),null!==u&&null!==h&&Fr(a,h,u,c,!0)}if("select"===(l=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Jn;else if(Vn(s))if(er)m=ur;else{m=sr;var y=ar}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=lr);switch(m&&(m=m(e,r))?qn(a,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Vn(y)||"true"===y.contentEditable)&&(br=y,xr=r,wr=null);break;case"focusout":wr=xr=br=null;break;case"mousedown":Cr=!0;break;case"contextmenu":case"mouseup":case"dragend":Cr=!1,Sr(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":Sr(a,n,i)}var v;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Yn?Hn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Yn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Yn&&(v=rn()):(tn="value"in(en=i)?en.value:en.textContent,Yn=!0)),0<(y=Nr(r,b)).length&&(b=new Sn(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Un(n))&&(b.data=v))),(v=Fn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Wn=!0,Gn);case"textInput":return(e=t.data)===Gn&&Wn?null:e;default:return null}}(e,n):function(e,t){if(Yn)return"compositionend"===e||!Nn&&Hn(e,t)?(e=rn(),nn=tn=en=null,Yn=!1,e):null;switch(e){default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Nr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Tr(a,t)}))}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=je(e,n))&&r.unshift(Rr(e,o,i)),null!=(o=je(e,t))&&r.push(Rr(e,o,i))),e=e.return}return r}function Dr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=je(n,o))&&a.unshift(Rr(n,l,s)):i||null!=(l=je(n,o))&&a.push(Rr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function jr(){}var Gr=null,Wr=null;function Hr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ur(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Yr="function"==typeof setTimeout?setTimeout:void 0,Xr="function"==typeof clearTimeout?clearTimeout:void 0;function Vr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Zr=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Zr,Jr="__reactProps$"+Zr,ei="__reactContainer$"+Zr,ti="__reactEvents$"+Zr;function ni(e){var t=e[Kr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Kr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Kr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Kr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[Jr]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],li=-1;function ui(e){return{current:e}}function ci(e){0>li||(e.current=si[li],si[li]=null,li--)}function hi(e,t){li++,si[li]=e.current,e.current=t}var di={},fi=ui(di),pi=ui(!1),gi=di;function mi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function yi(e){return null!=(e=e.childContextTypes)}function vi(){ci(pi),ci(fi)}function bi(e,t,n){if(fi.current!==di)throw Error(a(168));hi(fi,t),hi(pi,n)}function xi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,V(t)||"Unknown",o));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,gi=fi.current,hi(fi,e),hi(pi,pi.current),!0}function Ci(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=xi(e,t,gi),r.__reactInternalMemoizedMergedChildContext=e,ci(pi),ci(fi),hi(fi,e)):ci(pi),hi(pi,n)}var Si=null,ki=null,_i=o.unstable_runWithPriority,Ai=o.unstable_scheduleCallback,Ei=o.unstable_cancelCallback,Pi=o.unstable_shouldYield,Ti=o.unstable_requestPaint,Mi=o.unstable_now,Bi=o.unstable_getCurrentPriorityLevel,Oi=o.unstable_ImmediatePriority,Li=o.unstable_UserBlockingPriority,zi=o.unstable_NormalPriority,Ii=o.unstable_LowPriority,Ri=o.unstable_IdlePriority,Ni={},Di=void 0!==Ti?Ti:function(){},Fi=null,ji=null,Gi=!1,Wi=Mi(),Hi=1e4>Wi?Mi:function(){return Mi()-Wi};function Ui(){switch(Bi()){case Oi:return 99;case Li:return 98;case zi:return 97;case Ii:return 96;case Ri:return 95;default:throw Error(a(332))}}function Yi(e){switch(e){case 99:return Oi;case 98:return Li;case 97:return zi;case 96:return Ii;case 95:return Ri;default:throw Error(a(332))}}function Xi(e,t){return e=Yi(e),_i(e,t)}function Vi(e,t,n){return e=Yi(e),Ai(e,t,n)}function qi(){if(null!==ji){var e=ji;ji=null,Ei(e)}Qi()}function Qi(){if(!Gi&&null!==Fi){Gi=!0;var e=0;try{var t=Fi;Xi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(t){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ai(Oi,qi),t}finally{Gi=!1}}}var $i=w.ReactCurrentBatchConfig;function Zi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ki=ui(null),Ji=null,eo=null,to=null;function no(){to=eo=Ji=null}function ro(e){var t=Ki.current;ci(Ki),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Ji=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Na=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Ji)throw Error(a(308));eo=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ho(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?a=c:s.next=c,s=u;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==s&&(null===d?h.firstBaseUpdate=c:d.next=c,h.lastBaseUpdate=u)}}if(null!==a){for(d=o.baseState,s=0,h=c=u=null;;){l=a.lane;var f=a.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(l=t,f=n,g.tag){case 1:if("function"==typeof(p=g.payload)){d=p.call(f,d,l);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(l="function"==typeof(p=g.payload)?p.call(f,d,l):p))break e;d=i({},d,l);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else f={eventTime:f,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(c=h=f,u=d):h=h.next=f,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===h&&(u=d),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=h,Gs|=s,e.lanes=s,e.memoizedState=d}}function go(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var mo=(new r.Component).refs;function yo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var vo={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dl(),i=fl(e),o=co(r,i);o.payload=t,null!=n&&(o.callback=n),ho(e,o),pl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dl(),i=fl(e),o=co(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),ho(e,o),pl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dl(),r=fl(e),i=co(n,r);i.tag=2,null!=t&&(i.callback=t),ho(e,i),pl(e,r,n)}};function bo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,o))}function xo(e,t,n){var r=!1,i=di,o=t.contextType;return"object"==typeof o&&null!==o?o=ao(o):(i=yi(t)?gi:fi.current,o=(r=null!=(r=t.contextTypes))?mi(e,i):di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function Co(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,lo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=ao(o):(o=yi(t)?gi:fi.current,i.context=mi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(yo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&vo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var So=Array.isArray;function ko(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function _o(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ao(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Xl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=$l(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ko(e,t,n),r.return=e,r):((r=Vl(n.type,n.key,n.props,null,e.mode,r)).ref=ko(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Zl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=ql(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=$l(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case C:return(n=Vl(t.type,t.key,t.props,null,e.mode,n)).ref=ko(e,null,t),n.return=e,n;case S:return(t=Zl(t,e.mode,n)).return=e,t}if(So(t)||W(t))return(t=ql(t,e.mode,n,null)).return=e,t;_o(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case C:return n.key===i?n.type===k?h(e,t,n.props.children,r,i):u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null}if(So(n)||W(n))return null!==i?null:h(e,t,n,r,null);_o(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case C:return e=e.get(null===r.key?n:r.key)||null,r.type===k?h(t,e,r.props.children,i,r.key):u(t,e,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(So(r)||W(r))return h(t,e=e.get(n)||null,r,i,null);_o(t,r)}return null}function g(i,a,s,l){for(var u=null,c=null,h=a,g=a=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=f(i,h,s[g],l);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),a=o(y,a,g),null===c?u=y:c.sibling=y,c=y,h=m}if(g===s.length)return n(i,h),u;if(null===h){for(;g<s.length;g++)null!==(h=d(i,s[g],l))&&(a=o(h,a,g),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(i,h);g<s.length;g++)null!==(m=p(h,i,g,s[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),a=o(m,a,g),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(i,e)})),u}function m(i,s,l,u){var c=W(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var h=c=null,g=s,m=s=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=f(i,g,v.value,u);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(i,g),s=o(b,s,m),null===h?c=b:h.sibling=b,h=b,g=y}if(v.done)return n(i,g),c;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=d(i,v.value,u))&&(s=o(v,s,m),null===h?c=v:h.sibling=v,h=v);return c}for(g=r(i,g);!v.done;m++,v=l.next())null!==(v=p(g,i,m,v.value,u))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),s=o(v,s,m),null===h?c=v:h.sibling=v,h=v);return e&&g.forEach((function(e){return t(i,e)})),c}return function(e,r,o,l){var u="object"==typeof o&&null!==o&&o.type===k&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case C:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(o.type===k){n(e,u.sibling),(r=i(u,o.props.children)).return=e,e=r;break e}}else if(u.elementType===o.type){n(e,u.sibling),(r=i(u,o.props)).ref=ko(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===k?((r=ql(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Vl(o.type,o.key,o.props,null,e.mode,l)).ref=ko(e,r,o),l.return=e,e=l)}return s(e);case S:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Zl(o,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=$l(o,e.mode,l)).return=e,e=r),s(e);if(So(o))return g(e,r,o,l);if(W(o))return m(e,r,o,l);if(c&&_o(e,o),void 0===o&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,V(e.type)||"Component"))}return n(e,r)}}var Eo=Ao(!0),Po=Ao(!1),To={},Mo=ui(To),Bo=ui(To),Oo=ui(To);function Lo(e){if(e===To)throw Error(a(174));return e}function zo(e,t){switch(hi(Oo,t),hi(Bo,e),hi(Mo,To),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Mo),hi(Mo,t)}function Io(){ci(Mo),ci(Bo),ci(Oo)}function Ro(e){Lo(Oo.current);var t=Lo(Mo.current),n=pe(t,e.type);t!==n&&(hi(Bo,e),hi(Mo,n))}function No(e){Bo.current===e&&(ci(Mo),ci(Bo))}var Do=ui(0);function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jo=null,Go=null,Wo=!1;function Ho(e,t){var n=Ul(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Uo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Yo(e){if(Wo){var t=Go;if(t){var n=t;if(!Uo(e,t)){if(!(t=qr(n.nextSibling))||!Uo(e,t))return e.flags=-1025&e.flags|2,Wo=!1,void(jo=e);Ho(jo,n)}jo=e,Go=qr(t.firstChild)}else e.flags=-1025&e.flags|2,Wo=!1,jo=e}}function Xo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;jo=e}function Vo(e){if(e!==jo)return!1;if(!Wo)return Xo(e),Wo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ur(t,e.memoizedProps))for(t=Go;t;)Ho(e,t),t=qr(t.nextSibling);if(Xo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Go=qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Go=null}}else Go=jo?qr(e.stateNode.nextSibling):null;return!0}function qo(){Go=jo=null,Wo=!1}var Qo=[];function $o(){for(var e=0;e<Qo.length;e++)Qo[e]._workInProgressVersionPrimary=null;Qo.length=0}var Zo=w.ReactCurrentDispatcher,Ko=w.ReactCurrentBatchConfig,Jo=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,i,o){if(Jo=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zo.current=null===e||null===e.memoizedState?La:za,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,Zo.current=Ia,e=n(r,i)}while(ia)}if(Zo.current=Oa,t=null!==ta&&null!==ta.next,Jo=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function la(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ua(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function ca(e,t){return"function"==typeof t?t(e):t}function ha(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,u=i;do{var c=u.lane;if((Jo&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=h,o=r):l=l.next=h,ea.lanes|=c,Gs|=c}u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=s,cr(r,t.memoizedState)||(Na=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function da(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);cr(o,t.memoizedState)||(Na=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function fa(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Jo&e)===e)&&(t._workInProgressVersionPrimary=r,Qo.push(t))),e)return n(t._source);throw Qo.push(t),Error(a(350))}function pa(e,t,n,r){var i=Ls;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),l=Zo.current,u=l.useState((function(){return fa(i,t,n)})),c=u[1],h=u[0];u=na;var d=e.memoizedState,f=d.refs,p=f.getSnapshot,g=d.source;d=d.subscribe;var m=ea;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=c;var e=o(t._source);if(!cr(s,e)){e=n(t._source),cr(h,e)||(c(e),e=fl(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var l=31-Ut(a),u=1<<l;r[l]|=e,a&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=fl(m);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),cr(p,n)&&cr(g,t)&&cr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:h}).dispatch=c=Ba.bind(null,ea,e),u.queue=e,u.baseQueue=null,h=fa(i,t,n),u.memoizedState=u.baseState=h),h}function ga(e,t,n){return pa(ua(),e,t,n)}function ma(e){var t=la();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e}).dispatch=Ba.bind(null,ea,e),[t.memoizedState,e]}function ya(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function va(e){return e={current:e},la().memoizedState=e}function ba(){return ua().memoizedState}function xa(e,t,n,r){var i=la();ea.flags|=e,i.memoizedState=ya(1|t,n,void 0,void 0===r?null:r)}function wa(e,t,n,r){var i=ua();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ya(t,n,o,r)}ea.flags|=e,i.memoizedState=ya(1|t,n,o,r)}function Ca(e,t){return xa(516,4,e,t)}function Sa(e,t){return wa(516,4,e,t)}function ka(e,t){return wa(4,2,e,t)}function _a(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Aa(e,t,n){return n=null!=n?n.concat([e]):null,wa(4,2,_a.bind(null,t,e),n)}function Ea(){}function Pa(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ta(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ma(e,t){var n=Ui();Xi(98>n?98:n,(function(){e(!0)})),Xi(97<n?97:n,(function(){var n=Ko.transition;Ko.transition=1;try{e(!1),t()}finally{Ko.transition=n}}))}function Ba(e,t,n){var r=dl(),i=fl(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,cr(l,s))return}catch(e){}pl(e,i,r)}}var Oa={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},La={readContext:ao,useCallback:function(e,t){return la().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:Ca,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,xa(4,2,_a.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xa(4,2,e,t)},useMemo:function(e,t){var n=la();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=la();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ba.bind(null,ea,e),[r.memoizedState,e]},useRef:va,useState:ma,useDebugValue:Ea,useDeferredValue:function(e){var t=ma(e),n=t[0],r=t[1];return Ca((function(){var t=Ko.transition;Ko.transition=1;try{r(e)}finally{Ko.transition=t}}),[e]),n},useTransition:function(){var e=ma(!1),t=e[0];return va(e=Ma.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=la();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(Wo){var e=!1,t=function(e){return{$$typeof:I,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(a(355))})),n=ma(t)[1];return 0==(2&ea.mode)&&(ea.flags|=516,ya(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return ma(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},za={readContext:ao,useCallback:Pa,useContext:ao,useEffect:Sa,useImperativeHandle:Aa,useLayoutEffect:ka,useMemo:Ta,useReducer:ha,useRef:ba,useState:function(){return ha(ca)},useDebugValue:Ea,useDeferredValue:function(e){var t=ha(ca),n=t[0],r=t[1];return Sa((function(){var t=Ko.transition;Ko.transition=1;try{r(e)}finally{Ko.transition=t}}),[e]),n},useTransition:function(){var e=ha(ca)[0];return[ba().current,e]},useMutableSource:ga,useOpaqueIdentifier:function(){return ha(ca)[0]},unstable_isNewReconciler:!1},Ia={readContext:ao,useCallback:Pa,useContext:ao,useEffect:Sa,useImperativeHandle:Aa,useLayoutEffect:ka,useMemo:Ta,useReducer:da,useRef:ba,useState:function(){return da(ca)},useDebugValue:Ea,useDeferredValue:function(e){var t=da(ca),n=t[0],r=t[1];return Sa((function(){var t=Ko.transition;Ko.transition=1;try{r(e)}finally{Ko.transition=t}}),[e]),n},useTransition:function(){var e=da(ca)[0];return[ba().current,e]},useMutableSource:ga,useOpaqueIdentifier:function(){return da(ca)[0]},unstable_isNewReconciler:!1},Ra=w.ReactCurrentOwner,Na=!1;function Da(e,t,n,r){t.child=null===e?Po(t,null,n,r):Eo(t,e.child,n,r)}function Fa(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=sa(e,t,n,r,o,i),null===e||Na?(t.flags|=1,Da(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function ja(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Yl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Vl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ga(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=Xl(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ga(e,t,n,r,i,o){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Na=!1,0==(o&i))return t.lanes=e.lanes,os(e,t,o);0!=(16384&e.flags)&&(Na=!0)}return Ua(e,t,n,r,o)}function Wa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},Cl(t,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Cl(t,e),null;t.memoizedState={baseLanes:0},Cl(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Cl(t,r);return Da(e,t,i,n),t.child}function Ha(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ua(e,t,n,r,i){var o=yi(n)?gi:fi.current;return o=mi(t,o),oo(t,i),n=sa(e,t,n,r,o,i),null===e||Na?(t.flags|=1,Da(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ya(e,t,n,r,i){if(yi(n)){var o=!0;wi(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),xo(t,n,r),Co(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=ao(u):u=mi(t,u=yi(n)?gi:fi.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&wo(t,a,r,u),so=!1;var d=t.memoizedState;a.state=d,po(t,r,a,i),l=t.memoizedState,s!==r||d!==l||pi.current||so?("function"==typeof c&&(yo(t,n,c,r),l=t.memoizedState),(s=so||bo(t,n,s,r,d,l,u))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,uo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Zi(t.type,s),a.props=u,h=t.pendingProps,d=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=ao(l):l=mi(t,l=yi(n)?gi:fi.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==h||d!==l)&&wo(t,a,r,l),so=!1,d=t.memoizedState,a.state=d,po(t,r,a,i);var p=t.memoizedState;s!==h||d!==p||pi.current||so?("function"==typeof f&&(yo(t,n,f,r),p=t.memoizedState),(u=so||bo(t,n,u,r,d,p,l))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Xa(e,t,n,r,o,i)}function Xa(e,t,n,r,i,o){Ha(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&Ci(t,n,!1),os(e,t,o);r=t.stateNode,Ra.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Eo(t,e.child,null,o),t.child=Eo(t,null,s,o)):Da(e,t,s,o),t.memoizedState=r.state,i&&Ci(t,n,!0),t.child}function Va(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),zo(e,t.containerInfo)}var qa,Qa,$a,Za={dehydrated:null,retryLane:0};function Ka(e,t,n){var r,i=t.pendingProps,o=Do.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),hi(Do,1&o),null===e?(void 0!==i.fallback&&Yo(t),e=i.children,o=i.fallback,a?(e=Ja(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Za,e):"number"==typeof i.unstable_expectedLoadTime?(e=Ja(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Za,t.lanes=33554432,e):((n=Ql({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Za,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Ja(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Ql(t,i,0,null),n=ql(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Xl(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Xl(a,s),null!==e?r=Xl(e,r):(r=ql(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Da(e,t,r.children,n),0!=(2&(r=Do.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(hi(Do,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Gs|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Xl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Xl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!Wo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&vi(),null;case 3:return Io(),ci(pi),ci(fi),$o(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Vo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:No(t);var o=Lo(Oo.current);if(n=t.type,null!==e&&null!=t.stateNode)Qa(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Lo(Mo.current),Vo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Kr]=t,r[Jr]=s,n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(e=0;e<Ar.length;e++)Mr(Ar[e],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":ee(r,s),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Mr("invalid",r);break;case"textarea":le(r,s),Mr("invalid",r)}for(var u in ke(n,s),e=null,s)s.hasOwnProperty(u)&&(o=s[u],"children"===u?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&Mr("scroll",r));switch(n){case"input":$(r),re(r,s,!0);break;case"textarea":$(r),ce(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,e===he&&(e=fe(n)),e===he?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Kr]=t,e[Jr]=r,qa(e,t),t.stateNode=e,u=_e(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),o=r;break;case"iframe":case"object":case"embed":Mr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ar.length;o++)Mr(Ar[o],e);o=r;break;case"source":Mr("error",e),o=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),o=r;break;case"details":Mr("toggle",e),o=r;break;case"input":ee(e,r),o=J(e,r),Mr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":le(e,r),o=se(e,r),Mr("invalid",e);break;default:o=r}ke(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];"style"===s?Ce(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ye(e,h):"children"===s?"string"==typeof h?("textarea"!==n||""!==h)&&ve(e,h):"number"==typeof h&&ve(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Mr("scroll",e):null!=h&&x(e,s,h,u))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=jr)}Hr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$a(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Lo(Oo.current),Lo(Mo.current),Vo(t)?(r=t.stateNode,n=t.memoizedProps,r[Kr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Kr]=t,t.stateNode=r)}return null;case 13:return ci(Do),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Vo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Do.current)?0===Ds&&(Ds=3):(0!==Ds&&3!==Ds||(Ds=4),null===Ls||0==(134217727&Gs)&&0==(134217727&Ws)||vl(Ls,Is))),(r||n)&&(t.flags|=4),null);case 4:return Io(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(ci(Do),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(u=r.rendering))if(s)as(r,!1);else{if(0!==Ds||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Fo(e))){for(t.flags|=64,as(r,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return hi(Do,1&Do.current|2),t.child}e=e.sibling}null!==r.tail&&Hi()>Xs&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fo(u))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Wo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Hi()-r.renderingStartTime>Xs&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Hi(),n.sibling=null,t=Do.current,hi(Do,s?1&t|2:1&t),n):null;case 23:case 24:return Sl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function ls(e){switch(e.tag){case 1:yi(e.type)&&vi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Io(),ci(pi),ci(fi),$o(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return No(e),null;case 13:return ci(Do),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Do),null;case 4:return Io(),null;case 10:return ro(e),null;case 23:case 24:return Sl(),null;default:return null}}function us(e,t){try{var n="",r=t;do{n+=X(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function cs(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}qa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qa=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Lo(Mo.current);var a,s=null;switch(n){case"input":o=J(e,o),r=J(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=jr)}for(h in ke(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var u=o[h];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(u=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(null!=c||null!=u))if("style"===h)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(s=s||[]).push(h,c)):"children"===h?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Mr("scroll",e),s||u===c||(s=[])):"object"==typeof c&&null!==c&&c.$$typeof===I?c.toString():(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},$a=function(e,t,n,r){n!==r&&(t.flags|=4)};var hs="function"==typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$s||($s=!0,Zs=r),cs(0,t)},n}function fs(e,t,n){(n=co(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return cs(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this),cs(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"==typeof WeakSet?WeakSet:Set;function gs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){jl(e,t)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Zi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Vr(t.stateNode.containerInfo))}throw Error(a(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Nl(n,e),Rl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Zi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&go(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}go(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Hr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ct(n)))))}throw Error(a(163))}function vs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(ki&&"function"==typeof ki.onCommitFiberUnmount)try{ki.onCommitFiberUnmount(Si,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Nl(t,n);else{r=t;try{i()}catch(e){jl(r,e)}}n=n.next}while(n!==e)}break;case 1:if(gs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){jl(t,e)}break;case 5:gs(t);break;case 4:_s(e,t)}}function xs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function Cs(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ss(e,n,t):ks(e,n,t)}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function ks(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ks(e,t,n),e=e.sibling;null!==e;)ks(e,t,n),e=e.sibling}function _s(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,l=i,u=l;;)if(bs(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function As(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),_e(e,i),t=_e(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?Ce(n,l):"dangerouslySetInnerHTML"===s?ye(n,l):"children"===s?ve(n,l):x(n,s,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Ct(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ys=Hi(),vs(t.child,!0)),void Es(t);case 19:return void Es(t);case 23:case 24:return void vs(t,null!==t.memoizedState)}throw Error(a(163))}function Es(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Wl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ps(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ts=Math.ceil,Ms=w.ReactCurrentDispatcher,Bs=w.ReactCurrentOwner,Os=0,Ls=null,zs=null,Is=0,Rs=0,Ns=ui(0),Ds=0,Fs=null,js=0,Gs=0,Ws=0,Hs=0,Us=null,Ys=0,Xs=1/0;function Vs(){Xs=Hi()+500}var qs,Qs=null,$s=!1,Zs=null,Ks=null,Js=!1,el=null,tl=90,nl=[],rl=[],il=null,ol=0,al=null,sl=-1,ll=0,ul=0,cl=null,hl=!1;function dl(){return 0!=(48&Os)?Hi():-1!==sl?sl:sl=Hi()}function fl(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Ui()?1:2;if(0===ll&&(ll=js),0!==$i.transition){0!==ul&&(ul=null!==Us?Us.pendingLanes:0),e=ll;var t=4186112&~ul;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ui(),0!=(4&Os)&&98===e?e=jt(12,ll):e=jt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ll),e}function pl(e,t,n){if(50<ol)throw ol=0,al=null,Error(a(185));if(null===(e=gl(e,t)))return null;Ht(e,t,n),e===Ls&&(Ws|=t,4===Ds&&vl(e,Is));var r=Ui();1===t?0!=(8&Os)&&0==(48&Os)?bl(e):(ml(e,n),0===Os&&(Vs(),qi())):(0==(4&Os)||98!==r&&99!==r||(null===il?il=new Set([e]):il.add(e)),ml(e,n)),Us=e}function gl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ml(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Ut(s),u=1<<l,c=o[l];if(-1===c){if(0==(u&r)||0!=(u&i)){c=t,Nt(u);var h=Rt;o[l]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);s&=~u}if(r=Dt(e,e===Ls?Is:0),t=Rt,0===r)null!==n&&(n!==Ni&&Ei(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ni&&Ei(n)}15===t?(n=bl.bind(null,e),null===Fi?(Fi=[n],ji=Ai(Oi,Qi)):Fi.push(n),n=Ni):14===t?n=Vi(99,bl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Vi(n,yl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yl(e){if(sl=-1,ul=ll=0,0!=(48&Os))throw Error(a(327));var t=e.callbackNode;if(Il()&&e.callbackNode!==t)return null;var n=Dt(e,e===Ls?Is:0);if(0===n)return null;var r=n,i=Os;Os|=16;var o=Al();for(Ls===e&&Is===r||(Vs(),kl(e,r));;)try{Tl();break}catch(t){_l(e,t)}if(no(),Ms.current=o,Os=i,null!==zs?r=0:(Ls=null,Is=0,r=Ds),0!=(js&Ws))kl(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,Vr(e.containerInfo)),0!==(n=Ft(e))&&(r=El(e,n))),1===r)throw t=Fs,kl(e,0),vl(e,n),ml(e,Hi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Ol(e);break;case 3:if(vl(e,n),(62914560&n)===n&&10<(r=Ys+500-Hi())){if(0!==Dt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){dl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Yr(Ol.bind(null,e),r);break}Ol(e);break;case 4:if(vl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ut(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Hi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ts(n/1960))-n)){e.timeoutHandle=Yr(Ol.bind(null,e),n);break}Ol(e);break;default:throw Error(a(329))}}return ml(e,Hi()),e.callbackNode===t?yl.bind(null,e):null}function vl(e,t){for(t&=~Hs,t&=~Ws,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),r=1<<n;e[n]=-1,t&=~r}}function bl(e){if(0!=(48&Os))throw Error(a(327));if(Il(),e===Ls&&0!=(e.expiredLanes&Is)){var t=Is,n=El(e,t);0!=(js&Ws)&&(n=El(e,t=Dt(e,t)))}else n=El(e,t=Dt(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,Vr(e.containerInfo)),0!==(t=Ft(e))&&(n=El(e,t))),1===n)throw n=Fs,kl(e,0),vl(e,t),ml(e,Hi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ol(e),ml(e,Hi()),null}function xl(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(Vs(),qi())}}function wl(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(Vs(),qi())}}function Cl(e,t){hi(Ns,Rs),Rs|=t,js|=t}function Sl(){Rs=Ns.current,ci(Ns)}function kl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Xr(n)),null!==zs)for(n=zs.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&vi();break;case 3:Io(),ci(pi),ci(fi),$o();break;case 5:No(r);break;case 4:Io();break;case 13:case 19:ci(Do);break;case 10:ro(r);break;case 23:case 24:Sl()}n=n.return}Ls=e,zs=Xl(e.current,null),Is=Rs=js=t,Ds=0,Fs=null,Hs=Ws=Gs=0}function _l(e,t){for(;;){var n=zs;try{if(no(),Zo.current=Oa,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Jo=0,na=ta=ea=null,ia=!1,Bs.current=null,null===n||null===n.return){Ds=1,Fs=t,zs=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Is,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0==(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!=(1&Do.current),d=a;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var g=d.memoizedProps;f=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!h)}}if(f){var m=d.updateQueue;if(null===m){var y=new Set;y.add(u),d.updateQueue=y}else m.add(u);if(0==(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var v=co(-1,1);v.tag=2,ho(s,v)}s.lanes|=1;break e}l=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new hs,l=new Set,b.set(u,l)):void 0===(l=b.get(u))&&(l=new Set,b.set(u,l)),!l.has(s)){l.add(s);var x=Gl.bind(null,o,u,s);u.then(x,x)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((V(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ds&&(Ds=2),l=us(l,s),d=a;do{switch(d.tag){case 3:o=l,d.flags|=4096,t&=-t,d.lanes|=t,fo(d,ds(0,o,t));break e;case 1:o=l;var w=d.type,C=d.stateNode;if(0==(64&d.flags)&&("function"==typeof w.getDerivedStateFromError||null!==C&&"function"==typeof C.componentDidCatch&&(null===Ks||!Ks.has(C)))){d.flags|=4096,t&=-t,d.lanes|=t,fo(d,fs(d,o,t));break e}}d=d.return}while(null!==d)}Bl(n)}catch(e){t=e,zs===n&&null!==n&&(zs=n=n.return);continue}break}}function Al(){var e=Ms.current;return Ms.current=Oa,null===e?Oa:e}function El(e,t){var n=Os;Os|=16;var r=Al();for(Ls===e&&Is===t||kl(e,t);;)try{Pl();break}catch(t){_l(e,t)}if(no(),Os=n,Ms.current=r,null!==zs)throw Error(a(261));return Ls=null,Is=0,Ds}function Pl(){for(;null!==zs;)Ml(zs)}function Tl(){for(;null!==zs&&!Pi();)Ml(zs)}function Ml(e){var t=qs(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?Bl(e):zs=t,Bs.current=null}function Bl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ss(n,t,Rs)))return void(zs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Rs)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ls(t)))return n.flags&=2047,void(zs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(zs=t);zs=t=e}while(null!==t);0===Ds&&(Ds=5)}function Ol(e){var t=Ui();return Xi(99,Ll.bind(null,e,t)),null}function Ll(e,t){do{Il()}while(null!==el);if(0!=(48&Os))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<o;){var u=31-Ut(o),c=1<<u;i[u]=0,s[u]=-1,l[u]=-1,o&=~c}if(null!==il&&0==(24&r)&&il.has(e)&&il.delete(e),e===Ls&&(zs=Ls=null,Is=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Os,Os|=32,Bs.current=null,Gr=Qt,yr(s=mr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,o=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(e){l=null;break e}var h=0,d=-1,f=-1,p=0,g=0,m=s,y=null;t:for(;;){for(var v;m!==l||0!==o&&3!==m.nodeType||(d=h+o),m!==u||0!==c&&3!==m.nodeType||(f=h+c),3===m.nodeType&&(h+=m.nodeValue.length),null!==(v=m.firstChild);)y=m,m=v;for(;;){if(m===s)break t;if(y===l&&++p===o&&(d=h),y===u&&++g===c&&(f=h),null!==(v=m.nextSibling))break;y=(m=y).parentNode}m=v}l=-1===d||-1===f?null:{start:d,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Wr={focusedElem:s,selectionRange:l},Qt=!1,cl=null,hl=!1,Qs=r;do{try{zl()}catch(e){if(null===Qs)throw Error(a(330));jl(Qs,e),Qs=Qs.nextEffect}}while(null!==Qs);cl=null,Qs=r;do{try{for(s=e;null!==Qs;){var b=Qs.flags;if(16&b&&ve(Qs.stateNode,""),128&b){var x=Qs.alternate;if(null!==x){var w=x.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&b){case 2:Cs(Qs),Qs.flags&=-3;break;case 6:Cs(Qs),Qs.flags&=-3,As(Qs.alternate,Qs);break;case 1024:Qs.flags&=-1025;break;case 1028:Qs.flags&=-1025,As(Qs.alternate,Qs);break;case 4:As(Qs.alternate,Qs);break;case 8:_s(s,l=Qs);var C=l.alternate;xs(l),null!==C&&xs(C)}Qs=Qs.nextEffect}}catch(e){if(null===Qs)throw Error(a(330));jl(Qs,e),Qs=Qs.nextEffect}}while(null!==Qs);if(w=Wr,x=mr(),b=w.focusedElem,s=w.selectionRange,x!==b&&b&&b.ownerDocument&&gr(b.ownerDocument.documentElement,b)){null!==s&&yr(b)&&(x=s.start,void 0===(w=s.end)&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),l=b.textContent.length,C=Math.min(s.start,l),s=void 0===s.end?C:Math.min(s.end,l),!w.extend&&C>s&&(l=s,s=C,C=l),l=pr(b,C),o=pr(b,s),l&&o&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((x=x.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),C>s?(w.addRange(x),w.extend(o.node,o.offset)):(x.setEnd(o.node,o.offset),w.addRange(x))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<x.length;b++)(w=x[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!Gr,Wr=Gr=null,e.current=n,Qs=r;do{try{for(b=e;null!==Qs;){var S=Qs.flags;if(36&S&&ys(b,Qs.alternate,Qs),128&S){x=void 0;var k=Qs.ref;if(null!==k){var _=Qs.stateNode;Qs.tag,x=_,"function"==typeof k?k(x):k.current=x}}Qs=Qs.nextEffect}}catch(e){if(null===Qs)throw Error(a(330));jl(Qs,e),Qs=Qs.nextEffect}}while(null!==Qs);Qs=null,Di(),Os=i}else e.current=n;if(Js)Js=!1,el=e,tl=t;else for(Qs=r;null!==Qs;)t=Qs.nextEffect,Qs.nextEffect=null,8&Qs.flags&&((S=Qs).sibling=null,S.stateNode=null),Qs=t;if(0===(r=e.pendingLanes)&&(Ks=null),1===r?e===al?ol++:(ol=0,al=e):ol=0,n=n.stateNode,ki&&"function"==typeof ki.onCommitFiberRoot)try{ki.onCommitFiberRoot(Si,n,void 0,64==(64&n.current.flags))}catch(e){}if(ml(e,Hi()),$s)throw $s=!1,e=Zs,Zs=null,e;return 0!=(8&Os)||qi(),null}function zl(){for(;null!==Qs;){var e=Qs.alternate;hl||null===cl||(0!=(8&Qs.flags)?et(Qs,cl)&&(hl=!0):13===Qs.tag&&Ps(e,Qs)&&et(Qs,cl)&&(hl=!0));var t=Qs.flags;0!=(256&t)&&ms(e,Qs),0==(512&t)||Js||(Js=!0,Vi(97,(function(){return Il(),null}))),Qs=Qs.nextEffect}}function Il(){if(90!==tl){var e=97<tl?97:tl;return tl=90,Xi(e,Dl)}return!1}function Rl(e,t){nl.push(t,e),Js||(Js=!0,Vi(97,(function(){return Il(),null})))}function Nl(e,t){rl.push(t,e),Js||(Js=!0,Vi(97,(function(){return Il(),null})))}function Dl(){if(null===el)return!1;var e=el;if(el=null,0!=(48&Os))throw Error(a(331));var t=Os;Os|=32;var n=rl;rl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));jl(o,e)}}for(n=nl,nl=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===o)throw Error(a(330));jl(o,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Os=t,qi(),!0}function Fl(e,t,n){ho(e,t=ds(0,t=us(n,t),1)),t=dl(),null!==(e=gl(e,1))&&(Ht(e,1,t),ml(e,t))}function jl(e,t){if(3===e.tag)Fl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Fl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){var i=fs(n,e=us(t,e),1);if(ho(n,i),i=dl(),null!==(n=gl(n,1)))Ht(n,1,i),ml(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ks||!Ks.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Gl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=dl(),e.pingedLanes|=e.suspendedLanes&n,Ls===e&&(Is&n)===n&&(4===Ds||3===Ds&&(62914560&Is)===Is&&500>Hi()-Ys?kl(e,0):Hs|=n),ml(e,t)}function Wl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Ui()?1:2:(0===ll&&(ll=js),0===(t=Gt(62914560&~ll))&&(t=4194304))),n=dl(),null!==(e=gl(e,t))&&(Ht(e,t,n),ml(e,n))}function Hl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ul(e,t,n,r){return new Hl(e,t,n,r)}function Yl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Xl(e,t){var n=e.alternate;return null===n?((n=Ul(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vl(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Yl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case k:return ql(n.children,i,o,t);case R:s=8,i|=16;break;case _:s=8,i|=1;break;case A:return(e=Ul(12,n,t,8|i)).elementType=A,e.type=A,e.lanes=o,e;case M:return(e=Ul(13,n,t,i)).type=M,e.elementType=M,e.lanes=o,e;case B:return(e=Ul(19,n,t,i)).elementType=B,e.lanes=o,e;case N:return Ql(n,i,o,t);case D:return(e=Ul(24,n,t,i)).elementType=D,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case P:s=9;break e;case T:s=11;break e;case O:s=14;break e;case L:s=16,r=null;break e;case z:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ul(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function ql(e,t,n,r){return(e=Ul(7,e,r,t)).lanes=n,e}function Ql(e,t,n,r){return(e=Ul(23,e,r,t)).elementType=N,e.lanes=n,e}function $l(e,t,n){return(e=Ul(6,e,null,t)).lanes=n,e}function Zl(e,t,n){return(t=Ul(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Wt(0),this.expirationTimes=Wt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wt(0),this.mutableSourceEagerHydrationData=null}function Jl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function eu(e,t,n,r){var i=t.current,o=dl(),s=fl(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(yi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(yi(u)){n=xi(n,u,l);break e}}n=l}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=co(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ho(i,t),pl(i,s,o),s}function tu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ru(e,t){nu(e,t),(e=e.alternate)&&nu(e,t)}function iu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Kl(e,t,null!=n&&!0===n.hydrate),t=Ul(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,lo(t),e[ei]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ou(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function au(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=tu(a);s.call(e)}}eu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new iu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=tu(a);l.call(e)}}wl((function(){eu(t,a,e,i)}))}return tu(a)}function su(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ou(t))throw Error(a(200));return Jl(e,t,null,n)}qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Na=!0;else{if(0==(n&r)){switch(Na=!1,t.tag){case 3:Va(t),qo();break;case 5:Ro(t);break;case 1:yi(t.type)&&wi(t);break;case 4:zo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;hi(Ki,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Ka(e,t,n):(hi(Do,1&Do.current),null!==(t=os(e,t,n))?t.sibling:null);hi(Do,1&Do.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),hi(Do,Do.current),r)break;return null;case 23:case 24:return t.lanes=0,Wa(e,t,n)}return os(e,t,n)}Na=0!=(16384&e.flags)}else Na=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,fi.current),oo(t,n),i=sa(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var o=!0;wi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,lo(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&yo(t,r,s,e),i.updater=vo,t.stateNode=i,i._reactInternals=t,Co(t,r,e,n),t=Xa(null,t,r,!0,o,n)}else t.tag=0,Da(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Yl(e)?1:0;if(null!=e){if((e=e.$$typeof)===T)return 11;if(e===O)return 14}return 2}(i),e=Zi(i,e),o){case 0:t=Ua(null,t,i,e,n);break e;case 1:t=Ya(null,t,i,e,n);break e;case 11:t=Fa(null,t,i,e,n);break e;case 14:t=ja(null,t,i,Zi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ya(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 3:if(Va(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,uo(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)qo(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Go=qr(t.stateNode.containerInfo.firstChild),jo=t,o=Wo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Qo.push(o);for(n=Po(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Da(e,t,r,n),qo();t=t.child}return t;case 5:return Ro(t),null===e&&Yo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Ur(r,i)?s=null:null!==o&&Ur(r,o)&&(t.flags|=16),Ha(e,t),Da(e,t,s,n),t.child;case 6:return null===e&&Yo(t),null;case 13:return Ka(e,t,n);case 4:return zo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Eo(t,null,r,n):Da(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 7:return Da(e,t,t.pendingProps,n),t.child;case 8:case 12:return Da(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(hi(Ki,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=cr(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!pi.current){t=os(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===l.tag&&((c=co(-1,n&-n)).tag=2,ho(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),io(l.return,n),u.lanes|=n;break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Da(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,Da(e,t,r,n),t.child;case 14:return o=Zi(i=t.type,t.pendingProps),ja(e,t,i,o=Zi(i.type,o),r,n);case 15:return Ga(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,oo(t,n),xo(t,r,i),Co(t,r,i,n),Xa(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Wa(e,t,n)}throw Error(a(156,t.tag))},iu.prototype.render=function(e){eu(e,this._internalRoot,null,null)},iu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;eu(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pl(e,4,dl()),ru(e,4))},nt=function(e){13===e.tag&&(pl(e,67108864,dl()),ru(e,67108864))},rt=function(e){if(13===e.tag){var t=dl(),n=fl(e);pl(e,n,t),ru(e,n)}},it=function(e,t){return t()},Ee=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));Z(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Le=xl,ze=function(e,t,n,r,i){var o=Os;Os|=4;try{return Xi(98,e.bind(null,t,n,r,i))}finally{0===(Os=o)&&(Vs(),qi())}},Ie=function(){0==(49&Os)&&(function(){if(null!==il){var e=il;il=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ml(e,Hi())}))}qi()}(),Il())},Re=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(Vs(),qi())}};var lu={Events:[ri,ii,oi,Be,Oe,Il,{current:!1}]},uu={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cu={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hu.isDisabled&&hu.supportsFiber)try{Si=hu.inject(cu),ki=hu}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lu,t.createPortal=su,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(0!=(48&n))return e(t);Os|=1;try{if(e)return Xi(99,e.bind(null,t))}finally{Os=n,qi()}},t.hydrate=function(e,t,n){if(!ou(t))throw Error(a(200));return au(null,e,t,!0,n)},t.render=function(e,t,n){if(!ou(t))throw Error(a(200));return au(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ou(e))throw Error(a(40));return!!e._reactRootContainer&&(wl((function(){au(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=xl,t.unstable_createPortal=function(e,t){return su(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ou(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return au(e,t,n,!1,r)},t.version="17.0.2"},935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(448)},287:(e,t,n)=>{(e=n.nmd(e)).exports=function(t){var r={},i=n(418),o=n(294),a=n(840);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=60103,c=60106,h=60107,d=60108,f=60114,p=60109,g=60110,m=60112,y=60113,v=60120,b=60115,x=60116,w=60121,C=60129,S=60130,k=60131;if("function"==typeof Symbol&&Symbol.for){var _=Symbol.for;u=_("react.element"),c=_("react.portal"),h=_("react.fragment"),d=_("react.strict_mode"),f=_("react.profiler"),p=_("react.provider"),g=_("react.context"),m=_("react.forward_ref"),y=_("react.suspense"),v=_("react.suspense_list"),b=_("react.memo"),x=_("react.lazy"),w=_("react.block"),_("react.scope"),C=_("react.debug_trace_mode"),S=_("react.offscreen"),k=_("react.legacy_hidden")}var A="function"==typeof Symbol&&Symbol.iterator;function E(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=A&&e[A]||e["@@iterator"])?e:null}function P(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case h:return"Fragment";case c:return"Portal";case f:return"Profiler";case d:return"StrictMode";case y:return"Suspense";case v:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Consumer";case p:return(e._context.displayName||"Context")+".Provider";case m:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case b:return P(e.type);case w:return P(e._render);case x:t=e._payload,e=e._init;try{return P(e(t))}catch(e){}}return null}function T(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function M(e){if(T(e)!==e)throw Error(s(188))}function B(e){var t=e.alternate;if(!t){if(null===(t=T(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return M(i),e;if(o===r)return M(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}function O(e){if(!(e=B(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function L(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var z,I=t.getPublicInstance,R=t.getRootHostContext,N=t.getChildHostContext,D=t.prepareForCommit,F=t.resetAfterCommit,j=t.createInstance,G=t.appendInitialChild,W=t.finalizeInitialChildren,H=t.prepareUpdate,U=t.shouldSetTextContent,Y=t.createTextInstance,X=t.scheduleTimeout,V=t.cancelTimeout,q=t.noTimeout,Q=t.isPrimaryRenderer,$=t.supportsMutation,Z=t.supportsPersistence,K=t.supportsHydration,J=t.getInstanceFromNode,ee=t.makeOpaqueHydratingObject,te=t.makeClientId,ne=t.beforeActiveInstanceBlur,re=t.afterActiveInstanceBlur,ie=t.preparePortalMount,oe=t.supportsTestSelectors,ae=t.findFiberRoot,se=t.getBoundingRect,le=t.getTextContent,ue=t.isHiddenSubtree,ce=t.matchAccessibilityRole,he=t.setFocusIfFocusable,de=t.setupIntersectionObserver,fe=t.appendChild,pe=t.appendChildToContainer,ge=t.commitTextUpdate,me=t.commitMount,ye=t.commitUpdate,ve=t.insertBefore,be=t.insertInContainerBefore,xe=t.removeChild,we=t.removeChildFromContainer,Ce=t.resetTextContent,Se=t.hideInstance,ke=t.hideTextInstance,_e=t.unhideInstance,Ae=t.unhideTextInstance,Ee=t.clearContainer,Pe=t.cloneInstance,Te=t.createContainerChildSet,Me=t.appendChildToContainerChildSet,Be=t.finalizeContainerChildren,Oe=t.replaceContainerChildren,Le=t.cloneHiddenInstance,ze=t.cloneHiddenTextInstance,Ie=t.canHydrateInstance,Re=t.canHydrateTextInstance,Ne=t.isSuspenseInstancePending,De=t.isSuspenseInstanceFallback,Fe=t.getNextHydratableSibling,je=t.getFirstHydratableChild,Ge=t.hydrateInstance,We=t.hydrateTextInstance,He=t.getNextHydratableInstanceAfterSuspenseInstance,Ue=t.commitHydratedContainer,Ye=t.commitHydratedSuspenseInstance;function Xe(e){if(void 0===z)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var Ve=!1;function qe(e,t){if(!e||Ve)return"";Ve=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{Ve=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xe(e):""}var Qe=[],$e=-1;function Ze(e){return{current:e}}function Ke(e){0>$e||(e.current=Qe[$e],Qe[$e]=null,$e--)}function Je(e,t){$e++,Qe[$e]=e.current,e.current=t}var et={},tt=Ze(et),nt=Ze(!1),rt=et;function it(e,t){var n=e.type.contextTypes;if(!n)return et;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ot(e){return null!=(e=e.childContextTypes)}function at(){Ke(nt),Ke(tt)}function st(e,t,n){if(tt.current!==et)throw Error(s(168));Je(tt,t),Je(nt,n)}function lt(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,P(t)||"Unknown",o));return i({},n,r)}function ut(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||et,rt=tt.current,Je(tt,e),Je(nt,nt.current),!0}function ct(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=lt(e,t,rt),r.__reactInternalMemoizedMergedChildContext=e,Ke(nt),Ke(tt),Je(tt,e)):Ke(nt),Je(nt,n)}var ht=null,dt=null;(0,a.unstable_now)();var ft=0,pt=8;function gt(e){if(0!=(1&e))return pt=15,1;if(0!=(2&e))return pt=14,2;if(0!=(4&e))return pt=13,4;var t=24&e;return 0!==t?(pt=12,t):0!=(32&e)?(pt=11,32):0!==(t=192&e)?(pt=10,t):0!=(256&e)?(pt=9,256):0!==(t=3584&e)?(pt=8,t):0!=(4096&e)?(pt=7,4096):0!==(t=4186112&e)?(pt=6,t):0!==(t=62914560&e)?(pt=5,t):67108864&e?(pt=4,67108864):0!=(134217728&e)?(pt=3,134217728):0!==(t=805306368&e)?(pt=2,t):0!=(1073741824&e)?(pt=1,1073741824):(pt=8,e)}function mt(e,t){var n=e.pendingLanes;if(0===n)return pt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=pt=15;else if(0!==(o=134217727&n)){var l=o&~a;0!==l?(r=gt(l),i=pt):0!==(s&=o)&&(r=gt(s),i=pt)}else 0!==(o=n&~a)?(r=gt(o),i=pt):0!==s&&(r=gt(s),i=pt);if(0===r)return 0;if(r=n&((0>(r=31-Ct(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(gt(t),i<=pt)return t;pt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ct(t)),r|=e[n],t&=~i;return r}function yt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=bt(24&~t))?vt(10,t):e;case 10:return 0===(e=bt(192&~t))?vt(8,t):e;case 8:return 0===(e=bt(3584&~t))&&(0===(e=bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=bt(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function bt(e){return e&-e}function xt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ct(t)]=n}var Ct=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(St(e)/kt|0)|0},St=Math.log,kt=Math.LN2;var _t=a.unstable_runWithPriority,At=a.unstable_scheduleCallback,Et=a.unstable_cancelCallback,Pt=a.unstable_shouldYield,Tt=a.unstable_requestPaint,Mt=a.unstable_now,Bt=a.unstable_getCurrentPriorityLevel,Ot=a.unstable_ImmediatePriority,Lt=a.unstable_UserBlockingPriority,zt=a.unstable_NormalPriority,It=a.unstable_LowPriority,Rt=a.unstable_IdlePriority,Nt={},Dt=void 0!==Tt?Tt:function(){},Ft=null,jt=null,Gt=!1,Wt=Mt(),Ht=1e4>Wt?Mt:function(){return Mt()-Wt};function Ut(){switch(Bt()){case Ot:return 99;case Lt:return 98;case zt:return 97;case It:return 96;case Rt:return 95;default:throw Error(s(332))}}function Yt(e){switch(e){case 99:return Ot;case 98:return Lt;case 97:return zt;case 96:return It;case 95:return Rt;default:throw Error(s(332))}}function Xt(e,t){return e=Yt(e),_t(e,t)}function Vt(e,t,n){return e=Yt(e),At(e,t,n)}function qt(){if(null!==jt){var e=jt;jt=null,Et(e)}Qt()}function Qt(){if(!Gt&&null!==Ft){Gt=!0;var e=0;try{var t=Ft;Xt(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ft=null}catch(t){throw null!==Ft&&(Ft=Ft.slice(e+1)),At(Ot,qt),t}finally{Gt=!1}}}var $t=l.ReactCurrentBatchConfig;var Zt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Kt=Object.prototype.hasOwnProperty;function Jt(e,t){if(Zt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Kt.call(t,n[r])||!Zt(e[n[r]],t[n[r]]))return!1;return!0}function en(e){switch(e.tag){case 5:return Xe(e.type);case 16:return Xe("Lazy");case 13:return Xe("Suspense");case 19:return Xe("SuspenseList");case 0:case 2:case 15:return e=qe(e.type,!1);case 11:return e=qe(e.type.render,!1);case 22:return e=qe(e.type._render,!1);case 1:return e=qe(e.type,!0);default:return""}}function tn(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var nn=Ze(null),rn=null,on=null,an=null;function sn(){an=on=rn=null}function ln(e,t){e=e.type._context,Q?(Je(nn,e._currentValue),e._currentValue=t):(Je(nn,e._currentValue2),e._currentValue2=t)}function un(e){var t=nn.current;Ke(nn),e=e.type._context,Q?e._currentValue=t:e._currentValue2=t}function cn(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function hn(e,t){rn=e,an=on=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Wr=!0),e.firstContext=null)}function dn(e,t){if(an!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(an=e,t=1073741823),t={context:e,observedBits:t,next:null},null===on){if(null===rn)throw Error(s(308));on=t,rn.dependencies={lanes:0,firstContext:t,responders:null}}else on=on.next=t;return Q?e._currentValue:e._currentValue2}var fn=!1;function pn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function gn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yn(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function vn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bn(e,t,n,r){var o=e.updateQueue;fn=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?a=c:s.next=c,s=u;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==s&&(null===d?h.firstBaseUpdate=c:d.next=c,h.lastBaseUpdate=u)}}if(null!==a){for(d=o.baseState,s=0,h=c=u=null;;){l=a.lane;var f=a.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(l=t,f=n,g.tag){case 1:if("function"==typeof(p=g.payload)){d=p.call(f,d,l);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(l="function"==typeof(p=g.payload)?p.call(f,d,l):p))break e;d=i({},d,l);break e;case 2:fn=!0}}null!==a.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else f={eventTime:f,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(c=h=f,u=d):h=h.next=f,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===h&&(u=d),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=h,ho|=s,e.lanes=s,e.memoizedState=d}}function xn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(s(191,i));i.call(r)}}}var wn=(new o.Component).refs;function Cn(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Sn={isMounted:function(e){return!!(e=e._reactInternals)&&T(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=No(),i=Do(e),o=mn(r,i);o.payload=t,null!=n&&(o.callback=n),yn(e,o),Fo(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=No(),i=Do(e),o=mn(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),yn(e,o),Fo(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=No(),r=Do(e),i=mn(n,r);i.tag=2,null!=t&&(i.callback=t),yn(e,i),Fo(e,r,n)}};function kn(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Jt(n,r)||!Jt(i,o))}function _n(e,t,n){var r=!1,i=et,o=t.contextType;return"object"==typeof o&&null!==o?o=dn(o):(i=ot(t)?rt:tt.current,o=(r=null!=(r=t.contextTypes))?it(e,i):et),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Sn,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function An(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Sn.enqueueReplaceState(t,t.state,null)}function En(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=wn,pn(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=dn(o):(o=ot(t)?rt:tt.current,i.context=it(e,o)),bn(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Cn(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Sn.enqueueReplaceState(i,i.state,null),bn(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var Pn=Array.isArray;function Tn(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===wn&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Mn(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Bn(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ka(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Pa(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Tn(e,t,n),r.return=e,r):((r=_a(n.type,n.key,n.props,null,e.mode,r)).ref=Tn(e,t,n),r.return=e,r)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ta(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,o){return null===t||7!==t.tag?((t=Aa(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function g(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Pa(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case u:return(n=_a(t.type,t.key,t.props,null,e.mode,n)).ref=Tn(e,null,t),n.return=e,n;case c:return(t=Ta(t,e.mode,n)).return=e,t}if(Pn(t)||E(t))return(t=Aa(t,e.mode,n,null)).return=e,t;Mn(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case u:return n.key===i?n.type===h?p(e,t,n.props.children,r,i):d(e,t,n,r):null;case c:return n.key===i?f(e,t,n,r):null}if(Pn(n)||E(n))return null!==i?null:p(e,t,n,r,null);Mn(e,n)}return null}function y(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case u:return e=e.get(null===r.key?n:r.key)||null,r.type===h?p(t,e,r.props.children,i,r.key):d(t,e,r,i);case c:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Pn(r)||E(r))return p(t,e=e.get(n)||null,r,i,null);Mn(t,r)}return null}function v(i,a,s,l){for(var u=null,c=null,h=a,d=a=0,f=null;null!==h&&d<s.length;d++){h.index>d?(f=h,h=null):f=h.sibling;var p=m(i,h,s[d],l);if(null===p){null===h&&(h=f);break}e&&h&&null===p.alternate&&t(i,h),a=o(p,a,d),null===c?u=p:c.sibling=p,c=p,h=f}if(d===s.length)return n(i,h),u;if(null===h){for(;d<s.length;d++)null!==(h=g(i,s[d],l))&&(a=o(h,a,d),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(i,h);d<s.length;d++)null!==(f=y(h,i,d,s[d],l))&&(e&&null!==f.alternate&&h.delete(null===f.key?d:f.key),a=o(f,a,d),null===c?u=f:c.sibling=f,c=f);return e&&h.forEach((function(e){return t(i,e)})),u}function b(i,a,l,u){var c=E(l);if("function"!=typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,d=a,f=a=0,p=null,v=l.next();null!==d&&!v.done;f++,v=l.next()){d.index>f?(p=d,d=null):p=d.sibling;var b=m(i,d,v.value,u);if(null===b){null===d&&(d=p);break}e&&d&&null===b.alternate&&t(i,d),a=o(b,a,f),null===h?c=b:h.sibling=b,h=b,d=p}if(v.done)return n(i,d),c;if(null===d){for(;!v.done;f++,v=l.next())null!==(v=g(i,v.value,u))&&(a=o(v,a,f),null===h?c=v:h.sibling=v,h=v);return c}for(d=r(i,d);!v.done;f++,v=l.next())null!==(v=y(d,i,f,v.value,u))&&(e&&null!==v.alternate&&d.delete(null===v.key?f:v.key),a=o(v,a,f),null===h?c=v:h.sibling=v,h=v);return e&&d.forEach((function(e){return t(i,e)})),c}return function(e,r,o,l){var d="object"==typeof o&&null!==o&&o.type===h&&null===o.key;d&&(o=o.props.children);var f="object"==typeof o&&null!==o;if(f)switch(o.$$typeof){case u:e:{for(f=o.key,d=r;null!==d;){if(d.key===f){if(7===d.tag){if(o.type===h){n(e,d.sibling),(r=i(d,o.props.children)).return=e,e=r;break e}}else if(d.elementType===o.type){n(e,d.sibling),(r=i(d,o.props)).ref=Tn(e,d,o),r.return=e,e=r;break e}n(e,d);break}t(e,d),d=d.sibling}o.type===h?((r=Aa(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=_a(o.type,o.key,o.props,null,e.mode,l)).ref=Tn(e,r,o),l.return=e,e=l)}return a(e);case c:e:{for(d=o.key;null!==r;){if(r.key===d){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ta(o,e.mode,l)).return=e,e=r}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Pa(o,e.mode,l)).return=e,e=r),a(e);if(Pn(o))return v(e,r,o,l);if(E(o))return b(e,r,o,l);if(f&&Mn(e,o),void 0===o&&!d)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,P(e.type)||"Component"))}return n(e,r)}}var On=Bn(!0),Ln=Bn(!1),zn={},In=Ze(zn),Rn=Ze(zn),Nn=Ze(zn);function Dn(e){if(e===zn)throw Error(s(174));return e}function Fn(e,t){Je(Nn,t),Je(Rn,e),Je(In,zn),e=R(t),Ke(In),Je(In,e)}function jn(){Ke(In),Ke(Rn),Ke(Nn)}function Gn(e){var t=Dn(Nn.current),n=Dn(In.current);n!==(t=N(n,e.type,t))&&(Je(Rn,e),Je(In,t))}function Wn(e){Rn.current===e&&(Ke(In),Ke(Rn))}var Hn=Ze(0);function Un(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ne(n)||De(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yn=null,Xn=null,Vn=!1;function qn(e,t){var n=Ca(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Qn(e,t){switch(e.tag){case 5:return null!==(t=Ie(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=Re(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function $n(e){if(Vn){var t=Xn;if(t){var n=t;if(!Qn(e,t)){if(!(t=Fe(n))||!Qn(e,t))return e.flags=-1025&e.flags|2,Vn=!1,void(Yn=e);qn(Yn,n)}Yn=e,Xn=je(t)}else e.flags=-1025&e.flags|2,Vn=!1,Yn=e}}function Zn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Yn=e}function Kn(e){if(!K||e!==Yn)return!1;if(!Vn)return Zn(e),Vn=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!U(t,e.memoizedProps))for(t=Xn;t;)qn(e,t),t=Fe(t);if(Zn(e),13===e.tag){if(!K)throw Error(s(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));Xn=He(e)}else Xn=Yn?Fe(e.stateNode):null;return!0}function Jn(){K&&(Xn=Yn=null,Vn=!1)}var er=[];function tr(){for(var e=0;e<er.length;e++){var t=er[e];Q?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}er.length=0}var nr=l.ReactCurrentDispatcher,rr=l.ReactCurrentBatchConfig,ir=0,or=null,ar=null,sr=null,lr=!1,ur=!1;function cr(){throw Error(s(321))}function hr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zt(e[n],t[n]))return!1;return!0}function dr(e,t,n,r,i,o){if(ir=o,or=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nr.current=null===e||null===e.memoizedState?Dr:Fr,e=n(r,i),ur){o=0;do{if(ur=!1,!(25>o))throw Error(s(301));o+=1,sr=ar=null,t.updateQueue=null,nr.current=jr,e=n(r,i)}while(ur)}if(nr.current=Nr,t=null!==ar&&null!==ar.next,ir=0,sr=ar=or=null,lr=!1,t)throw Error(s(300));return e}function fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===sr?or.memoizedState=sr=e:sr=sr.next=e,sr}function pr(){if(null===ar){var e=or.alternate;e=null!==e?e.memoizedState:null}else e=ar.next;var t=null===sr?or.memoizedState:sr.next;if(null!==t)sr=t,ar=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ar=e).memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},null===sr?or.memoizedState=sr=e:sr=sr.next=e}return sr}function gr(e,t){return"function"==typeof t?t(e):t}function mr(e){var t=pr(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ar,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=o=null,u=i;do{var c=u.lane;if((ir&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=h,o=r):l=l.next=h,or.lanes|=c,ho|=c}u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=a,Zt(r,t.memoizedState)||(Wr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function yr(e){var t=pr(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Zt(o,t.memoizedState)||(Wr=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function vr(e,t,n){var r=t._getVersion;r=r(t._source);var i=Q?t._workInProgressVersionPrimary:t._workInProgressVersionSecondary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(ir&e)===e)&&(Q?t._workInProgressVersionPrimary=r:t._workInProgressVersionSecondary=r,er.push(t))),e)return n(t._source);throw er.push(t),Error(s(350))}function br(e,t,n,r){var i=ro;if(null===i)throw Error(s(349));var o=t._getVersion,a=o(t._source),l=nr.current,u=l.useState((function(){return vr(i,t,n)})),c=u[1],h=u[0];u=sr;var d=e.memoizedState,f=d.refs,p=f.getSnapshot,g=d.source;d=d.subscribe;var m=or;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=c;var e=o(t._source);if(!Zt(a,e)){e=n(t._source),Zt(h,e)||(c(e),e=Do(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var l=31-Ct(s),u=1<<l;r[l]|=e,s&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=Do(m);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),Zt(p,n)&&Zt(g,t)&&Zt(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:gr,lastRenderedState:h}).dispatch=c=Rr.bind(null,or,e),u.queue=e,u.baseQueue=null,h=vr(i,t,n),u.memoizedState=u.baseState=h),h}function xr(e,t,n){return br(pr(),e,t,n)}function wr(e){var t=fr();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:gr,lastRenderedState:e}).dispatch=Rr.bind(null,or,e),[t.memoizedState,e]}function Cr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=or.updateQueue)?(t={lastEffect:null},or.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Sr(e){return e={current:e},fr().memoizedState=e}function kr(){return pr().memoizedState}function _r(e,t,n,r){var i=fr();or.flags|=e,i.memoizedState=Cr(1|t,n,void 0,void 0===r?null:r)}function Ar(e,t,n,r){var i=pr();r=void 0===r?null:r;var o=void 0;if(null!==ar){var a=ar.memoizedState;if(o=a.destroy,null!==r&&hr(r,a.deps))return void Cr(t,n,o,r)}or.flags|=e,i.memoizedState=Cr(1|t,n,o,r)}function Er(e,t){return _r(516,4,e,t)}function Pr(e,t){return Ar(516,4,e,t)}function Tr(e,t){return Ar(4,2,e,t)}function Mr(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Br(e,t,n){return n=null!=n?n.concat([e]):null,Ar(4,2,Mr.bind(null,t,e),n)}function Or(){}function Lr(e,t){var n=pr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&hr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zr(e,t){var n=pr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&hr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ir(e,t){var n=Ut();Xt(98>n?98:n,(function(){e(!0)})),Xt(97<n?97:n,(function(){var n=rr.transition;rr.transition=1;try{e(!1),t()}finally{rr.transition=n}}))}function Rr(e,t,n){var r=No(),i=Do(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===or||null!==a&&a===or)ur=lr=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,Zt(l,s))return}catch(e){}Fo(e,i,r)}}var Nr={readContext:dn,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useOpaqueIdentifier:cr,unstable_isNewReconciler:!1},Dr={readContext:dn,useCallback:function(e,t){return fr().memoizedState=[e,void 0===t?null:t],e},useContext:dn,useEffect:Er,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,_r(4,2,Mr.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _r(4,2,e,t)},useMemo:function(e,t){var n=fr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=fr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Rr.bind(null,or,e),[r.memoizedState,e]},useRef:Sr,useState:wr,useDebugValue:Or,useDeferredValue:function(e){var t=wr(e),n=t[0],r=t[1];return Er((function(){var t=rr.transition;rr.transition=1;try{r(e)}finally{rr.transition=t}}),[e]),n},useTransition:function(){var e=wr(!1),t=e[0];return Sr(e=Ir.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=fr();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},br(r,e,t,n)},useOpaqueIdentifier:function(){if(Vn){var e=!1,t=ee((function(){throw e||(e=!0,n(te())),Error(s(355))})),n=wr(t)[1];return 0==(2&or.mode)&&(or.flags|=516,Cr(5,(function(){n(te())}),void 0,null)),t}return wr(t=te()),t},unstable_isNewReconciler:!1},Fr={readContext:dn,useCallback:Lr,useContext:dn,useEffect:Pr,useImperativeHandle:Br,useLayoutEffect:Tr,useMemo:zr,useReducer:mr,useRef:kr,useState:function(){return mr(gr)},useDebugValue:Or,useDeferredValue:function(e){var t=mr(gr),n=t[0],r=t[1];return Pr((function(){var t=rr.transition;rr.transition=1;try{r(e)}finally{rr.transition=t}}),[e]),n},useTransition:function(){var e=mr(gr)[0];return[kr().current,e]},useMutableSource:xr,useOpaqueIdentifier:function(){return mr(gr)[0]},unstable_isNewReconciler:!1},jr={readContext:dn,useCallback:Lr,useContext:dn,useEffect:Pr,useImperativeHandle:Br,useLayoutEffect:Tr,useMemo:zr,useReducer:yr,useRef:kr,useState:function(){return yr(gr)},useDebugValue:Or,useDeferredValue:function(e){var t=yr(gr),n=t[0],r=t[1];return Pr((function(){var t=rr.transition;rr.transition=1;try{r(e)}finally{rr.transition=t}}),[e]),n},useTransition:function(){var e=yr(gr)[0];return[kr().current,e]},useMutableSource:xr,useOpaqueIdentifier:function(){return yr(gr)[0]},unstable_isNewReconciler:!1},Gr=l.ReactCurrentOwner,Wr=!1;function Hr(e,t,n,r){t.child=null===e?Ln(t,null,n,r):On(t,e.child,n,r)}function Ur(e,t,n,r,i){n=n.render;var o=t.ref;return hn(t,i),r=dr(e,t,n,r,o,i),null===e||Wr?(t.flags|=1,Hr(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,hi(e,t,i))}function Yr(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Sa(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=_a(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Xr(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Jt)(i,r)&&e.ref===t.ref)?hi(e,t,o):(t.flags|=1,(e=ka(a,r)).ref=t.ref,e.return=t,t.child=e)}function Xr(e,t,n,r,i,o){if(null!==e&&Jt(e.memoizedProps,r)&&e.ref===t.ref){if(Wr=!1,0==(o&i))return t.lanes=e.lanes,hi(e,t,o);0!=(16384&e.flags)&&(Wr=!0)}return Qr(e,t,n,r,o)}function Vr(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},Vo(t,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Vo(t,e),null;t.memoizedState={baseLanes:0},Vo(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Vo(t,r);return Hr(e,t,i,n),t.child}function qr(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Qr(e,t,n,r,i){var o=ot(n)?rt:tt.current;return o=it(t,o),hn(t,i),n=dr(e,t,n,r,o,i),null===e||Wr?(t.flags|=1,Hr(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,hi(e,t,i))}function $r(e,t,n,r,i){if(ot(n)){var o=!0;ut(t)}else o=!1;if(hn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),_n(t,n,r),En(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=dn(u):u=it(t,u=ot(n)?rt:tt.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&An(t,a,r,u),fn=!1;var d=t.memoizedState;a.state=d,bn(t,r,a,i),l=t.memoizedState,s!==r||d!==l||nt.current||fn?("function"==typeof c&&(Cn(t,n,c,r),l=t.memoizedState),(s=fn||kn(t,n,s,r,d,l,u))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,gn(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:tn(t.type,s),a.props=u,h=t.pendingProps,d=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=dn(l):l=it(t,l=ot(n)?rt:tt.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==h||d!==l)&&An(t,a,r,l),fn=!1,d=t.memoizedState,a.state=d,bn(t,r,a,i);var p=t.memoizedState;s!==h||d!==p||nt.current||fn?("function"==typeof f&&(Cn(t,n,f,r),p=t.memoizedState),(u=fn||kn(t,n,u,r,d,p,l))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Zr(e,t,n,r,o,i)}function Zr(e,t,n,r,i,o){qr(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&ct(t,n,!1),hi(e,t,o);r=t.stateNode,Gr.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=On(t,e.child,null,o),t.child=On(t,null,s,o)):Hr(e,t,s,o),t.memoizedState=r.state,i&&ct(t,n,!0),t.child}function Kr(e){var t=e.stateNode;t.pendingContext?st(0,t.pendingContext,t.pendingContext!==t.context):t.context&&st(0,t.context,!1),Fn(e,t.containerInfo)}var Jr,ei,ti,ni,ri={dehydrated:null,retryLane:0};function ii(e,t,n){var r,i=t.pendingProps,o=Hn.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),Je(Hn,1&o),null===e?(void 0!==i.fallback&&$n(t),e=i.children,o=i.fallback,a?(e=oi(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=ri,e):"number"==typeof i.unstable_expectedLoadTime?(e=oi(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=ri,t.lanes=33554432,e):((n=Ea({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=si(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=ri,i):(n=ai(e,t,i.children,n),t.memoizedState=null,n))}function oi(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Ea(t,i,0,null),n=Aa(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function ai(e,t,n,r){var i=e.child;return e=i.sibling,n=ka(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function si(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=ka(a,s),null!==e?r=ka(e,r):(r=Aa(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function li(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),cn(e.return,t)}function ui(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function ci(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Hr(e,t,r.children,n),0!=(2&(r=Hn.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&li(e,n);else if(19===e.tag)li(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Je(Hn,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Un(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ui(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Un(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ui(t,!0,n,null,o,t.lastEffect);break;case"together":ui(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function hi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ho|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=ka(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ka(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function di(e){e.flags|=4}if($)Jr=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)G(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ei=function(){},ti=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var o=t.stateNode,a=Dn(In.current);n=H(o,n,e,r,i,a),(t.updateQueue=n)&&di(t)}},ni=function(e,t,n,r){n!==r&&di(t)};else if(Z){Jr=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=Le(o,i.type,i.memoizedProps,i)),G(e,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=ze(o,i.memoizedProps,i)),G(e,o);else if(4!==i.tag){if(13===i.tag&&0!=(4&i.flags)&&(o=null!==i.memoizedState)){var a=i.child;if(null!==a&&(null!==a.child&&(a.child.return=a,Jr(e,a,!0,o)),null!==(o=a.sibling))){o.return=i,i=o;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var fi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=Le(o,i.type,i.memoizedProps,i)),Me(e,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=ze(o,i.memoizedProps,i)),Me(e,o);else if(4!==i.tag){if(13===i.tag&&0!=(4&i.flags)&&(o=null!==i.memoizedState)){var a=i.child;if(null!==a&&(null!==a.child&&(a.child.return=a,fi(e,a,!0,o)),null!==(o=a.sibling))){o.return=i,i=o;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};ei=function(e){var t=e.stateNode;if(null!==e.firstEffect){var n=t.containerInfo,r=Te(n);fi(r,e,!1,!1),t.pendingChildren=r,di(e),Be(n,r)}},ti=function(e,t,n,r,i){var o=e.stateNode,a=e.memoizedProps;if((e=null===t.firstEffect)&&a===r)t.stateNode=o;else{var s=t.stateNode,l=Dn(In.current),u=null;a!==r&&(u=H(s,n,a,r,i,l)),e&&null===u?t.stateNode=o:(o=Pe(o,u,n,a,r,t,e,s),W(o,n,r,i,l)&&di(t),t.stateNode=o,e?di(t):Jr(o,t,!1,!1))}},ni=function(e,t,n,r){n!==r?(e=Dn(Nn.current),n=Dn(In.current),t.stateNode=Y(r,e,n,t),di(t)):t.stateNode=e.stateNode}}else ei=function(){},ti=function(){},ni=function(){};function pi(e,t){if(!Vn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gi(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return ot(t.type)&&at(),null;case 3:return jn(),Ke(nt),Ke(tt),tr(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Kn(t)?di(t):r.hydrate||(t.flags|=256)),ei(t),null;case 5:Wn(t);var i=Dn(Nn.current);if(n=t.type,null!==e&&null!=t.stateNode)ti(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Dn(In.current),Kn(t)){if(!K)throw Error(s(175));e=Ge(t.stateNode,t.type,t.memoizedProps,i,e,t),t.updateQueue=e,null!==e&&di(t)}else{var o=j(n,r,i,e,t);Jr(o,t,!1,!1),t.stateNode=o,W(o,n,r,i,e)&&di(t)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)ni(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(s(166));if(e=Dn(Nn.current),i=Dn(In.current),Kn(t)){if(!K)throw Error(s(176));We(t.stateNode,t.memoizedProps,t)&&di(t)}else t.stateNode=Y(r,e,i,t)}return null;case 13:return Ke(Hn),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,i=!1,null===e?void 0!==t.memoizedProps.fallback&&Kn(t):i=null!==e.memoizedState,r&&!i&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Hn.current)?0===lo&&(lo=3):(0!==lo&&3!==lo||(lo=4),null===ro||0==(134217727&ho)&&0==(134217727&fo)||Ho(ro,oo))),Z&&r&&(t.flags|=4),$&&(r||i)&&(t.flags|=4),null);case 4:return jn(),ei(t),null===e&&ie(t.stateNode.containerInfo),null;case 10:return un(t),null;case 19:if(Ke(Hn),null===(r=t.memoizedState))return null;if(i=0!=(64&t.flags),null===(o=r.rendering))if(i)pi(r,!1);else{if(0!==lo||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(o=Un(e))){for(t.flags|=64,pi(r,!1),null!==(e=o.updateQueue)&&(t.updateQueue=e,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,e=n,r=t.child;null!==r;)n=e,(i=r).flags&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(o=i.alternate)?(i.childLanes=0,i.lanes=n,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,n=o.dependencies,i.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext}),r=r.sibling;return Je(Hn,1&Hn.current|2),t.child}e=e.sibling}null!==r.tail&&Ht()>yo&&(t.flags|=64,i=!0,pi(r,!1),t.lanes=33554432)}else{if(!i)if(null!==(e=Un(o))){if(t.flags|=64,i=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),pi(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!Vn)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ht()-r.renderingStartTime>yo&&1073741824!==n&&(t.flags|=64,i=!0,pi(r,!1),t.lanes=33554432);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ht(),e.sibling=null,t=Hn.current,Je(Hn,i?1&t|2:1&t),e):null;case 23:case 24:return qo(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function mi(e){switch(e.tag){case 1:ot(e.type)&&at();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(jn(),Ke(nt),Ke(tt),tr(),0!=(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Wn(e),null;case 13:return Ke(Hn),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return Ke(Hn),null;case 4:return jn(),null;case 10:return un(e),null;case 23:case 24:return qo(),null;default:return null}}function yi(e,t){try{var n="",r=t;do{n+=en(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function vi(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var bi="function"==typeof WeakMap?WeakMap:Map;function xi(e,t,n){(n=mn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){wo||(wo=!0,Co=r),vi(0,t)},n}function wi(e,t,n){(n=mn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return vi(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===So?So=new Set([this]):So.add(this),vi(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var Ci="function"==typeof WeakSet?WeakSet:Set;function Si(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){ha(e,t)}else t.current=null}function ki(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:tn(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void($&&256&t.flags&&Ee(t.stateNode.containerInfo))}throw Error(s(163))}function _i(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function Ai(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(la(n,e),sa(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:tn(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&xn(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=I(n.child.stateNode);break;case 1:e=n.child.stateNode}xn(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&me(e,n.type,n.memoizedProps,n));case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(K&&null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ye(n)))))}throw Error(s(163))}function Ei(e,t){if($)for(var n=e;;){if(5===n.tag){var r=n.stateNode;t?Se(r):_e(n.stateNode,n.memoizedProps)}else if(6===n.tag)r=n.stateNode,t?ke(r):Ae(r,n.memoizedProps);else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Pi(e,t){if(dt&&"function"==typeof dt.onCommitFiberUnmount)try{dt.onCommitFiberUnmount(ht,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))la(t,n);else{r=t;try{i()}catch(e){ha(r,e)}}n=n.next}while(n!==e)}break;case 1:if(Si(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){ha(t,e)}break;case 5:Si(t);break;case 4:$?Ii(e,t):Z&&Z&&(t=t.stateNode.containerInfo,e=Te(t),Oe(t,e))}}function Ti(e,t){for(var n=t;;)if(Pi(e,n),null===n.child||$&&4===n.tag){if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else n.child.return=n,n=n.child}function Mi(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Bi(e){return 5===e.tag||3===e.tag||4===e.tag}function Oi(e){if($){e:{for(var t=e.return;null!==t;){if(Bi(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(Ce(t),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Bi(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Li(e,n,t):zi(e,n,t)}}function Li(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?be(n,e,t):pe(n,e);else if(4!==r&&null!==(e=e.child))for(Li(e,t,n),e=e.sibling;null!==e;)Li(e,t,n),e=e.sibling}function zi(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?ve(n,e,t):fe(n,e);else if(4!==r&&null!==(e=e.child))for(zi(e,t,n),e=e.sibling;null!==e;)zi(e,t,n),e=e.sibling}function Ii(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag)Ti(e,i),r?we(n,i.stateNode):xe(n,i.stateNode);else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(Pi(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ri(e,t){if($){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void _i(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&ye(n,o,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(s(162));return n=t.memoizedProps,void ge(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(K&&(t=t.stateNode,t.hydrate&&(t.hydrate=!1,Ue(t.containerInfo))));case 13:return Ni(t),void Di(t);case 19:return void Di(t);case 23:case 24:return void Ei(t,null!==t.memoizedState)}throw Error(s(163))}switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void _i(3,t);case 12:case 23:case 24:return;case 13:return Ni(t),void Di(t);case 19:return void Di(t);case 3:K&&((n=t.stateNode).hydrate&&(n.hydrate=!1,Ue(n.containerInfo)))}e:if(Z){switch(t.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:t=t.stateNode,Oe(t.containerInfo,t.pendingChildren);break e}throw Error(s(163))}}function Ni(e){null!==e.memoizedState&&(mo=Ht(),$&&Ei(e.child,!0))}function Di(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ci),t.forEach((function(t){var r=fa.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Fi(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var ji=0,Gi=1,Wi=2,Hi=3,Ui=4;if("function"==typeof Symbol&&Symbol.for){var Yi=Symbol.for;ji=Yi("selector.component"),Gi=Yi("selector.has_pseudo_class"),Wi=Yi("selector.role"),Hi=Yi("selector.test_id"),Ui=Yi("selector.text")}function Xi(e){var t=J(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(s(364));return t}if(null===(e=ae(e)))throw Error(s(362));return e.stateNode.current}function Vi(e,t){switch(t.$$typeof){case ji:if(e.type===t.value)return!0;break;case Gi:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],o=t[i];if(5!==r.tag||!ue(r)){for(;null!=o&&Vi(r,o);)o=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case Wi:if(5===e.tag&&ce(e.stateNode,t.value))return!0;break;case Ui:if((5===e.tag||6===e.tag)&&(null!==(e=le(e))&&0<=e.indexOf(t.value)))return!0;break;case Hi:if(5===e.tag&&("string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(s(365,t))}return!1}function qi(e){switch(e.$$typeof){case ji:return"<"+(P(e.value)||"Unknown")+">";case Gi:return":has("+(qi(e)||"")+")";case Wi:return'[role="'+e.value+'"]';case Ui:return'"'+e.value+'"';case Hi:return'[data-testname="'+e.value+'"]';default:throw Error(s(365,e))}}function Qi(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],o=e[r++],a=t[o];if(5!==i.tag||!ue(i)){for(;null!=a&&Vi(i,a);)a=t[++o];if(o===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,o),i=i.sibling}}return n}function $i(e,t){if(!oe)throw Error(s(363));e=Qi(e=Xi(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)ue(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Zi=null;var Ki=Math.ceil,Ji=l.ReactCurrentDispatcher,eo=l.ReactCurrentOwner,to=l.IsSomeRendererActing,no=0,ro=null,io=null,oo=0,ao=0,so=Ze(0),lo=0,uo=null,co=0,ho=0,fo=0,po=0,go=null,mo=0,yo=1/0;function vo(){yo=Ht()+500}var bo,xo=null,wo=!1,Co=null,So=null,ko=!1,_o=null,Ao=90,Eo=[],Po=[],To=null,Mo=0,Bo=null,Oo=-1,Lo=0,zo=0,Io=null,Ro=!1;function No(){return 0!=(48&no)?Ht():-1!==Oo?Oo:Oo=Ht()}function Do(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Ut()?1:2;if(0===Lo&&(Lo=co),0!==$t.transition){0!==zo&&(zo=null!==go?go.pendingLanes:0),e=Lo;var t=4186112&~zo;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ut(),0!=(4&no)&&98===e?e=vt(12,Lo):e=vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Lo),e}function Fo(e,t,n){if(50<Mo)throw Mo=0,Bo=null,Error(s(185));if(null===(e=jo(e,t)))return null;wt(e,t,n),e===ro&&(fo|=t,4===lo&&Ho(e,oo));var r=Ut();1===t?0!=(8&no)&&0==(48&no)?Uo(e):(Go(e,n),0===no&&(vo(),qt())):(0==(4&no)||98!==r&&99!==r||(null===To?To=new Set([e]):To.add(e)),Go(e,n)),go=e}function jo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Go(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Ct(a),u=1<<l,c=o[l];if(-1===c){if(0==(u&r)||0!=(u&i)){c=t,gt(u);var h=pt;o[l]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);a&=~u}if(r=mt(e,e===ro?oo:0),t=pt,0===r)null!==n&&(n!==Nt&&Et(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Nt&&Et(n)}15===t?(n=Uo.bind(null,e),null===Ft?(Ft=[n],jt=At(Ot,Qt)):Ft.push(n),n=Nt):14===t?n=Vt(99,Uo.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),n=Vt(n,Wo.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function Wo(e){if(Oo=-1,zo=Lo=0,0!=(48&no))throw Error(s(327));var t=e.callbackNode;if(aa()&&e.callbackNode!==t)return null;var n=mt(e,e===ro?oo:0);if(0===n)return null;var r=n,i=no;no|=16;var o=Zo();for(ro===e&&oo===r||(vo(),Qo(e,r));;)try{ea();break}catch(t){$o(e,t)}if(sn(),Ji.current=o,no=i,null!==io?r=0:(ro=null,oo=0,r=lo),0!=(co&fo))Qo(e,0);else if(0!==r){if(2===r&&(no|=64,e.hydrate&&(e.hydrate=!1,Ee(e.containerInfo)),0!==(n=yt(e))&&(r=Ko(e,n))),1===r)throw t=uo,Qo(e,0),Ho(e,n),Go(e,Ht()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:case 5:ra(e);break;case 3:if(Ho(e,n),(62914560&n)===n&&10<(r=mo+500-Ht())){if(0!==mt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){No(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=X(ra.bind(null,e),r);break}ra(e);break;case 4:if(Ho(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-Ct(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=Ht()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ki(n/1960))-n)){e.timeoutHandle=X(ra.bind(null,e),n);break}ra(e);break;default:throw Error(s(329))}}return Go(e,Ht()),e.callbackNode===t?Wo.bind(null,e):null}function Ho(e,t){for(t&=~po,t&=~fo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ct(t),r=1<<n;e[n]=-1,t&=~r}}function Uo(e){if(0!=(48&no))throw Error(s(327));if(aa(),e===ro&&0!=(e.expiredLanes&oo)){var t=oo,n=Ko(e,t);0!=(co&fo)&&(n=Ko(e,t=mt(e,t)))}else n=Ko(e,t=mt(e,0));if(0!==e.tag&&2===n&&(no|=64,e.hydrate&&(e.hydrate=!1,Ee(e.containerInfo)),0!==(t=yt(e))&&(n=Ko(e,t))),1===n)throw n=uo,Qo(e,0),Ho(e,t),Go(e,Ht()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,ra(e),Go(e,Ht()),null}function Yo(e,t){var n=no;no|=1;try{return e(t)}finally{0===(no=n)&&(vo(),qt())}}function Xo(e,t){var n=no;if(0!=(48&n))return e(t);no|=1;try{if(e)return Xt(99,e.bind(null,t))}finally{no=n,qt()}}function Vo(e,t){Je(so,ao),ao|=t,co|=t}function qo(){ao=so.current,Ke(so)}function Qo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==q&&(e.timeoutHandle=q,V(n)),null!==io)for(n=io.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&at();break;case 3:jn(),Ke(nt),Ke(tt),tr();break;case 5:Wn(r);break;case 4:jn();break;case 13:case 19:Ke(Hn);break;case 10:un(r);break;case 23:case 24:qo()}n=n.return}ro=e,io=ka(e.current,null),oo=ao=co=t,lo=0,uo=null,po=fo=ho=0}function $o(e,t){for(;;){var n=io;try{if(sn(),nr.current=Nr,lr){for(var r=or.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lr=!1}if(ir=0,sr=ar=or=null,ur=!1,eo.current=null,null===n||null===n.return){lo=1,uo=t,io=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=oo,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0==(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!=(1&Hn.current),d=a;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var g=d.memoizedProps;f=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!h)}}if(f){var m=d.updateQueue;if(null===m){var y=new Set;y.add(u),d.updateQueue=y}else m.add(u);if(0==(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var v=mn(-1,1);v.tag=2,yn(s,v)}s.lanes|=1;break e}l=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new bi,l=new Set,b.set(u,l)):void 0===(l=b.get(u))&&(l=new Set,b.set(u,l)),!l.has(s)){l.add(s);var x=da.bind(null,o,u,s);u.then(x,x)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((P(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==lo&&(lo=2),l=yi(l,s),d=a;do{switch(d.tag){case 3:o=l,d.flags|=4096,t&=-t,d.lanes|=t,vn(d,xi(0,o,t));break e;case 1:o=l;var w=d.type,C=d.stateNode;if(0==(64&d.flags)&&("function"==typeof w.getDerivedStateFromError||null!==C&&"function"==typeof C.componentDidCatch&&(null===So||!So.has(C)))){d.flags|=4096,t&=-t,d.lanes|=t,vn(d,wi(d,o,t));break e}}d=d.return}while(null!==d)}na(n)}catch(e){t=e,io===n&&null!==n&&(io=n=n.return);continue}break}}function Zo(){var e=Ji.current;return Ji.current=Nr,null===e?Nr:e}function Ko(e,t){var n=no;no|=16;var r=Zo();for(ro===e&&oo===t||Qo(e,t);;)try{Jo();break}catch(t){$o(e,t)}if(sn(),no=n,Ji.current=r,null!==io)throw Error(s(261));return ro=null,oo=0,lo}function Jo(){for(;null!==io;)ta(io)}function ea(){for(;null!==io&&!Pt();)ta(io)}function ta(e){var t=bo(e.alternate,e,ao);e.memoizedProps=e.pendingProps,null===t?na(e):io=t,eo.current=null}function na(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=gi(n,t,ao)))return void(io=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&ao)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=mi(t)))return n.flags&=2047,void(io=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(io=t);io=t=e}while(null!==t);0===lo&&(lo=5)}function ra(e){var t=Ut();return Xt(99,ia.bind(null,e,t)),null}function ia(e,t){do{aa()}while(null!==_o);if(0!=(48&no))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<o;){var u=31-Ct(o),c=1<<u;i[u]=0,a[u]=-1,l[u]=-1,o&=~c}if(null!==To&&0==(24&r)&&To.has(e)&&To.delete(e),e===ro&&(io=ro=null,oo=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){i=no,no|=32,eo.current=null,Io=D(e.containerInfo),Ro=!1,xo=r;do{try{oa()}catch(e){if(null===xo)throw Error(s(330));ha(xo,e),xo=xo.nextEffect}}while(null!==xo);Io=null,xo=r;do{try{for(a=e;null!==xo;){var h=xo.flags;if(16&h&&$&&Ce(xo.stateNode),128&h){var d=xo.alternate;if(null!==d){var f=d.ref;null!==f&&("function"==typeof f?f(null):f.current=null)}}switch(1038&h){case 2:Oi(xo),xo.flags&=-3;break;case 6:Oi(xo),xo.flags&=-3,Ri(xo.alternate,xo);break;case 1024:xo.flags&=-1025;break;case 1028:xo.flags&=-1025,Ri(xo.alternate,xo);break;case 4:Ri(xo.alternate,xo);break;case 8:l=a,o=xo,$?Ii(l,o):Ti(l,o);var p=o.alternate;Mi(o),null!==p&&Mi(p)}xo=xo.nextEffect}}catch(e){if(null===xo)throw Error(s(330));ha(xo,e),xo=xo.nextEffect}}while(null!==xo);Ro&&re(),F(e.containerInfo),e.current=n,xo=r;do{try{for(h=e;null!==xo;){var g=xo.flags;if(36&g&&Ai(h,xo.alternate,xo),128&g){d=void 0;var m=xo.ref;if(null!==m){var y=xo.stateNode;if(5===xo.tag)d=I(y);else d=y;"function"==typeof m?m(d):m.current=d}}xo=xo.nextEffect}}catch(e){if(null===xo)throw Error(s(330));ha(xo,e),xo=xo.nextEffect}}while(null!==xo);xo=null,Dt(),no=i}else e.current=n;if(ko)ko=!1,_o=e,Ao=t;else for(xo=r;null!==xo;)t=xo.nextEffect,xo.nextEffect=null,8&xo.flags&&((g=xo).sibling=null,g.stateNode=null),xo=t;if(0===(r=e.pendingLanes)&&(So=null),1===r?e===Bo?Mo++:(Mo=0,Bo=e):Mo=0,n=n.stateNode,dt&&"function"==typeof dt.onCommitFiberRoot)try{dt.onCommitFiberRoot(ht,n,void 0,64==(64&n.current.flags))}catch(e){}if(Go(e,Ht()),wo)throw wo=!1,e=Co,Co=null,e;return 0!=(8&no)||qt(),null}function oa(){for(;null!==xo;){var e=xo.alternate;Ro||null===Io||(0!=(8&xo.flags)?L(xo,Io)&&(Ro=!0,ne()):13===xo.tag&&Fi(e,xo)&&L(xo,Io)&&(Ro=!0,ne()));var t=xo.flags;0!=(256&t)&&ki(e,xo),0==(512&t)||ko||(ko=!0,Vt(97,(function(){return aa(),null}))),xo=xo.nextEffect}}function aa(){if(90!==Ao){var e=97<Ao?97:Ao;return Ao=90,Xt(e,ua)}return!1}function sa(e,t){Eo.push(t,e),ko||(ko=!0,Vt(97,(function(){return aa(),null})))}function la(e,t){Po.push(t,e),ko||(ko=!0,Vt(97,(function(){return aa(),null})))}function ua(){if(null===_o)return!1;var e=_o;if(_o=null,0!=(48&no))throw Error(s(331));var t=no;no|=32;var n=Po;Po=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===o)throw Error(s(330));ha(o,e)}}for(n=Eo,Eo=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===o)throw Error(s(330));ha(o,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return no=t,qt(),!0}function ca(e,t,n){yn(e,t=xi(0,t=yi(n,t),1)),t=No(),null!==(e=jo(e,1))&&(wt(e,1,t),Go(e,t))}function ha(e,t){if(3===e.tag)ca(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){ca(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===So||!So.has(r))){var i=wi(n,e=yi(t,e),1);if(yn(n,i),i=No(),null!==(n=jo(n,1)))wt(n,1,i),Go(n,i);else if("function"==typeof r.componentDidCatch&&(null===So||!So.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function da(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=No(),e.pingedLanes|=e.suspendedLanes&n,ro===e&&(oo&n)===n&&(4===lo||3===lo&&(62914560&oo)===oo&&500>Ht()-mo?Qo(e,0):po|=n),Go(e,t)}function fa(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Ut()?1:2:(0===Lo&&(Lo=co),0===(t=bt(62914560&~Lo))&&(t=4194304))),n=No(),null!==(e=jo(e,t))&&(wt(e,t,n),Go(e,n))}bo=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||nt.current)Wr=!0;else{if(0==(n&r)){switch(Wr=!1,t.tag){case 3:Kr(t),Jn();break;case 5:Gn(t);break;case 1:ot(t.type)&&ut(t);break;case 4:Fn(t,t.stateNode.containerInfo);break;case 10:ln(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?ii(e,t,n):(Je(Hn,1&Hn.current),null!==(t=hi(e,t,n))?t.sibling:null);Je(Hn,1&Hn.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return ci(e,t,n);t.flags|=64}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),Je(Hn,Hn.current),r)break;return null;case 23:case 24:return t.lanes=0,Vr(e,t,n)}return hi(e,t,n)}Wr=0!=(16384&e.flags)}else Wr=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=it(t,tt.current),hn(t,n),i=dr(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(r)){var o=!0;ut(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,pn(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&Cn(t,r,a,e),i.updater=Sn,t.stateNode=i,i._reactInternals=t,En(t,r,e,n),t=Zr(null,t,r,!0,o,n)}else t.tag=0,Hr(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Sa(e)?1:0;if(null!=e){if((e=e.$$typeof)===m)return 11;if(e===b)return 14}return 2}(i),e=tn(i,e),o){case 0:t=Qr(null,t,i,e,n);break e;case 1:t=$r(null,t,i,e,n);break e;case 11:t=Ur(null,t,i,e,n);break e;case 14:t=Yr(null,t,i,tn(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Qr(e,t,r,i=t.elementType===r?i:tn(r,i),n);case 1:return r=t.type,i=t.pendingProps,$r(e,t,r,i=t.elementType===r?i:tn(r,i),n);case 3:if(Kr(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,gn(e,t),bn(t,r,null,n),(r=t.memoizedState.element)===i)Jn(),t=hi(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(K?(Xn=je(t.stateNode.containerInfo),Yn=t,o=Vn=!0):o=!1),o){if(K&&null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)o=e[i],a=e[i+1],Q?o._workInProgressVersionPrimary=a:o._workInProgressVersionSecondary=a,er.push(o);for(n=Ln(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Hr(e,t,r,n),Jn();t=t.child}return t;case 5:return Gn(t),null===e&&$n(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,U(r,i)?a=null:null!==o&&U(r,o)&&(t.flags|=16),qr(e,t),Hr(e,t,a,n),t.child;case 6:return null===e&&$n(t),null;case 13:return ii(e,t,n);case 4:return Fn(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=On(t,null,r,n):Hr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ur(e,t,r,i=t.elementType===r?i:tn(r,i),n);case 7:return Hr(e,t,t.pendingProps,n),t.child;case 8:case 12:return Hr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,ln(t,o=i.value),null!==a){var l=a.value;if(0===(o=Zt(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(a.children===i.children&&!nt.current){t=hi(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===l.tag&&((c=mn(-1,n&-n)).tag=2,yn(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),cn(l.return,n),u.lanes|=n;break}c=c.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}}Hr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,hn(t,n),r=r(i=dn(i,o.unstable_observedBits)),t.flags|=1,Hr(e,t,r,n),t.child;case 14:return o=tn(i=t.type,t.pendingProps),Yr(e,t,i,o=tn(i.type,o),r,n);case 15:return Xr(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tn(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ot(r)?(e=!0,ut(t)):e=!1,hn(t,n),_n(t,r,i),En(t,r,i,n),Zr(null,t,r,!0,e,n);case 19:return ci(e,t,n);case 23:case 24:return Vr(e,t,n)}throw Error(s(156,t.tag))};var pa={current:!1},ga=a.unstable_flushAllWithoutAsserting,ma="function"==typeof ga;function ya(){if(void 0!==ga)return ga();for(var e=!1;aa();)e=!0;return e}function va(t){try{ya(),function(t){if(null===Zi)try{var n=("require"+Math.random()).slice(0,7);Zi=(e&&e[n]).call(e,"timers").setImmediate}catch(e){Zi=function(e){var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}Zi(t)}((function(){ya()?va(t):t()}))}catch(e){t(e)}}var ba=0,xa=!1;function wa(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ca(e,t,n,r){return new wa(e,t,n,r)}function Sa(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ka(e,t){var n=e.alternate;return null===n?((n=Ca(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _a(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)Sa(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case h:return Aa(n.children,i,o,t);case C:a=8,i|=16;break;case d:a=8,i|=1;break;case f:return(e=Ca(12,n,t,8|i)).elementType=f,e.type=f,e.lanes=o,e;case y:return(e=Ca(13,n,t,i)).type=y,e.elementType=y,e.lanes=o,e;case v:return(e=Ca(19,n,t,i)).elementType=v,e.lanes=o,e;case S:return Ea(n,i,o,t);case k:return(e=Ca(24,n,t,i)).elementType=k,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case p:a=10;break e;case g:a=9;break e;case m:a=11;break e;case b:a=14;break e;case x:a=16,r=null;break e;case w:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ca(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Aa(e,t,n,r){return(e=Ca(7,e,r,t)).lanes=n,e}function Ea(e,t,n,r){return(e=Ca(23,e,r,t)).elementType=S,e.lanes=n,e}function Pa(e,t,n){return(e=Ca(6,e,null,t)).lanes=n,e}function Ta(e,t,n){return(t=Ca(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ma(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=q,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),K&&(this.mutableSourceEagerHydrationData=null)}function Ba(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return null===(e=O(t))?null:e.stateNode}function Oa(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function La(e,t){Oa(e,t),(e=e.alternate)&&Oa(e,t)}function za(e){return null===(e=O(e))?null:e.stateNode}function Ia(){return null}return r.IsThisRendererActing=pa,r.act=function(e){function t(){ba--,to.current=n,pa.current=r}!1===xa&&(xa=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),ba++;var n=to.current,r=pa.current;to.current=!0,pa.current=!0;try{var i=Yo(e)}catch(e){throw t(),e}if(null!==i&&"object"==typeof i&&"function"==typeof i.then)return{then:function(e,r){i.then((function(){1<ba||!0===ma&&!0===n?(t(),e()):va((function(n){t(),n?r(n):e()}))}),(function(e){t(),r(e)}))}};try{1!==ba||!1!==ma&&!1!==n||ya(),t()}catch(e){throw t(),e}return{then:function(e){e()}}},r.attemptContinuousHydration=function(e){13===e.tag&&(Fo(e,67108864,No()),La(e,67108864))},r.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=No(),n=Do(e);Fo(e,n,t),La(e,n)}},r.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.hydrate){var n=gt(t.pendingLanes);t.expiredLanes|=n&t.pendingLanes,Go(t,Ht()),0==(48&no)&&(vo(),qt())}break;case 13:var r=No();Xo((function(){return Fo(e,1,r)})),La(e,4)}},r.attemptUserBlockingHydration=function(e){13===e.tag&&(Fo(e,4,No()),La(e,4))},r.batchedEventUpdates=function(e,t){var n=no;no|=2;try{return e(t)}finally{0===(no=n)&&(vo(),qt())}},r.batchedUpdates=Yo,r.createComponentSelector=function(e){return{$$typeof:ji,value:e}},r.createContainer=function(e,t,n){return e=new Ma(e,t,n),t=Ca(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e,pn(t),e},r.createHasPsuedoClassSelector=function(e){return{$$typeof:Gi,value:e}},r.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:c,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},r.createRoleSelector=function(e){return{$$typeof:Wi,value:e}},r.createTestNameSelector=function(e){return{$$typeof:Hi,value:e}},r.createTextSelector=function(e){return{$$typeof:Ui,value:e}},r.deferredUpdates=function(e){return Xt(97,e)},r.discreteUpdates=function(e,t,n,r,i){var o=no;no|=4;try{return Xt(98,e.bind(null,t,n,r,i))}finally{0===(no=o)&&(vo(),qt())}},r.findAllNodes=$i,r.findBoundingRects=function(e,t){if(!oe)throw Error(s(363));t=$i(e,t),e=[];for(var n=0;n<t.length;n++)e.push(se(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,o=n.y,a=o+n.height,l=t-1;0<=l;l--)if(t!==l){var u=e[l],c=u.x,h=c+u.width,d=u.y,f=d+u.height;if(r>=c&&o>=d&&i<=h&&a<=f){e.splice(t,1);break}if(!(r!==c||n.width!==u.width||f<o||d>a)){d>o&&(u.height+=d-o,u.y=o),f<a&&(u.height=a-d),e.splice(t,1);break}if(!(o!==d||n.height!==u.height||h<r||c>i)){c>r&&(u.width+=c-r,u.x=r),h<i&&(u.width=i-c),e.splice(t,1);break}}return e},r.findHostInstance=Ba,r.findHostInstanceWithNoPortals=function(e){return null===(e=function(e){if(!(e=B(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:20===e.tag?e.stateNode.instance:e.stateNode},r.findHostInstanceWithWarning=function(e){return Ba(e)},r.flushControlled=function(e){var t=no;no|=1;try{Xt(99,e)}finally{0===(no=t)&&(vo(),qt())}},r.flushDiscreteUpdates=function(){0==(49&no)&&(function(){if(null!==To){var e=To;To=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Go(e,Ht())}))}qt()}(),aa())},r.flushPassiveEffects=aa,r.flushSync=Xo,r.focusWithin=function(e,t){if(!oe)throw Error(s(363));for(t=Qi(e=Xi(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!ue(n)){if(5===n.tag&&he(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},r.getCurrentUpdateLanePriority=function(){return ft},r.getFindAllNodesFailureDescription=function(e,t){if(!oe)throw Error(s(363));var n=0,r=[];e=[Xi(e),0];for(var i=0;i<e.length;){var o=e[i++],a=e[i++],l=t[a];if((5!==o.tag||!ue(o))&&(Vi(o,l)&&(r.push(qi(l)),++a>n&&(n=a)),a<t.length))for(o=o.child;null!==o;)e.push(o,a),o=o.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(qi(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},r.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?I(e.child.stateNode):e.child.stateNode:null},r.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:za,findFiberByHostInstance:e.findFiberByHostInstance||Ia,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t.isDisabled&&t.supportsFiber)try{ht=t.inject(e),dt=t}catch(e){}e=!0}return e},r.observeVisibleRects=function(e,t,n,r){if(!oe)throw Error(s(363));e=$i(e,t);var i=de(e,n,r).disconnect;return{disconnect:function(){i()}}},r.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},r.runWithPriority=function(e,t){var n=ft;try{return ft=e,t()}finally{ft=n}},r.shouldSuspend=function(){return!1},r.unbatchedUpdates=function(e,t){var n=no;no&=-2,no|=8;try{return e(t)}finally{0===(no=n)&&(vo(),qt())}},r.updateContainer=function(e,t,n,r){var i=t.current,o=No(),a=Do(i);e:if(n){t:{if(T(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(ot(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var u=n.type;if(ot(u)){n=lt(n,u,l);break e}}n=l}else n=et;return null===t.context?t.context=n:t.pendingContext=n,(t=mn(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),yn(i,t),Fo(i,a,o),a},r}},525:(e,t,n)=>{"use strict";e.exports=n(287)},408:(e,t,n)=>{"use strict";var r=n(418),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),u=h("react.memo"),c=h("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var b=v.prototype=new y;b.constructor=v,r(b,m.prototype),b.isPureReactComponent=!0;var x={current:null},w=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!C.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:x.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var _=/\/+/g;function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return a=a(l=e),e=""===r?"."+A(l,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(_,"$&/")+"/"),E(a,t,n,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(_,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+A(s=e[u],u);l+=E(s,t,n,c,a)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=E(s=s.value,t,n,c=r+A(s,u++),a);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return E(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function T(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var M={current:null};function B(){var e=M.current;if(null===e)throw Error(f(321));return e}var O={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(f(143));return e}},t.Component=m,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null==e)throw Error(f(267,e));var o=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)w.call(t,c)&&!C.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];o.children=u}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return B().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,n){return B().useReducer(e,t,n)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="17.0.2"},294:(e,t,n)=>{"use strict";e.exports=n(408)},53:(e,t)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,h=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(h,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,m=null,y=-1,v=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();b=e+v;try{m(!0,e)?w.postMessage(null):(g=!1,m=null)}catch(e){throw w.postMessage(null),e}}else g=!1},n=function(e){m=e,g||(g=!0,w.postMessage(null))},r=function(e,n){y=d((function(){e(t.unstable_now())}),n)},i=function(){f(y),y=-1}}function C(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<_(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>_(a,n))void 0!==l&&0>_(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>_(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function _(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],E=[],P=1,T=null,M=3,B=!1,O=!1,L=!1;function z(e){for(var t=S(E);null!==t;){if(null===t.callback)k(E);else{if(!(t.startTime<=e))break;k(E),t.sortIndex=t.expirationTime,C(A,t)}t=S(E)}}function I(e){if(L=!1,z(e),!O)if(null!==S(A))O=!0,n(R);else{var t=S(E);null!==t&&r(I,t.startTime-e)}}function R(e,n){O=!1,L&&(L=!1,i()),B=!0;var o=M;try{for(z(n),T=S(A);null!==T&&(!(T.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=T.callback;if("function"==typeof a){T.callback=null,M=T.priorityLevel;var s=a(T.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?T.callback=s:T===S(A)&&k(A),z(n)}else k(A);T=S(A)}if(null!==T)var l=!0;else{var u=S(E);null!==u&&r(I,u.startTime-n),l=!1}return l}finally{T=null,M=o,B=!1}}var N=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||B||(O=!0,n(R))},t.unstable_getCurrentPriorityLevel=function(){return M},t.unstable_getFirstCallbackNode=function(){return S(A)},t.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=N,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:P++,callback:o,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(e.sortIndex=a,C(E,e),null===S(A)&&e===S(E)&&(L?i():L=!0,r(I,a-s))):(e.sortIndex=l,C(A,e),O||B||(O=!0,n(R))),e},t.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}}},840:(e,t,n)=>{"use strict";e.exports=n(53)},379:(e,t,n)=>{"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},r=[],i=0;i<e.length;i++){var o=e[i],l=t.base?o[0]+t.base:o[0],u=n[l]||0,c="".concat(l," ").concat(u);n[l]=u+1;var h=s(c),d={css:o[1],media:o[2],sourceMap:o[3]};-1!==h?(a[h].references++,a[h].updater(d)):a.push({identifier:c,updater:m(d,t),references:1}),r.push(c)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,h=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function d(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=h(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function f(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,g=0;function m(e,t){var n,r,i;if(t.singleton){var o=g++;n=p||(p=u(t)),r=d.bind(null,n,o,!1),i=d.bind(null,n,o,!0)}else n=u(t),r=f.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=s(n[r]);a[i].references--}for(var o=l(e,t),u=0;u<n.length;u++){var c=s(n[u]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}n=o}}}},842:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});class r{constructor(e=[],t=i){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,r=t[e];for(;e>0;){const i=e-1>>1,o=t[i];if(n(r,o)>=0)break;t[e]=o,e=i}t[e]=r}_down(e){const{data:t,compare:n}=this,r=this.length>>1,i=t[e];for(;e<r;){let r=1+(e<<1),o=t[r];const a=r+1;if(a<this.length&&n(t[a],o)<0&&(r=a,o=t[a]),n(o,i)>=0)break;t[e]=o,e=r}t[e]=i}}function i(e,t){return e<t?-1:e>t?1:0}}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={id:t,loaded:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var i={};return(()=>{"use strict";r.r(i);var e={};r.r(e),r.d(e,{appendChild:()=>Xn,appendChildToContainer:()=>Vn,appendInitialChild:()=>An,cancelTimeout:()=>jn,clearContainer:()=>or,commitMount:()=>Jn,commitTextUpdate:()=>Kn,commitUpdate:()=>er,createInstance:()=>En,createTextInstance:()=>Pn,finalizeInitialChildren:()=>Tn,getChildHostContext:()=>Dn,getPublicInstance:()=>Mn,getRootHostContext:()=>Nn,hideInstance:()=>tr,hideTextInstance:()=>nr,idlePriority:()=>Sn.unstable_IdlePriority,insertBefore:()=>qn,insertInContainerBefore:()=>Qn,isPrimaryRenderer:()=>Hn,noTimeout:()=>Gn,now:()=>Sn.unstable_now,prepareForCommit:()=>Bn,preparePortalMount:()=>On,prepareUpdate:()=>Ln,removeChild:()=>$n,removeChildFromContainer:()=>Zn,resetAfterCommit:()=>zn,resetTextContent:()=>In,run:()=>Sn.unstable_runWithPriority,scheduleTimeout:()=>Fn,shouldDeprioritizeSubtree:()=>Rn,shouldSetTextContent:()=>Wn,supportsMutation:()=>Yn,unhideInstance:()=>rr,unhideTextInstance:()=>ir,warnsIfNotActing:()=>Un});var n=r(294),o=r(935),a=Math.PI/180;const s="undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},l={_global:s,version:"8.2.2",isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(e){}.toString()),dblClickWindow:400,getAngle:e=>l.angleDeg?e*a:e,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>l.DD.isDragging,isDragReady:()=>!!l.DD.node,document:s.document,_injectGlobal(e){s.Konva=e}},u=e=>{l[e.prototype.getClassName()]=e};l._injectGlobal(l);class c{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new c(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){var t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}translate(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this}scale(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this}rotate(e){var t=Math.cos(e),n=Math.sin(e),r=this.m[0]*t+this.m[2]*n,i=this.m[1]*t+this.m[3]*n,o=this.m[0]*-n+this.m[2]*t,a=this.m[1]*-n+this.m[3]*t;return this.m[0]=r,this.m[1]=i,this.m[2]=o,this.m[3]=a,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,t){var n=this.m[0]+this.m[2]*t,r=this.m[1]+this.m[3]*t,i=this.m[2]+this.m[0]*e,o=this.m[3]+this.m[1]*e;return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=o,this}multiply(e){var t=this.m[0]*e.m[0]+this.m[2]*e.m[1],n=this.m[1]*e.m[0]+this.m[3]*e.m[1],r=this.m[0]*e.m[2]+this.m[2]*e.m[3],i=this.m[1]*e.m[2]+this.m[3]*e.m[3],o=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],a=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=o,this.m[5]=a,this}invert(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,n=-this.m[1]*e,r=-this.m[2]*e,i=this.m[0]*e,o=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=o,this.m[5]=a,this}getMatrix(){return this.m}setAbsolutePosition(e,t){var n=this.m[0],r=this.m[1],i=this.m[2],o=this.m[3],a=this.m[4],s=(n*(t-this.m[5])-r*(e-a))/(n*o-r*i),l=(e-a-i*s)/n;return this.translate(l,s)}decompose(){var e=this.m[0],t=this.m[1],n=this.m[2],r=this.m[3],i=e*r-t*n;let o={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=e||0!=t){var a=Math.sqrt(e*e+t*t);o.rotation=t>0?Math.acos(e/a):-Math.acos(e/a),o.scaleX=a,o.scaleY=i/a,o.skewX=(e*n+t*r)/i,o.skewY=0}else if(0!=n||0!=r){var s=Math.sqrt(n*n+r*r);o.rotation=Math.PI/2-(r>0?Math.acos(-n/s):-Math.acos(n/s)),o.scaleX=i/s,o.scaleY=s,o.skewX=0,o.skewY=(e*n+t*r)/i}return o.rotation=v._getRotation(o.rotation),o}}var h=Math.PI/180,d=180/Math.PI,f="Konva error: ",p={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},g=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,m=[];const y="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||function(e){setTimeout(e,60)},v={_isElement:e=>!(!e||1!=e.nodeType),_isFunction:e=>!!(e&&e.constructor&&e.call&&e.apply),_isPlainObject:e=>!!e&&e.constructor===Object,_isArray:e=>"[object Array]"===Object.prototype.toString.call(e),_isNumber:e=>"[object Number]"===Object.prototype.toString.call(e)&&!isNaN(e)&&isFinite(e),_isString:e=>"[object String]"===Object.prototype.toString.call(e),_isBoolean:e=>"[object Boolean]"===Object.prototype.toString.call(e),isObject:e=>e instanceof Object,isValidSelector(e){if("string"!=typeof e)return!1;var t=e[0];return"#"===t||"."===t||t===t.toUpperCase()},_sign:e=>0===e||e>0?1:-1,requestAnimFrame(e){m.push(e),1===m.length&&y((function(){const e=m;m=[],e.forEach((function(e){e()}))}))},createCanvasElement(){var e=document.createElement("canvas");try{e.style=e.style||{}}catch(e){}return e},createImageElement:()=>document.createElement("img"),_isInDocument(e){for(;e=e.parentNode;)if(e==document)return!0;return!1},_urlToImage(e,t){var n=v.createImageElement();n.onload=function(){t(n)},n.src=e},_rgbToHex:(e,t,n)=>((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1),_hexToRgb(e){e=e.replace("#","");var t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:255&t}},getRandomColor(){for(var e=(16777215*Math.random()<<0).toString(16);e.length<6;)e="0"+e;return"#"+e},getRGB(e){var t;return e in p?{r:(t=p[e])[0],g:t[1],b:t[2]}:"#"===e[0]?this._hexToRgb(e.substring(1)):"rgb("===e.substr(0,4)?(t=g.exec(e.replace(/ /g,"")),{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}):{r:0,g:0,b:0}},colorToRGBA:e=>(e=e||"black",v._namedColorToRBA(e)||v._hex3ColorToRGBA(e)||v._hex6ColorToRGBA(e)||v._rgbColorToRGBA(e)||v._rgbaColorToRGBA(e)||v._hslColorToRGBA(e)),_namedColorToRBA(e){var t=p[e.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA(e){if(0===e.indexOf("rgb(")){var t=(e=e.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA(e){if(0===e.indexOf("rgba(")){var t=(e=e.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex6ColorToRGBA(e){if("#"===e[0]&&7===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:1}},_hex3ColorToRGBA(e){if("#"===e[0]&&4===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:1}},_hslColorToRGBA(e){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(e)){const[t,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e),r=Number(n[0])/360,i=Number(n[1])/100,o=Number(n[2])/100;let a,s,l;if(0===i)return l=255*o,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};a=o<.5?o*(1+i):o+i-o*i;const u=2*o-a,c=[0,0,0];for(let e=0;e<3;e++)s=r+1/3*-(e-1),s<0&&s++,s>1&&s--,l=6*s<1?u+6*(a-u)*s:2*s<1?a:3*s<2?u+(a-u)*(2/3-s)*6:u,c[e]=255*l;return{r:Math.round(c[0]),g:Math.round(c[1]),b:Math.round(c[2]),a:1}}},haveIntersection:(e,t)=>!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y),cloneObject(e){var t={};for(var n in e)this._isPlainObject(e[n])?t[n]=this.cloneObject(e[n]):this._isArray(e[n])?t[n]=this.cloneArray(e[n]):t[n]=e[n];return t},cloneArray:e=>e.slice(0),degToRad:e=>e*h,radToDeg:e=>e*d,_degToRad:e=>(v.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),v.degToRad(e)),_radToDeg:e=>(v.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),v.radToDeg(e)),_getRotation:e=>l.angleDeg?v.radToDeg(e):e,_capitalize:e=>e.charAt(0).toUpperCase()+e.slice(1),throw(e){throw new Error(f+e)},error(e){console.error(f+e)},warn(e){l.showWarnings&&console.warn("Konva warning: "+e)},each(e,t){for(var n in e)t(n,e[n])},_inRange:(e,t,n)=>t<=e&&e<n,_getProjectionToSegment(e,t,n,r,i,o){var a,s,l,u=(e-n)*(e-n)+(t-r)*(t-r);if(0==u)a=e,s=t,l=(i-n)*(i-n)+(o-r)*(o-r);else{var c=((i-e)*(n-e)+(o-t)*(r-t))/u;c<0?(a=e,s=t,l=(e-i)*(e-i)+(t-o)*(t-o)):c>1?(a=n,s=r,l=(n-i)*(n-i)+(r-o)*(r-o)):l=((a=e+c*(n-e))-i)*(a-i)+((s=t+c*(r-t))-o)*(s-o)}return[a,s,l]},_getProjectionToLine(e,t,n){var r=v.cloneObject(e),i=Number.MAX_VALUE;return t.forEach((function(o,a){if(n||a!==t.length-1){var s=t[(a+1)%t.length],l=v._getProjectionToSegment(o.x,o.y,s.x,s.y,e.x,e.y),u=l[0],c=l[1],h=l[2];h<i&&(r.x=u,r.y=c,i=h)}})),r},_prepareArrayForTween(e,t,n){var r,i=[],o=[];if(e.length>t.length){var a=t;t=e,e=a}for(r=0;r<e.length;r+=2)i.push({x:e[r],y:e[r+1]});for(r=0;r<t.length;r+=2)o.push({x:t[r],y:t[r+1]});var s=[];return o.forEach((function(e){var t=v._getProjectionToLine(e,i,n);s.push(t.x),s.push(t.y)})),s},_prepareToStringify(e){var t;for(var n in e.visitedByCircularReferenceRemoval=!0,e)if(e.hasOwnProperty(n)&&e[n]&&"object"==typeof e[n])if(t=Object.getOwnPropertyDescriptor(e,n),e[n].visitedByCircularReferenceRemoval||v._isElement(e[n])){if(!t.configurable)return null;delete e[n]}else if(null===v._prepareToStringify(e[n])){if(!t.configurable)return null;delete e[n]}return delete e.visitedByCircularReferenceRemoval,e},_assign(e,t){for(var n in t)e[n]=t[n];return e},_getFirstPointerId:e=>e.touches?e.changedTouches[0].identifier:999};function b(e){return v._isString(e)?'"'+e+'"':"[object Number]"===Object.prototype.toString.call(e)||v._isBoolean(e)?e:Object.prototype.toString.call(e)}function x(e){return e>255?255:e<0?0:Math.round(e)}function w(){if(l.isUnminified)return function(e,t){return v._isNumber(e)||v.warn(b(e)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),e}}function C(e){if(l.isUnminified)return function(t,n){let r=v._isNumber(t),i=v._isArray(t)&&t.length==e;return r||i||v.warn(b(t)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+e+")"),t}}function S(){if(l.isUnminified)return function(e,t){return v._isNumber(e)||"auto"===e||v.warn(b(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),e}}function k(){if(l.isUnminified)return function(e,t){return v._isString(e)||v.warn(b(e)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),e}}function _(){if(l.isUnminified)return function(e,t){const n=v._isString(e),r="[object CanvasGradient]"===Object.prototype.toString.call(e)||e&&e.addColorStop;return n||r||v.warn(b(e)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),e}}function A(){if(l.isUnminified)return function(e,t){return!0===e||!1===e||v.warn(b(e)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),e}}var E="get",P="set";const T={addGetterSetter(e,t,n,r,i){T.addGetter(e,t,n),T.addSetter(e,t,r,i),T.addOverloadedGetterSetter(e,t)},addGetter(e,t,n){var r=E+v._capitalize(t);e.prototype[r]=e.prototype[r]||function(){var e=this.attrs[t];return void 0===e?n:e}},addSetter(e,t,n,r){var i=P+v._capitalize(t);e.prototype[i]||T.overWriteSetter(e,t,n,r)},overWriteSetter(e,t,n,r){var i=P+v._capitalize(t);e.prototype[i]=function(e){return n&&null!=e&&(e=n.call(this,e,t)),this._setAttr(t,e),r&&r.call(this),this}},addComponentsGetterSetter(e,t,n,r,i){var o,a,s=n.length,u=v._capitalize,c=E+u(t),h=P+u(t);e.prototype[c]=function(){var e={};for(o=0;o<s;o++)e[a=n[o]]=this.getAttr(t+u(a));return e};var d=function(e){if(l.isUnminified)return function(t,n){return v.isObject(t)||v.warn(b(t)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+e),t}}(n);e.prototype[h]=function(e){var n,o=this.attrs[t];for(n in r&&(e=r.call(this,e)),d&&d.call(this,e,t),e)e.hasOwnProperty(n)&&this._setAttr(t+u(n),e[n]);return this._fireChangeEvent(t,o,e),i&&i.call(this),this},T.addOverloadedGetterSetter(e,t)},addOverloadedGetterSetter(e,t){var n=v._capitalize(t),r=P+n,i=E+n;e.prototype[t]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(e,t,n,r){v.error("Adding deprecated "+t);var i=E+v._capitalize(t),o=t+" property is deprecated and will be removed soon. Look at Konva change log for more information.";e.prototype[i]=function(){v.error(o);var e=this.attrs[t];return void 0===e?n:e},T.addSetter(e,t,r,(function(){v.error(o)})),T.addOverloadedGetterSetter(e,t)},backCompat(e,t){v.each(t,(function(t,n){var r=e.prototype[n],i=E+v._capitalize(t),o=P+v._capitalize(t);function a(){r.apply(this,arguments),v.error('"'+t+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}e.prototype[t]=a,e.prototype[i]=a,e.prototype[o]=a}))},afterSetFilter(){this._filterUpToDate=!1}};function M(e){var t,n,r=[],i=e.length,o=v;for(t=0;t<i;t++)n=e[t],o._isNumber(n)?n=Math.round(1e3*n)/1e3:o._isString(n)||(n+=""),r.push(n);return r}var B=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class O{constructor(e){this.canvas=e,this._context=e._canvas.getContext("2d"),l.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,t){var n,r,i,o,a=this.traceArr,s=a.length,l="";for(n=0;n<s;n++)(i=(r=a[n]).method)?(o=r.args,l+=i,e?l+="()":v._isArray(o[0])?l+="(["+o.join(",")+"])":(t&&(o=o.map((e=>"number"==typeof e?Math.floor(e):e))),l+="("+o.join(",")+")")):(l+=r.property,e||(l+="="+r.val)),l+=";";return l}clearTrace(){this.traceArr=[]}_trace(e){var t=this.traceArr;t.push(e),t.length>=100&&t.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)}_applyLineCap(e){var t=e.getLineCap();t&&this.setAttr("lineCap",t)}_applyOpacity(e){var t=e.getAbsoluteOpacity();1!==t&&this.setAttr("globalAlpha",t)}_applyLineJoin(e){var t=e.attrs.lineJoin;t&&this.setAttr("lineJoin",t)}setAttr(e,t){this._context[e]=t}arc(e,t,n,r,i,o){this._context.arc(e,t,n,r,i,o)}arcTo(e,t,n,r,i){this._context.arcTo(e,t,n,r,i)}beginPath(){this._context.beginPath()}bezierCurveTo(e,t,n,r,i,o){this._context.bezierCurveTo(e,t,n,r,i,o)}clearRect(e,t,n,r){this._context.clearRect(e,t,n,r)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(e,t){var n=arguments;return 2===n.length?this._context.createImageData(e,t):1===n.length?this._context.createImageData(e):void 0}createLinearGradient(e,t,n,r){return this._context.createLinearGradient(e,t,n,r)}createPattern(e,t){return this._context.createPattern(e,t)}createRadialGradient(e,t,n,r,i,o){return this._context.createRadialGradient(e,t,n,r,i,o)}drawImage(e,t,n,r,i,o,a,s,l){var u=arguments,c=this._context;3===u.length?c.drawImage(e,t,n):5===u.length?c.drawImage(e,t,n,r,i):9===u.length&&c.drawImage(e,t,n,r,i,o,a,s,l)}ellipse(e,t,n,r,i,o,a,s){this._context.ellipse(e,t,n,r,i,o,a,s)}isPointInPath(e,t){return this._context.isPointInPath(e,t)}fill(e){e?this._context.fill(e):this._context.fill()}fillRect(e,t,n,r){this._context.fillRect(e,t,n,r)}strokeRect(e,t,n,r){this._context.strokeRect(e,t,n,r)}fillText(e,t,n,r){r?this._context.fillText(e,t,n,r):this._context.fillText(e,t,n)}measureText(e){return this._context.measureText(e)}getImageData(e,t,n,r){return this._context.getImageData(e,t,n,r)}lineTo(e,t){this._context.lineTo(e,t)}moveTo(e,t){this._context.moveTo(e,t)}rect(e,t,n,r){this._context.rect(e,t,n,r)}putImageData(e,t,n){this._context.putImageData(e,t,n)}quadraticCurveTo(e,t,n,r){this._context.quadraticCurveTo(e,t,n,r)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,t){this._context.scale(e,t)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,t,n,r,i,o){this._context.setTransform(e,t,n,r,i,o)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,t,n,r){this._context.strokeText(e,t,n,r)}transform(e,t,n,r,i,o){this._context.transform(e,t,n,r,i,o)}translate(e,t){this._context.translate(e,t)}_enableTrace(){var e,t,n=this,r=B.length,i=this.setAttr,o=function(e){var r,i=n[e];n[e]=function(){return t=M(Array.prototype.slice.call(arguments,0)),r=i.apply(n,arguments),n._trace({method:e,args:t}),r}};for(e=0;e<r;e++)o(B[e]);n.setAttr=function(){i.apply(n,arguments);var e=arguments[0],t=arguments[1];"shadowOffsetX"!==e&&"shadowOffsetY"!==e&&"shadowBlur"!==e||(t/=this.canvas.getPixelRatio()),n._trace({property:e,val:t})}}_applyGlobalCompositeOperation(e){const t=e.attrs.globalCompositeOperation;!t||"source-over"===t||this.setAttr("globalCompositeOperation",t)}}["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(e){Object.defineProperty(O.prototype,e,{get(){return this._context[e]},set(t){this._context[e]=t}})}));class L extends O{_fillColor(e){var t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){var t=e._getLinearGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fillRadialGradient(e){var t=e._getRadialGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fill(e){var t=e.fill(),n=e.getFillPriority();if(t&&"color"===n)this._fillColor(e);else{var r=e.getFillPatternImage();if(r&&"pattern"===n)this._fillPattern(e);else{var i=e.getFillLinearGradientColorStops();if(i&&"linear-gradient"===n)this._fillLinearGradient(e);else{var o=e.getFillRadialGradientColorStops();o&&"radial-gradient"===n?this._fillRadialGradient(e):t?this._fillColor(e):r?this._fillPattern(e):i?this._fillLinearGradient(e):o&&this._fillRadialGradient(e)}}}}_strokeLinearGradient(e){var t=e.getStrokeLinearGradientStartPoint(),n=e.getStrokeLinearGradientEndPoint(),r=e.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(t.x,t.y,n.x,n.y);if(r){for(var o=0;o<r.length;o+=2)i.addColorStop(r[o],r[o+1]);this.setAttr("strokeStyle",i)}}_stroke(e){var t=e.dash(),n=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!n){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),n||this.restore()}}_applyShadow(e){var t,n,r,i=null!==(t=e.getShadowRGBA())&&void 0!==t?t:"black",o=null!==(n=e.getShadowBlur())&&void 0!==n?n:5,a=null!==(r=e.getShadowOffset())&&void 0!==r?r:{x:0,y:0},s=e.getAbsoluteScale(),l=this.canvas.getPixelRatio(),u=s.x*l,c=s.y*l;this.setAttr("shadowColor",i),this.setAttr("shadowBlur",o*Math.min(Math.abs(u),Math.abs(c))),this.setAttr("shadowOffsetX",a.x*u),this.setAttr("shadowOffsetY",a.y*c)}}class z extends O{_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){var t=e.getStrokeScaleEnabled();if(!t){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(e);var r=e.hitStrokeWidth(),i="auto"===r?e.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),t||this.restore()}}}var I;class R{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var t=(e||{}).pixelRatio||l.pixelRatio||function(){if(I)return I;var e=v.createCanvasElement().getContext("2d");return I=(l._global.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}();this.pixelRatio=t,this._canvas=v.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var t=this.pixelRatio;this.getContext()._context.scale(t,t)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var t=this.pixelRatio;this.getContext()._context.scale(t,t)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,t){this.setWidth(e||0),this.setHeight(t||0)}toDataURL(e,t){try{return this._canvas.toDataURL(e,t)}catch(e){try{return this._canvas.toDataURL()}catch(e){return v.error("Unable to get data URL. "+e.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}T.addGetterSetter(R,"pixelRatio",void 0,w());class N extends R{constructor(e={width:0,height:0}){super(e),this.context=new L(this),this.setSize(e.width,e.height)}}class D extends R{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new z(this),this.setSize(e.width,e.height)}}const F={get isDragging(){var e=!1;return F._dragElements.forEach((t=>{"dragging"===t.dragStatus&&(e=!0)})),e},justDragged:!1,get node(){var e;return F._dragElements.forEach((t=>{e=t.node})),e},_dragElements:new Map,_drag(e){const t=[];F._dragElements.forEach(((n,r)=>{const{node:i}=n,o=i.getStage();o.setPointersPositions(e),void 0===n.pointerId&&(n.pointerId=v._getFirstPointerId(e));const a=o._changedPointerPositions.find((e=>e.id===n.pointerId));if(a){if("dragging"!==n.dragStatus){var s=i.dragDistance();if(Math.max(Math.abs(a.x-n.startPointerPos.x),Math.abs(a.y-n.startPointerPos.y))<s)return;if(i.startDrag({evt:e}),!i.isDragging())return}i._setDragPosition(e,n),t.push(i)}})),t.forEach((t=>{t.fire("dragmove",{type:"dragmove",target:t,evt:e},!0)}))},_endDragBefore(e){F._dragElements.forEach((t=>{const{node:n}=t,r=n.getStage();e&&r.setPointersPositions(e);if(!r._changedPointerPositions.find((e=>e.id===t.pointerId)))return;"dragging"!==t.dragStatus&&"stopped"!==t.dragStatus||(F.justDragged=!0,l._mouseListenClick=!1,l._touchListenClick=!1,l._pointerListenClick=!1,t.dragStatus="stopped");const i=t.node.getLayer()||t.node instanceof l.Stage&&t.node;i&&i.batchDraw()}))},_endDragAfter(e){F._dragElements.forEach(((t,n)=>{"stopped"===t.dragStatus&&t.node.fire("dragend",{type:"dragend",target:t.node,evt:e},!0),"dragging"!==t.dragStatus&&F._dragElements.delete(n)}))}};l.isBrowser&&(window.addEventListener("mouseup",F._endDragBefore,!0),window.addEventListener("touchend",F._endDragBefore,!0),window.addEventListener("mousemove",F._drag),window.addEventListener("touchmove",F._drag),window.addEventListener("mouseup",F._endDragAfter,!1),window.addEventListener("touchend",F._endDragAfter,!1));var j="absoluteOpacity",G="allEventListeners",W="absoluteTransform",H="absoluteScale",U="canvas",Y="listening",X="mouseenter",V="mouseleave",q="Shape",Q=" ",$="stage",Z="transform",K="visible",J=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Q);let ee=1;class te{constructor(e){this._id=ee++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){e!==Z&&e!==W||!this._cache.get(e)?e?this._cache.delete(e):this._cache.clear():this._cache.get(e).dirty=!0}_getCache(e,t){var n=this._cache.get(e);return(void 0===n||(e===Z||e===W)&&!0===n.dirty)&&(n=t.call(this),this._cache.set(e,n)),n}_calculate(e,t,n){if(!this._attachedDepsListeners.get(e)){const n=t.map((e=>e+"Change.konva")).join(Q);this.on(n,(()=>{this._clearCache(e)})),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,n)}_getCanvasCache(){return this._cache.get(U)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===W&&this.fire("absoluteTransformChange")}clearCache(){return this._cache.delete(U),this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var t=e||{},n={};void 0!==t.x&&void 0!==t.y&&void 0!==t.width&&void 0!==t.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var r=Math.ceil(t.width||n.width),i=Math.ceil(t.height||n.height),o=t.pixelRatio,a=void 0===t.x?n.x:t.x,s=void 0===t.y?n.y:t.y,l=t.offset||0,u=t.drawBorder||!1,c=t.hitCanvasPixelRatio||1;if(r&&i){a-=l,s-=l;var h=new N({pixelRatio:o,width:r+=2*l,height:i+=2*l}),d=new N({pixelRatio:o,width:0,height:0}),f=new D({pixelRatio:c,width:r,height:i}),p=h.getContext(),g=f.getContext();return f.isCache=!0,h.isCache=!0,this._cache.delete(U),this._filterUpToDate=!1,!1===t.imageSmoothingEnabled&&(h.getContext()._context.imageSmoothingEnabled=!1,d.getContext()._context.imageSmoothingEnabled=!1),p.save(),g.save(),p.translate(-a,-s),g.translate(-a,-s),this._isUnderCache=!0,this._clearSelfAndDescendantCache(j),this._clearSelfAndDescendantCache(H),this.drawScene(h,this),this.drawHit(f,this),this._isUnderCache=!1,p.restore(),g.restore(),u&&(p.save(),p.beginPath(),p.rect(0,0,r,i),p.closePath(),p.setAttr("strokeStyle","red"),p.setAttr("lineWidth",5),p.stroke(),p.restore()),this._cache.set(U,{scene:h,filter:d,hit:f,x:a,y:s}),this._requestDraw(),this}v.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")}isCached(){return this._cache.has(U)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,t){var n,r,i,o,a=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],s=this.getAbsoluteTransform(t);return a.forEach((function(e){var t=s.point(e);void 0===n&&(n=i=t.x,r=o=t.y),n=Math.min(n,t.x),r=Math.min(r,t.y),i=Math.max(i,t.x),o=Math.max(o,t.y)})),{x:n,y:r,width:i-n,height:o-r}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const t=this._getCanvasCache();e.translate(t.x,t.y);var n=this._getCachedSceneCanvas(),r=n.pixelRatio;e.drawImage(n._canvas,0,0,n.width/r,n.height/r),e.restore()}_drawCachedHitCanvas(e){var t=this._getCanvasCache(),n=t.hit;e.save(),e.translate(t.x,t.y),e.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),e.restore()}_getCachedSceneCanvas(){var e,t,n,r,i=this.filters(),o=this._getCanvasCache(),a=o.scene,s=o.filter,l=s.getContext();if(i){if(!this._filterUpToDate){var u=a.pixelRatio;s.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio);try{for(e=i.length,l.clear(),l.drawImage(a._canvas,0,0,a.getWidth()/u,a.getHeight()/u),t=l.getImageData(0,0,s.getWidth(),s.getHeight()),n=0;n<e;n++)"function"==typeof(r=i[n])?(r.call(this,t),l.putImageData(t,0,0)):v.error("Filter should be type of function, but got "+typeof r+" instead. Please check correct filters")}catch(e){v.error("Unable to apply filter. "+e.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return s}return a}on(e,t){if(this._cache&&this._cache.delete(G),3===arguments.length)return this._delegate.apply(this,arguments);var n,r,i,o,a=e.split(Q),s=a.length;for(n=0;n<s;n++)i=(r=a[n].split("."))[0],o=r[1]||"",this.eventListeners[i]||(this.eventListeners[i]=[]),this.eventListeners[i].push({name:o,handler:t});return this}off(e,t){var n,r,i,o,a,s=(e||"").split(Q),l=s.length;if(this._cache&&this._cache.delete(G),!e)for(r in this.eventListeners)this._off(r);for(n=0;n<l;n++)if(o=(i=s[n].split("."))[0],a=i[1],o)this.eventListeners[o]&&this._off(o,a,t);else for(r in this.eventListeners)this._off(r,a,t);return this}dispatchEvent(e){var t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this}addEventListener(e,t){return this.on(e,(function(e){t.call(this,e.evt)})),this}removeEventListener(e){return this.off(e),this}_delegate(e,t,n){var r=this;this.on(e,(function(e){for(var i=e.target.findAncestors(t,!0,r),o=0;o<i.length;o++)(e=v.cloneObject(e)).currentTarget=i[o],n.call(i[o],e)}))}remove(){return this.isDragging()&&this.stopDrag(),F._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(W),this._clearSelfAndDescendantCache(j),this._clearSelfAndDescendantCache(H),this._clearSelfAndDescendantCache($),this._clearSelfAndDescendantCache(K),this._clearSelfAndDescendantCache(Y)}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this}getAttr(e){var t="get"+v._capitalize(e);return v._isFunction(this[t])?this[t]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),t=[];e;)t.push(e),e=e.getParent();return t}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges((()=>{var t,n;if(!e)return this;for(t in e)"children"!==t&&(n="set"+v._capitalize(t),v._isFunction(this[n])?this[n](e[t]):this._setAttr(t,e[t]))})),this}isListening(){return this._getCache(Y,this._isListening)}_isListening(e){if(!this.listening())return!1;const t=this.getParent();return!t||t===e||this===e||t._isListening(e)}isVisible(){return this._getCache(K,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const t=this.getParent();return!t||t===e||this===e||t._isVisible(e)}shouldDrawHit(e,t=!1){if(e)return this._isVisible(e)&&this._isListening(e);var n=this.getLayer(),r=!1;F._dragElements.forEach((e=>{"dragging"===e.dragStatus&&("Stage"===e.node.nodeType||e.node.getLayer()===n)&&(r=!0)}));var i=!t&&!l.hitOnDragEnabled&&r;return this.isListening()&&this.isVisible()&&!i}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var e,t,n,r,i=this.getDepth(),o=this,a=0;return"Stage"!==o.nodeType&&function s(l){for(e=[],t=l.length,n=0;n<t;n++)r=l[n],a++,r.nodeType!==q&&(e=e.concat(r.getChildren().slice())),r._id===o._id&&(n=t);e.length>0&&e[0].getDepth()<=i&&s(e)}(o.getStage().getChildren()),a}getDepth(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Z),this._clearSelfAndDescendantCache(W)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges((()=>{this.x(e.x),this.y(e.y)})),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var e=this.getStage().getPointerPosition();if(!e)return null;var t=this.getAbsoluteTransform().copy();return t.invert(),t.point(e)}getAbsolutePosition(e){let t=!1,n=this.parent;for(;n;){if(n.isCached()){t=!0;break}n=n.parent}t&&!e&&(e=!0);var r=this.getAbsoluteTransform(e).getMatrix(),i=new c,o=this.offset();return i.m=r.slice(),i.translate(o.x,o.y),i.getTranslation()}setAbsolutePosition(e){var t=this._clearTransform();this.attrs.x=t.x,this.attrs.y=t.y,delete t.x,delete t.y,this._clearCache(Z);var n=this._getAbsoluteTransform().copy();return n.invert(),n.translate(e.x,e.y),e={x:this.attrs.x+n.getTranslation().x,y:this.attrs.y+n.getTranslation().y},this._setTransform(t),this.setPosition({x:e.x,y:e.y}),this._clearCache(Z),this._clearSelfAndDescendantCache(W),this}_setTransform(e){var t;for(t in e)this.attrs[t]=e[t]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var t=e.x,n=e.y,r=this.x(),i=this.y();return void 0!==t&&(r+=t),void 0!==n&&(i+=n),this.setPosition({x:r,y:i}),this}_eachAncestorReverse(e,t){var n,r,i=[],o=this.getParent();if(!t||t._id!==this._id){for(i.unshift(this);o&&(!t||o._id!==t._id);)i.unshift(o),o=o.parent;for(n=i.length,r=0;r<n;r++)e(i[r])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return v.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index;return this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0}moveUp(){if(!this.parent)return v.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return v.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return v.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(e){if(!this.parent)return v.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&v.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(j,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),t=this.getParent();return t&&!t._isUnderCache&&(e*=t.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var e,t,n,r,i={},o=this.getAttrs();for(e in i.attrs={},o)t=o[e],v.isObject(t)&&!v._isPlainObject(t)&&!v._isArray(t)||(n="function"==typeof this[e]&&this[e],delete o[e],r=n?n.call(this):null,o[e]=t,r!==t&&(i.attrs[e]=t));return i.className=this.getClassName(),v._prepareToStringify(i)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,t,n){var r=[];t&&this._isMatch(e)&&r.push(this);for(var i=this.parent;i;){if(i===n)return r;i._isMatch(e)&&r.push(i),i=i.parent}return r}isAncestorOf(e){return!1}findAncestor(e,t,n){return this.findAncestors(e,t,n)[0]}_isMatch(e){if(!e)return!1;if("function"==typeof e)return e(this);var t,n,r=e.replace(/ /g,"").split(","),i=r.length;for(t=0;t<i;t++)if(n=r[t],v.isValidSelector(n)||(v.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),v.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),v.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(this.className===n||this.nodeType===n)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache($,this._getStage)}_getStage(){var e=this.getParent();return e?e.getStage():void 0}fire(e,t={},n){return t.target=t.target||this,n?this._fireAndBubble(e,t):this._fire(e,t),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(W,this._getAbsoluteTransform)}_getAbsoluteTransform(e){var t;if(e)return t=new c,this._eachAncestorReverse((function(e){var n=e.transformsEnabled();"all"===n?t.multiply(e.getTransform()):"position"===n&&t.translate(e.x()-e.offsetX(),e.y()-e.offsetY())}),e),t;t=this._cache.get(W)||new c,this.parent?this.parent.getAbsoluteTransform().copyInto(t):t.reset();var n=this.transformsEnabled();if("all"===n)t.multiply(this.getTransform());else if("position"===n){const e=this.attrs.x||0,n=this.attrs.y||0,r=this.attrs.offsetX||0,i=this.attrs.offsetY||0;t.translate(e-r,n-i)}return t.dirty=!1,t}getAbsoluteScale(e){for(var t=this;t;)t._isUnderCache&&(e=t),t=t.getParent();const n=this.getAbsoluteTransform(e).decompose();return{x:n.scaleX,y:n.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Z,this._getTransform)}_getTransform(){var e,t,n=this._cache.get(Z)||new c;n.reset();var r=this.x(),i=this.y(),o=l.getAngle(this.rotation()),a=null!==(e=this.attrs.scaleX)&&void 0!==e?e:1,s=null!==(t=this.attrs.scaleY)&&void 0!==t?t:1,u=this.attrs.skewX||0,h=this.attrs.skewY||0,d=this.attrs.offsetX||0,f=this.attrs.offsetY||0;return 0===r&&0===i||n.translate(r,i),0!==o&&n.rotate(o),0===u&&0===h||n.skew(u,h),1===a&&1===s||n.scale(a,s),0===d&&0===f||n.translate(-1*d,-1*f),n.dirty=!1,n}clone(e){var t,n,r,i,o,a=v.cloneObject(this.attrs);for(t in e)a[t]=e[t];var s=new this.constructor(a);for(t in this.eventListeners)for(r=(n=this.eventListeners[t]).length,i=0;i<r;i++)(o=n[i]).name.indexOf("konva")<0&&(s.eventListeners[t]||(s.eventListeners[t]=[]),s.eventListeners[t].push(o));return s}_toKonvaCanvas(e){e=e||{};var t=this.getClientRect(),n=this.getStage(),r=void 0!==e.x?e.x:t.x,i=void 0!==e.y?e.y:t.y,o=e.pixelRatio||1,a=new N({width:e.width||t.width||(n?n.width():0),height:e.height||t.height||(n?n.height():0),pixelRatio:o}),s=a.getContext();return s.save(),(r||i)&&s.translate(-1*r,-1*i),this.drawScene(a),s.restore(),a}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){var t=(e=e||{}).mimeType||null,n=e.quality||null,r=this._toKonvaCanvas(e).toDataURL(t,n);return e.callback&&e.callback(r),r}toImage(e){if(!e||!e.callback)throw"callback required for toImage method config argument";var t=e.callback;delete e.callback,v._urlToImage(this.toDataURL(e),(function(e){t(e)}))}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():l.dragDistance}_off(e,t,n){var r,i,o,a=this.eventListeners[e];for(r=0;r<a.length;r++)if(i=a[r].name,o=a[r].handler,!("konva"===i&&"konva"!==t||t&&i!==t||n&&n!==o)){if(a.splice(r,1),0===a.length){delete this.eventListeners[e];break}r--}}_fireChangeEvent(e,t,n){this._fire(e+"Change",{oldVal:t,newVal:n})}addName(e){if(!this.hasName(e)){var t=this.name(),n=t?t+" "+e:e;this.name(n)}return this}hasName(e){if(!e)return!1;const t=this.name();return!!t&&-1!==(t||"").split(/\s/g).indexOf(e)}removeName(e){var t=(this.name()||"").split(/\s/g),n=t.indexOf(e);return-1!==n&&(t.splice(n,1),this.name(t.join(" "))),this}setAttr(e,t){var n=this["set"+v._capitalize(e)];return v._isFunction(n)?n.call(this,t):this._setAttr(e,t),this}_requestDraw(){if(l.autoDrawEnabled){const e=this.getLayer()||this.getStage();null==e||e.batchDraw()}}_setAttr(e,t){var n=this.attrs[e];(n!==t||v.isObject(t))&&(null==t?delete this.attrs[e]:this.attrs[e]=t,this._shouldFireChangeEvents&&this._fireChangeEvent(e,n,t),this._requestDraw())}_setComponentAttr(e,t,n){var r;void 0!==n&&((r=this.attrs[e])||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=n,this._fireChangeEvent(e,r,n))}_fireAndBubble(e,t,n){if(t&&this.nodeType===q&&(t.target=this),!((e===X||e===V)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n))){this._fire(e,t);var r=(e===X||e===V)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!r&&(n&&n.parent?this._fireAndBubble.call(this.parent,e,t,n):this._fireAndBubble.call(this.parent,e,t))}}_getProtoListeners(e){let t=this._cache.get(G);if(!t){t={};let e=Object.getPrototypeOf(this);for(;e;)if(e.eventListeners){for(var n in e.eventListeners){const r=e.eventListeners[n],i=t[n]||[];t[n]=r.concat(i)}e=Object.getPrototypeOf(e)}else e=Object.getPrototypeOf(e);this._cache.set(G,t)}return t[e]}_fire(e,t){(t=t||{}).currentTarget=this,t.type=e;const n=this._getProtoListeners(e);if(n)for(var r=0;r<n.length;r++)n[r].handler.call(this,t);const i=this.eventListeners[e];if(i)for(r=0;r<i.length;r++)i[r].handler.call(this,t)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var t=e?e.pointerId:void 0,n=this.getStage(),r=this.getAbsolutePosition(),i=n._getPointerById(t)||n._changedPointerPositions[0]||r;F._dragElements.set(this._id,{node:this,startPointerPos:i,offset:{x:i.x-r.x,y:i.y-r.y},dragStatus:"ready",pointerId:t})}startDrag(e,t=!0){F._dragElements.has(this._id)||this._createDragElement(e);F._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},t)}_setDragPosition(e,t){const n=this.getStage()._getPointerById(t.pointerId);if(n){var r={x:n.x-t.offset.x,y:n.y-t.offset.y},i=this.dragBoundFunc();if(void 0!==i){const t=i.call(this,r,e);t?r=t:v.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===r.x&&this._lastPos.y===r.y||(this.setAbsolutePosition(r),this._requestDraw()),this._lastPos=r}}stopDrag(e){const t=F._dragElements.get(this._id);t&&(t.dragStatus="stopped"),F._endDragBefore(e),F._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=F._dragElements.get(this._id);return!!e&&"dragging"===e.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(e){if((!(void 0!==e.evt.button)||l.dragButtons.indexOf(e.evt.button)>=0)&&!this.isDragging()){var t=!1;F._dragElements.forEach((e=>{this.isAncestorOf(e.node)&&(t=!0)})),t||this._createDragElement(e)}}))}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const e=F._dragElements.get(this._id),t=e&&"dragging"===e.dragStatus,n=e&&"ready"===e.dragStatus;t?this.stopDrag():n&&F._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const t=this.getStage();if(!t)return!1;const n={x:-e.x,y:-e.y,width:t.width()+e.x,height:t.height()+e.y};return v.haveIntersection(n,this.getClientRect())}static create(e,t){return v._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)}static _createNode(e,t){var n,r,i,o=te.prototype.getClassName.call(e),a=e.children;t&&(e.attrs.container=t),l[o]||(v.warn('Can not find a node with class name "'+o+'". Fallback to "Shape".'),o="Shape");if(n=new(0,l[o])(e.attrs),a)for(r=a.length,i=0;i<r;i++)n.add(te._createNode(a[i]));return n}}te.prototype.nodeType="Node",te.prototype._attrsAffectingSize=[],te.prototype.eventListeners={},te.prototype.on.call(te.prototype,J,(function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(Z),this._clearSelfAndDescendantCache(W))})),te.prototype.on.call(te.prototype,"visibleChange.konva",(function(){this._clearSelfAndDescendantCache(K)})),te.prototype.on.call(te.prototype,"listeningChange.konva",(function(){this._clearSelfAndDescendantCache(Y)})),te.prototype.on.call(te.prototype,"opacityChange.konva",(function(){this._clearSelfAndDescendantCache(j)}));const ne=T.addGetterSetter;ne(te,"zIndex"),ne(te,"absolutePosition"),ne(te,"position"),ne(te,"x",0,w()),ne(te,"y",0,w()),ne(te,"globalCompositeOperation","source-over",k()),ne(te,"opacity",1,w()),ne(te,"name","",k()),ne(te,"id","",k()),ne(te,"rotation",0,w()),T.addComponentsGetterSetter(te,"scale",["x","y"]),ne(te,"scaleX",1,w()),ne(te,"scaleY",1,w()),T.addComponentsGetterSetter(te,"skew",["x","y"]),ne(te,"skewX",0,w()),ne(te,"skewY",0,w()),T.addComponentsGetterSetter(te,"offset",["x","y"]),ne(te,"offsetX",0,w()),ne(te,"offsetY",0,w()),ne(te,"dragDistance",null,w()),ne(te,"width",0,w()),ne(te,"height",0,w()),ne(te,"listening",!0,A()),ne(te,"preventDefault",!0,A()),ne(te,"filters",null,(function(e){return this._filterUpToDate=!1,e})),ne(te,"visible",!0,A()),ne(te,"transformsEnabled","all",k()),ne(te,"size"),ne(te,"dragBoundFunc"),ne(te,"draggable",!1,A()),T.backCompat(te,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class re extends te{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];const t=this.children||[];var n=[];return t.forEach((function(t){e(t)&&n.push(t)})),n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach((e=>{e.parent=null,e.index=0,e.remove()})),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach((e=>{e.parent=null,e.index=0,e.destroy()})),this.children=[],this._requestDraw(),this}add(...e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}var n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var t=this._generalFind(e,!0);return t.length>0?t[0]:void 0}_generalFind(e,t){var n=[];return this._descendants((r=>{const i=r._isMatch(e);return i&&n.push(r),!(!i||!t)})),n}_descendants(e){let t=!1;const n=this.getChildren();for(const r of n){if(t=e(r),t)return!0;if(r.hasChildren()&&(t=r._descendants(e),t))return!0}return!1}toObject(){var e=te.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach((t=>{e.children.push(t.toObject())})),e}isAncestorOf(e){for(var t=e.getParent();t;){if(t._id===this._id)return!0;t=t.getParent()}return!1}clone(e){var t=te.prototype.clone.call(this,e);return this.getChildren().forEach((function(e){t.add(e.clone())})),t}getAllIntersections(e){var t=[];return this.find("Shape").forEach((function(n){n.isVisible()&&n.intersects(e)&&t.push(n)})),t}_clearSelfAndDescendantCache(e){var t;super._clearSelfAndDescendantCache(e),this.isCached()||null===(t=this.children)||void 0===t||t.forEach((function(t){t._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;null===(e=this.children)||void 0===e||e.forEach((function(e,t){e.index=t})),this._requestDraw()}drawScene(e,t){var n=this.getLayer(),r=e||n&&n.getCanvas(),i=r&&r.getContext(),o=this._getCanvasCache(),a=o&&o.scene,s=r&&r.isCache;if(!this.isVisible()&&!s)return this;if(a){i.save();var l=this.getAbsoluteTransform(t).getMatrix();i.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedSceneCanvas(i),i.restore()}else this._drawChildren("drawScene",r,t);return this}drawHit(e,t){if(!this.shouldDrawHit(t))return this;var n=this.getLayer(),r=e||n&&n.hitCanvas,i=r&&r.getContext(),o=this._getCanvasCache();if(o&&o.hit){i.save();var a=this.getAbsoluteTransform(t).getMatrix();i.transform(a[0],a[1],a[2],a[3],a[4],a[5]),this._drawCachedHitCanvas(i),i.restore()}else this._drawChildren("drawHit",r,t);return this}_drawChildren(e,t,n){var r,i=t&&t.getContext(),o=this.clipWidth(),a=this.clipHeight(),s=this.clipFunc(),l=o&&a||s;const u=n===this;if(l){i.save();var c=this.getAbsoluteTransform(n),h=c.getMatrix();if(i.transform(h[0],h[1],h[2],h[3],h[4],h[5]),i.beginPath(),s)s.call(this,i,this);else{var d=this.clipX(),f=this.clipY();i.rect(d,f,o,a)}i.clip(),h=c.copy().invert().getMatrix(),i.transform(h[0],h[1],h[2],h[3],h[4],h[5])}var p=!u&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===e;p&&(i.save(),i._applyGlobalCompositeOperation(this)),null===(r=this.children)||void 0===r||r.forEach((function(r){r[e](t,n)})),p&&i.restore(),l&&i.restore()}getClientRect(e){var t,n,r,i,o,a=(e=e||{}).skipTransform,s=e.relativeTo,l={x:1/0,y:1/0,width:0,height:0},u=this;null===(t=this.children)||void 0===t||t.forEach((function(t){if(t.visible()){var a=t.getClientRect({relativeTo:u,skipShadow:e.skipShadow,skipStroke:e.skipStroke});0===a.width&&0===a.height||(void 0===n?(n=a.x,r=a.y,i=a.x+a.width,o=a.y+a.height):(n=Math.min(n,a.x),r=Math.min(r,a.y),i=Math.max(i,a.x+a.width),o=Math.max(o,a.y+a.height)))}}));for(var c=this.find("Shape"),h=!1,d=0;d<c.length;d++){if(c[d]._isVisible(this)){h=!0;break}}return l=h&&void 0!==n?{x:n,y:r,width:i-n,height:o-r}:{x:0,y:0,width:0,height:0},a?l:this._transformedRect(l,s)}}T.addComponentsGetterSetter(re,"clip",["x","y","width","height"]),T.addGetterSetter(re,"clipX",void 0,w()),T.addGetterSetter(re,"clipY",void 0,w()),T.addGetterSetter(re,"clipWidth",void 0,w()),T.addGetterSetter(re,"clipHeight",void 0,w()),T.addGetterSetter(re,"clipFunc");const ie=new Map,oe=void 0!==l._global.PointerEvent;function ae(e){return ie.get(e)}function se(e){return{evt:e,pointerId:e.pointerId}}function le(e,t){return ie.get(e)===t}function ue(e,t){ce(e);t.getStage()&&(ie.set(e,t),oe&&t._fire("gotpointercapture",se(new PointerEvent("gotpointercapture"))))}function ce(e,t){const n=ie.get(e);if(!n)return;const r=n.getStage();r&&r.content,ie.delete(e),oe&&n._fire("lostpointercapture",se(new PointerEvent("lostpointercapture")))}var he="mouseleave",de="mouseover",fe="mouseenter",pe="mousemove",ge="mousedown",me="mouseup",ye="pointermove",ve="pointerdown",be="pointerup",xe="pointercancel",we="pointerout",Ce="pointerleave",Se="pointerover",ke="pointerenter",_e="contextmenu",Ae="touchstart",Ee="touchend",Pe="touchmove",Te="touchcancel",Me="wheel",Be=[[fe,"_pointerenter"],[ge,"_pointerdown"],[pe,"_pointermove"],[me,"_pointerup"],[he,"_pointerleave"],[Ae,"_pointerdown"],[Pe,"_pointermove"],[Ee,"_pointerup"],[Te,"_pointercancel"],[de,"_pointerover"],[Me,"_wheel"],[_e,"_contextmenu"],[ve,"_pointerdown"],[ye,"_pointermove"],[be,"_pointerup"],[xe,"_pointercancel"],["lostpointercapture","_lostpointercapture"]];const Oe={mouse:{[we]:"mouseout",[Ce]:he,[Se]:de,[ke]:fe,[ye]:pe,[ve]:ge,[be]:me,[xe]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[we]:"touchout",[Ce]:"touchleave",[Se]:"touchover",[ke]:"touchenter",[ye]:Pe,[ve]:Ae,[be]:Ee,[xe]:Te,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[we]:we,[Ce]:Ce,[Se]:Se,[ke]:ke,[ye]:ye,[ve]:ve,[be]:be,[xe]:xe,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Le=e=>e.indexOf("pointer")>=0?"pointer":e.indexOf("touch")>=0?"touch":"mouse",ze=e=>{const t=Le(e);return"pointer"===t?l.pointerEventsEnabled&&Oe.pointer:"touch"===t?Oe.touch:"mouse"===t?Oe.mouse:void 0};function Ie(e={}){return(e.clipFunc||e.clipWidth||e.clipHeight)&&v.warn("Stage does not support clipping. Please use clip for Layers or Groups."),e}const Re=[];class Ne extends re{constructor(e){super(Ie(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Re.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(()=>{Ie(this.attrs)})),this._checkVisibility()}_validateAdd(e){const t="Layer"===e.getType(),n="FastLayer"===e.getType();t||n||v.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if("string"==typeof e){if("."===e.charAt(0)){var t=e.slice(1);e=document.getElementsByClassName(t)[0]}else{var n;n="#"!==e.charAt(0)?e:e.slice(1),e=document.getElementById(n)}if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var e,t=this.children,n=t.length;for(e=0;e<n;e++)t[e].clear();return this}clone(e){return e||(e={}),e.container="undefined"!=typeof document&&document.createElement("div"),re.prototype.clone.call(this,e)}destroy(){super.destroy();var e=this.content;e&&v._isInDocument(e)&&this.container().removeChild(e);var t=Re.indexOf(this);return t>-1&&Re.splice(t,1),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(v.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(e){return this._pointerPositions.find((t=>t.id===e))}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){(e=e||{}).x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();var t=new N({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),n=t.getContext()._context,r=this.children;return(e.x||e.y)&&n.translate(-1*e.x,-1*e.y),r.forEach((function(t){if(t.isVisible()){var r=t._toKonvaCanvas(e);n.drawImage(r._canvas,e.x,e.y,r.getWidth()/r.getPixelRatio(),r.getHeight()/r.getPixelRatio())}})),t}getIntersection(e){if(!e)return null;var t,n=this.children;for(t=n.length-1;t>=0;t--){const r=n[t].getIntersection(e);if(r)return r}return null}_resizeDOM(){var e=this.width(),t=this.height();this.content&&(this.content.style.width=e+"px",this.content.style.height=t+"px"),this.bufferCanvas.setSize(e,t),this.bufferHitCanvas.setSize(e,t),this.children.forEach((n=>{n.setSize({width:e,height:t}),n.draw()}))}add(e,...t){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}super.add(e);var r=this.children.length;return r>5&&v.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),l.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return le(e,this)}setPointerCapture(e){ue(e,this)}releaseCapture(e){ce(e)}getLayers(){return this.children}_bindContentEvents(){l.isBrowser&&Be.forEach((([e,t])=>{this.content.addEventListener(e,(e=>{this[t](e)}))}))}_pointerenter(e){this.setPointersPositions(e);const t=ze(e.type);this._fire(t.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const t=ze(e.type);this._fire(t.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let t=this[e+"targetShape"];return t&&!t.getStage()&&(t=null),t}_pointerleave(e){const t=ze(e.type),n=Le(e.type);if(t){this.setPointersPositions(e);var r=this._getTargetShape(n),i=!F.isDragging||l.hitOnDragEnabled;r&&i?(r._fireAndBubble(t.pointerout,{evt:e}),r._fireAndBubble(t.pointerleave,{evt:e}),this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this[n+"targetShape"]=null):i&&(this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(t.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(e){const t=ze(e.type),n=Le(e.type);if(t){this.setPointersPositions(e);var r=!1;this._changedPointerPositions.forEach((i=>{var o=this.getIntersection(i);F.justDragged=!1,l["_"+n+"ListenClick"]=!0;if(!(o&&o.isListening()))return;l.capturePointerEventsEnabled&&o.setPointerCapture(i.id),this[n+"ClickStartShape"]=o,o._fireAndBubble(t.pointerdown,{evt:e,pointerId:i.id}),r=!0;const a=e.type.indexOf("touch")>=0;o.preventDefault()&&e.cancelable&&a&&e.preventDefault()})),r||this._fire(t.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(e){const t=ze(e.type),n=Le(e.type);if(!t)return;if(F.isDragging&&F.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e),!(!F.isDragging||l.hitOnDragEnabled))return;var r={};let i=!1;var o=this._getTargetShape(n);this._changedPointerPositions.forEach((a=>{const s=ae(a.id)||this.getIntersection(a),l=a.id,u={evt:e,pointerId:l};var c=o!==s;if(c&&o&&(o._fireAndBubble(t.pointerout,Object.assign({},u),s),o._fireAndBubble(t.pointerleave,Object.assign({},u),s)),s){if(r[s._id])return;r[s._id]=!0}s&&s.isListening()?(i=!0,c&&(s._fireAndBubble(t.pointerover,Object.assign({},u),o),s._fireAndBubble(t.pointerenter,Object.assign({},u),o),this[n+"targetShape"]=s),s._fireAndBubble(t.pointermove,Object.assign({},u))):o&&(this._fire(t.pointerover,{evt:e,target:this,currentTarget:this,pointerId:l}),this[n+"targetShape"]=null)})),i||this._fire(t.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const t=ze(e.type),n=Le(e.type);if(!t)return;this.setPointersPositions(e);const r=this[n+"ClickStartShape"],i=this[n+"ClickEndShape"];var o={};let a=!1;this._changedPointerPositions.forEach((s=>{const u=ae(s.id)||this.getIntersection(s);if(u){if(u.releaseCapture(s.id),o[u._id])return;o[u._id]=!0}const c=s.id,h={evt:e,pointerId:c};let d=!1;l["_"+n+"InDblClickWindow"]&&l["_"+n+"InDblClickWindowId"]===c?(d=!0,clearTimeout(this[n+"DblTimeout"])):F.justDragged||(l["_"+n+"InDblClickWindow"]=!0,l["_"+n+"InDblClickWindowId"]=c,clearTimeout(this[n+"DblTimeout"])),this[n+"DblTimeout"]=setTimeout((function(){l["_"+n+"InDblClickWindow"]=!1}),l.dblClickWindow),u&&u.isListening()?(a=!0,this[n+"ClickEndShape"]=u,u._fireAndBubble(t.pointerup,Object.assign({},h)),l["_"+n+"ListenClick"]&&r&&r===u&&(u._fireAndBubble(t.pointerclick,Object.assign({},h)),d&&i&&i===u&&u._fireAndBubble(t.pointerdblclick,Object.assign({},h)))):(this[n+"ClickEndShape"]=null,l["_"+n+"ListenClick"]&&this._fire(t.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:c}),d&&this._fire(t.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:c}))})),a||this._fire(t.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),l["_"+n+"ListenClick"]=!1,e.cancelable&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);var t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(_e,{evt:e}):this._fire(_e,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);var t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(Me,{evt:e}):this._fire(Me,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const t=ae(e.pointerId)||this.getIntersection(this.getPointerPosition());t&&t._fireAndBubble(be,se(e)),ce(e.pointerId)}_lostpointercapture(e){ce(e.pointerId)}setPointersPositions(e){var t=this._getContentPosition(),n=null,r=null;void 0!==(e=e||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,(e=>{this._pointerPositions.push({id:e.identifier,x:(e.clientX-t.left)/t.scaleX,y:(e.clientY-t.top)/t.scaleY})})),Array.prototype.forEach.call(e.changedTouches||e.touches,(e=>{this._changedPointerPositions.push({id:e.identifier,x:(e.clientX-t.left)/t.scaleX,y:(e.clientY-t.top)/t.scaleY})}))):(n=(e.clientX-t.left)/t.scaleX,r=(e.clientY-t.top)/t.scaleY,this.pointerPos={x:n,y:r},this._pointerPositions=[{x:n,y:r,id:v._getFirstPointerId(e)}],this._changedPointerPositions=[{x:n,y:r,id:v._getFirstPointerId(e)}])}_setPointerPosition(e){v.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new N({width:this.width(),height:this.height()}),this.bufferHitCanvas=new D({pixelRatio:1,width:this.width(),height:this.height()}),l.isBrowser){var e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}}cache(){return v.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach((function(e){e.batchDraw()})),this}}Ne.prototype.nodeType="Stage",u(Ne),T.addGetterSetter(Ne,"container");var De="hasShadow",Fe="shadowRGBA",je="patternImage",Ge="linearGradient",We="radialGradient";let He;function Ue(){return He||(He=v.createCanvasElement().getContext("2d"),He)}const Ye={};class Xe extends te{constructor(e){let t;for(super(e);t=v.getRandomColor(),!t||t in Ye;);this.colorKey=t,Ye[t]=this}getContext(){return v.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return v.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(De,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(je,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const e=Ue().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(e&&e.setTransform){const t=new c;t.translate(this.fillPatternX(),this.fillPatternY()),t.rotate(l.getAngle(this.fillPatternRotation())),t.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),t.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const n=t.getMatrix();e.setTransform({a:n[0],b:n[1],c:n[2],d:n[3],e:n[4],f:n[5]})}return e}}_getLinearGradient(){return this._getCache(Ge,this.__getLinearGradient)}__getLinearGradient(){var e=this.fillLinearGradientColorStops();if(e){for(var t=Ue(),n=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),i=t.createLinearGradient(n.x,n.y,r.x,r.y),o=0;o<e.length;o+=2)i.addColorStop(e[o],e[o+1]);return i}}_getRadialGradient(){return this._getCache(We,this.__getRadialGradient)}__getRadialGradient(){var e=this.fillRadialGradientColorStops();if(e){for(var t=Ue(),n=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),i=t.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius()),o=0;o<e.length;o+=2)i.addColorStop(e[o],e[o+1]);return i}}getShadowRGBA(){return this._getCache(Fe,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var e=v.colorToRGBA(this.shadowColor());return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],(()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],(()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())))}hasHitStroke(){const e=this.hitStrokeWidth();return"auto"===e?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){var t=this.getStage().bufferHitCanvas;return t.getContext().clear(),this.drawHit(t,null,!0),t.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return te.prototype.destroy.call(this),delete Ye[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var t;if(!this.getStage())return!1;if(!(null===(t=this.attrs.perfectDrawEnabled)||void 0===t||t))return!1;const n=e||this.hasFill(),r=this.hasStroke(),i=1!==this.getAbsoluteOpacity();if(n&&r&&i)return!0;const o=this.hasShadow(),a=this.shadowForStrokeEnabled();return!!(n&&r&&o&&a)}setStrokeHitEnabled(e){v.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){var e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){const t=e.skipTransform,n=e.relativeTo,r=this.getSelfRect(),i=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,o=r.width+i,a=r.height+i,s=!e.skipShadow&&this.hasShadow(),l=s?this.shadowOffsetX():0,u=s?this.shadowOffsetY():0,c=o+Math.abs(l),h=a+Math.abs(u),d=s&&this.shadowBlur()||0,f=c+2*d,p=h+2*d;let g=0;Math.round(i/2)!==i/2&&(g=1);const m={width:f+g,height:p+g,x:-Math.round(i/2+d)+Math.min(l,0)+r.x,y:-Math.round(i/2+d)+Math.min(u,0)+r.y};return t?m:this._transformedRect(m,n)}drawScene(e,t){var n,r,i=this.getLayer(),o=e||i.getCanvas(),a=o.getContext(),s=this._getCanvasCache(),l=this.getSceneFunc(),u=this.hasShadow(),c=o.isCache,h=t===this;if(!this.isVisible()&&!h)return this;if(s){a.save();var d=this.getAbsoluteTransform(t).getMatrix();return a.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedSceneCanvas(a),a.restore(),this}if(!l)return this;if(a.save(),this._useBufferCanvas()&&!c){(r=(n=this.getStage().bufferCanvas).getContext()).clear(),r.save(),r._applyLineJoin(this);var f=this.getAbsoluteTransform(t).getMatrix();r.transform(f[0],f[1],f[2],f[3],f[4],f[5]),l.call(this,r,this),r.restore();var p=n.pixelRatio;u&&a._applyShadow(this),a._applyOpacity(this),a._applyGlobalCompositeOperation(this),a.drawImage(n._canvas,0,0,n.width/p,n.height/p)}else{if(a._applyLineJoin(this),!h){f=this.getAbsoluteTransform(t).getMatrix();a.transform(f[0],f[1],f[2],f[3],f[4],f[5]),a._applyOpacity(this),a._applyGlobalCompositeOperation(this)}u&&a._applyShadow(this),l.call(this,a,this)}return a.restore(),this}drawHit(e,t,n=!1){if(!this.shouldDrawHit(t,n))return this;var r=this.getLayer(),i=e||r.hitCanvas,o=i&&i.getContext(),a=this.hitFunc()||this.sceneFunc(),s=this._getCanvasCache(),l=s&&s.hit;if(this.colorKey||v.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),l){o.save();var u=this.getAbsoluteTransform(t).getMatrix();return o.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedHitCanvas(o),o.restore(),this}if(!a)return this;o.save(),o._applyLineJoin(this);if(!(this===t)){var c=this.getAbsoluteTransform(t).getMatrix();o.transform(c[0],c[1],c[2],c[3],c[4],c[5])}return a.call(this,o,this),o.restore(),this}drawHitFromCache(e=0){var t,n,r,i,o,a=this._getCanvasCache(),s=this._getCachedSceneCanvas(),l=a.hit,u=l.getContext(),c=l.getWidth(),h=l.getHeight();u.clear(),u.drawImage(s._canvas,0,0,c,h);try{for(r=(n=(t=u.getImageData(0,0,c,h)).data).length,i=v._hexToRgb(this.colorKey),o=0;o<r;o+=4)n[o+3]>e?(n[o]=i.r,n[o+1]=i.g,n[o+2]=i.b,n[o+3]=255):n[o+3]=0;u.putImageData(t,0,0)}catch(e){v.error("Unable to draw hit graph from cached scene canvas. "+e.message)}return this}hasPointerCapture(e){return le(e,this)}setPointerCapture(e){ue(e,this)}releaseCapture(e){ce(e)}}Xe.prototype._fillFunc=function(e){e.fill()},Xe.prototype._strokeFunc=function(e){e.stroke()},Xe.prototype._fillFuncHit=function(e){e.fill()},Xe.prototype._strokeFuncHit=function(e){e.stroke()},Xe.prototype._centroid=!1,Xe.prototype.nodeType="Shape",u(Xe),Xe.prototype.eventListeners={},Xe.prototype.on.call(Xe.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(De)})),Xe.prototype.on.call(Xe.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(Fe)})),Xe.prototype.on.call(Xe.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",(function(){this._clearCache(je)})),Xe.prototype.on.call(Xe.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",(function(){this._clearCache(Ge)})),Xe.prototype.on.call(Xe.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",(function(){this._clearCache(We)})),T.addGetterSetter(Xe,"stroke",void 0,_()),T.addGetterSetter(Xe,"strokeWidth",2,w()),T.addGetterSetter(Xe,"fillAfterStrokeEnabled",!1),T.addGetterSetter(Xe,"hitStrokeWidth","auto",S()),T.addGetterSetter(Xe,"strokeHitEnabled",!0,A()),T.addGetterSetter(Xe,"perfectDrawEnabled",!0,A()),T.addGetterSetter(Xe,"shadowForStrokeEnabled",!0,A()),T.addGetterSetter(Xe,"lineJoin"),T.addGetterSetter(Xe,"lineCap"),T.addGetterSetter(Xe,"sceneFunc"),T.addGetterSetter(Xe,"hitFunc"),T.addGetterSetter(Xe,"dash"),T.addGetterSetter(Xe,"dashOffset",0,w()),T.addGetterSetter(Xe,"shadowColor",void 0,k()),T.addGetterSetter(Xe,"shadowBlur",0,w()),T.addGetterSetter(Xe,"shadowOpacity",1,w()),T.addComponentsGetterSetter(Xe,"shadowOffset",["x","y"]),T.addGetterSetter(Xe,"shadowOffsetX",0,w()),T.addGetterSetter(Xe,"shadowOffsetY",0,w()),T.addGetterSetter(Xe,"fillPatternImage"),T.addGetterSetter(Xe,"fill",void 0,_()),T.addGetterSetter(Xe,"fillPatternX",0,w()),T.addGetterSetter(Xe,"fillPatternY",0,w()),T.addGetterSetter(Xe,"fillLinearGradientColorStops"),T.addGetterSetter(Xe,"strokeLinearGradientColorStops"),T.addGetterSetter(Xe,"fillRadialGradientStartRadius",0),T.addGetterSetter(Xe,"fillRadialGradientEndRadius",0),T.addGetterSetter(Xe,"fillRadialGradientColorStops"),T.addGetterSetter(Xe,"fillPatternRepeat","repeat"),T.addGetterSetter(Xe,"fillEnabled",!0),T.addGetterSetter(Xe,"strokeEnabled",!0),T.addGetterSetter(Xe,"shadowEnabled",!0),T.addGetterSetter(Xe,"dashEnabled",!0),T.addGetterSetter(Xe,"strokeScaleEnabled",!0),T.addGetterSetter(Xe,"fillPriority","color"),T.addComponentsGetterSetter(Xe,"fillPatternOffset",["x","y"]),T.addGetterSetter(Xe,"fillPatternOffsetX",0,w()),T.addGetterSetter(Xe,"fillPatternOffsetY",0,w()),T.addComponentsGetterSetter(Xe,"fillPatternScale",["x","y"]),T.addGetterSetter(Xe,"fillPatternScaleX",1,w()),T.addGetterSetter(Xe,"fillPatternScaleY",1,w()),T.addComponentsGetterSetter(Xe,"fillLinearGradientStartPoint",["x","y"]),T.addComponentsGetterSetter(Xe,"strokeLinearGradientStartPoint",["x","y"]),T.addGetterSetter(Xe,"fillLinearGradientStartPointX",0),T.addGetterSetter(Xe,"strokeLinearGradientStartPointX",0),T.addGetterSetter(Xe,"fillLinearGradientStartPointY",0),T.addGetterSetter(Xe,"strokeLinearGradientStartPointY",0),T.addComponentsGetterSetter(Xe,"fillLinearGradientEndPoint",["x","y"]),T.addComponentsGetterSetter(Xe,"strokeLinearGradientEndPoint",["x","y"]),T.addGetterSetter(Xe,"fillLinearGradientEndPointX",0),T.addGetterSetter(Xe,"strokeLinearGradientEndPointX",0),T.addGetterSetter(Xe,"fillLinearGradientEndPointY",0),T.addGetterSetter(Xe,"strokeLinearGradientEndPointY",0),T.addComponentsGetterSetter(Xe,"fillRadialGradientStartPoint",["x","y"]),T.addGetterSetter(Xe,"fillRadialGradientStartPointX",0),T.addGetterSetter(Xe,"fillRadialGradientStartPointY",0),T.addComponentsGetterSetter(Xe,"fillRadialGradientEndPoint",["x","y"]),T.addGetterSetter(Xe,"fillRadialGradientEndPointX",0),T.addGetterSetter(Xe,"fillRadialGradientEndPointY",0),T.addGetterSetter(Xe,"fillPatternRotation",0),T.backCompat(Xe,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var Ve=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],qe=Ve.length;class Qe extends re{constructor(e){super(e),this.canvas=new N,this.hitCanvas=new D({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),e<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[e+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){te.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!te.prototype.moveUp.call(this))return!1;var e=this.getStage();return!(!e||!e.content)&&(e.content.removeChild(this.getNativeCanvasElement()),this.index<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(te.prototype.moveDown.call(this)){var e=this.getStage();if(e){var t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(te.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return te.prototype.remove.call(this),e&&e.parentNode&&v._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:t}){return this.canvas.setSize(e,t),this.hitCanvas.setSize(e,t),this._setSmoothEnabled(),this}_validateAdd(e){var t=e.getType();"Group"!==t&&"Shape"!==t&&v.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return(e=e||{}).width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=void 0!==e.x?e.x:this.x(),e.y=void 0!==e.y?e.y:this.y(),te.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){const e=this.visible();this.canvas._canvas.style.display=e?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){v.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){v.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,v.requestAnimFrame((()=>{this.draw(),this._waitingForDraw=!1}))),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var t=1,n=!1;;){for(let r=0;r<qe;r++){const i=Ve[r],o=this._getIntersection({x:e.x+i.x*t,y:e.y+i.y*t}),a=o.shape;if(a)return a;if(n=!!o.antialiased,!o.antialiased)break}if(!n)return null;t+=1}}_getIntersection(e){const t=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,r=n[3];if(255===r){const e=v._rgbToHex(n[0],n[1],n[2]),t=Ye["#"+e];return t?{shape:t}:{antialiased:!0}}return r>0?{antialiased:!0}:{}}drawScene(e,t){var n=this.getLayer(),r=e||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&r.getContext().clear(),re.prototype.drawScene.call(this,r,t),this._fire("draw",{node:this}),this}drawHit(e,t){var n=this.getLayer(),r=e||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),re.prototype.drawHit.call(this,r,t),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){v.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return v.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(this.parent&&this.parent.content){var e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}}Qe.prototype.nodeType="Layer",u(Qe),T.addGetterSetter(Qe,"imageSmoothingEnabled",!0),T.addGetterSetter(Qe,"clearBeforeDraw",!0),T.addGetterSetter(Qe,"hitGraphEnabled",!0,A());class $e extends Qe{constructor(e){super(e),this.listening(!1),v.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}$e.prototype.nodeType="FastLayer",u($e);class Ze extends re{_validateAdd(e){var t=e.getType();"Group"!==t&&"Shape"!==t&&v.throw("You may only add groups and shapes to groups.")}}Ze.prototype.nodeType="Group",u(Ze);var Ke=s.performance&&s.performance.now?function(){return s.performance.now()}:function(){return(new Date).getTime()};class Je{constructor(e,t){this.id=Je.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Ke(),frameRate:0},this.func=e,this.setLayers(t)}setLayers(e){var t=[];return t=e?e.length>0?e:[e]:[],this.layers=t,this}getLayers(){return this.layers}addLayer(e){var t,n=this.layers,r=n.length;for(t=0;t<r;t++)if(n[t]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){var e,t=Je.animations,n=t.length;for(e=0;e<n;e++)if(t[e].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Ke(),Je._addAnimation(this),this}stop(){return Je._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){var t,n=e.id,r=this.animations,i=r.length;for(t=0;t<i;t++)if(r[t].id===n){this.animations.splice(t,1);break}}static _runFrames(){var e,t,n,r,i,o,a,s,l={},u=this.animations;for(r=0;r<u.length;r++)if(t=(e=u[r]).layers,n=e.func,e._updateFrameObject(Ke()),o=t.length,!n||!1!==n.call(e,e.frame))for(i=0;i<o;i++)void 0!==(a=t[i])._id&&(l[a._id]=a);for(s in l)l.hasOwnProperty(s)&&l[s].batchDraw()}static _animationLoop(){var e=Je;e.animations.length?(e._runFrames(),v.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,v.requestAnimFrame(this._animationLoop))}}Je.animations=[],Je.animIdCounter=0,Je.animRunning=!1;var et={node:1,duration:1,easing:1,onFinish:1,yoyo:1},tt=0,nt=["fill","stroke","shadowColor"];class rt{constructor(e,t,n,r,i,o,a){this.prop=e,this.propFunc=t,this.begin=r,this._pos=r,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=i-this.begin,this.pause()}fire(e){var t=this[e];t&&t()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return void 0===e&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var e=this.getTimer()-this._startTime;2===this.state?this.setTime(e):3===this.state&&this.setTime(this.duration-e)}pause(){this.state=1,this.fire("onPause")}getTimer(){return(new Date).getTime()}}class it{constructor(e){var t,n,r=this,i=e.node,o=i._id,a=e.easing||ot.Linear,s=!!e.yoyo;t=void 0===e.duration?.3:0===e.duration?.001:e.duration,this.node=i,this._id=tt++;var u=i.getLayer()||(i instanceof l.Stage?i.getLayers():null);for(n in u||v.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Je((function(){r.tween.onEnterFrame()}),u),this.tween=new rt(n,(function(e){r._tweenFunc(e)}),a,0,1,1e3*t,s),this._addListeners(),it.attrs[o]||(it.attrs[o]={}),it.attrs[o][this._id]||(it.attrs[o][this._id]={}),it.tweens[o]||(it.tweens[o]={}),e)void 0===et[n]&&this._addAttr(n,e[n]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,t){var n,r,i,o,a,s,l,u,c=this.node,h=c._id;if((i=it.tweens[h][e])&&delete it.attrs[h][i][e],n=c.getAttr(e),v._isArray(t))if(r=[],a=Math.max(t.length,n.length),"points"===e&&t.length!==n.length&&(t.length>n.length?(l=n,n=v._prepareArrayForTween(n,t,c.closed())):(s=t,t=v._prepareArrayForTween(t,n,c.closed()))),0===e.indexOf("fill"))for(o=0;o<a;o++)if(o%2==0)r.push(t[o]-n[o]);else{var d=v.colorToRGBA(n[o]);u=v.colorToRGBA(t[o]),n[o]=d,r.push({r:u.r-d.r,g:u.g-d.g,b:u.b-d.b,a:u.a-d.a})}else for(o=0;o<a;o++)r.push(t[o]-n[o]);else-1!==nt.indexOf(e)?(n=v.colorToRGBA(n),r={r:(u=v.colorToRGBA(t)).r-n.r,g:u.g-n.g,b:u.b-n.b,a:u.a-n.a}):r=t-n;it.attrs[h][this._id][e]={start:n,diff:r,end:t,trueEnd:s,trueStart:l},it.tweens[h][e]=this._id}_tweenFunc(e){var t,n,r,i,o,a,s,l,u=this.node,c=it.attrs[u._id][this._id];for(t in c){if(r=(n=c[t]).start,i=n.diff,l=n.end,v._isArray(r))if(o=[],s=Math.max(r.length,l.length),0===t.indexOf("fill"))for(a=0;a<s;a++)a%2==0?o.push((r[a]||0)+i[a]*e):o.push("rgba("+Math.round(r[a].r+i[a].r*e)+","+Math.round(r[a].g+i[a].g*e)+","+Math.round(r[a].b+i[a].b*e)+","+(r[a].a+i[a].a*e)+")");else for(a=0;a<s;a++)o.push((r[a]||0)+i[a]*e);else o=-1!==nt.indexOf(t)?"rgba("+Math.round(r.r+i.r*e)+","+Math.round(r.g+i.g*e)+","+Math.round(r.b+i.b*e)+","+(r.a+i.a*e)+")":r+i*e;u.setAttr(t,o)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var e=this.node,t=it.attrs[e._id][this._id];t.points&&t.points.trueEnd&&e.setAttr("points",t.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var e=this.node,t=it.attrs[e._id][this._id];t.points&&t.points.trueStart&&e.points(t.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(1e3*e),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var e,t=this.node._id,n=this._id,r=it.tweens[t];for(e in this.pause(),r)delete it.tweens[t][e];delete it.attrs[t][n]}}it.attrs={},it.tweens={},te.prototype.to=function(e){var t=e.onFinish;e.node=this,e.onFinish=function(){this.destroy(),t&&t()},new it(e).play()};const ot={BackEaseIn(e,t,n,r){var i=1.70158;return n*(e/=r)*e*((i+1)*e-i)+t},BackEaseOut(e,t,n,r){var i=1.70158;return n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},BackEaseInOut(e,t,n,r){var i=1.70158;return(e/=r/2)<1?n/2*(e*e*((1+(i*=1.525))*e-i))+t:n/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},ElasticEaseIn(e,t,n,r,i,o){var a=0;return 0===e?t:1==(e/=r)?t+n:(o||(o=.3*r),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),-i*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)+t)},ElasticEaseOut(e,t,n,r,i,o){var a=0;return 0===e?t:1==(e/=r)?t+n:(o||(o=.3*r),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin((e*r-a)*(2*Math.PI)/o)+n+t)},ElasticEaseInOut(e,t,n,r,i,o){var a=0;return 0===e?t:2==(e/=r/2)?t+n:(o||(o=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)*-.5+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)*.5+n+t)},BounceEaseOut:(e,t,n,r)=>(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t,BounceEaseIn:(e,t,n,r)=>n-ot.BounceEaseOut(r-e,0,n,r)+t,BounceEaseInOut:(e,t,n,r)=>e<r/2?.5*ot.BounceEaseIn(2*e,0,n,r)+t:.5*ot.BounceEaseOut(2*e-r,0,n,r)+.5*n+t,EaseIn:(e,t,n,r)=>n*(e/=r)*e+t,EaseOut:(e,t,n,r)=>-n*(e/=r)*(e-2)+t,EaseInOut:(e,t,n,r)=>(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t,StrongEaseIn:(e,t,n,r)=>n*(e/=r)*e*e*e*e+t,StrongEaseOut:(e,t,n,r)=>n*((e=e/r-1)*e*e*e*e+1)+t,StrongEaseInOut:(e,t,n,r)=>(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t,Linear:(e,t,n,r)=>n*e/r+t},at=v._assign(l,{Util:v,Transform:c,Node:te,Container:re,Stage:Ne,stages:Re,Layer:Qe,FastLayer:$e,Group:Ze,DD:F,Shape:Xe,shapes:Ye,Animation:Je,Tween:it,Easings:ot,Context:O,Canvas:R});class st extends Xe{_sceneFunc(e){var t=l.getAngle(this.angle()),n=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,t,n),e.arc(0,0,this.innerRadius(),t,0,!n),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}function lt(e,t,n,r,i,o,a){var s=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),l=Math.sqrt(Math.pow(i-n,2)+Math.pow(o-r,2)),u=a*s/(s+l),c=a*l/(s+l);return[n-u*(i-e),r-u*(o-t),n+c*(i-e),r+c*(o-t)]}function ut(e,t){var n,r,i=e.length,o=[];for(n=2;n<i-2;n+=2)r=lt(e[n-2],e[n-1],e[n],e[n+1],e[n+2],e[n+3],t),isNaN(r[0])||(o.push(r[0]),o.push(r[1]),o.push(e[n]),o.push(e[n+1]),o.push(r[2]),o.push(r[3]));return o}st.prototype._centroid=!0,st.prototype.className="Arc",st.prototype._attrsAffectingSize=["innerRadius","outerRadius"],u(st),T.addGetterSetter(st,"innerRadius",0,w()),T.addGetterSetter(st,"outerRadius",0,w()),T.addGetterSetter(st,"angle",0,w()),T.addGetterSetter(st,"clockwise",!1,A());class ct extends Xe{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")}))}_sceneFunc(e){var t,n,r,i=this.points(),o=i.length,a=this.tension(),s=this.closed(),l=this.bezier();if(o){if(e.beginPath(),e.moveTo(i[0],i[1]),0!==a&&o>4){for(n=(t=this.getTensionPoints()).length,r=s?0:4,s||e.quadraticCurveTo(t[0],t[1],t[2],t[3]);r<n-2;)e.bezierCurveTo(t[r++],t[r++],t[r++],t[r++],t[r++],t[r++]);s||e.quadraticCurveTo(t[n-2],t[n-1],i[o-2],i[o-1])}else if(l)for(r=2;r<o;)e.bezierCurveTo(i[r++],i[r++],i[r++],i[r++],i[r++],i[r++]);else for(r=2;r<o;r+=2)e.lineTo(i[r],i[r+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():ut(this.points(),this.tension())}_getTensionPointsClosed(){var e=this.points(),t=e.length,n=this.tension(),r=lt(e[t-2],e[t-1],e[0],e[1],e[2],e[3],n),i=lt(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],n),o=ut(e,n);return[r[2],r[3]].concat(o).concat([i[0],i[1],e[t-2],e[t-1],i[2],i[3],r[0],r[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};for(var t,n,r=(e=0!==this.tension()?[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:this.points())[0],i=e[0],o=e[1],a=e[1],s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],r=Math.min(r,t),i=Math.max(i,t),o=Math.min(o,n),a=Math.max(a,n);return{x:r,y:o,width:i-r,height:a-o}}}ct.prototype.className="Line",ct.prototype._attrsAffectingSize=["points","bezier","tension"],u(ct),T.addGetterSetter(ct,"closed",!1),T.addGetterSetter(ct,"bezier",!1),T.addGetterSetter(ct,"tension",0,w()),T.addGetterSetter(ct,"points",[],function(){if(l.isUnminified)return function(e,t){return v._isArray(e)?e.forEach((function(e){v._isNumber(e)||v.warn('"'+t+'" attribute has non numeric element '+e+". Make sure that all elements are numbers.")})):v.warn(b(e)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.'),e}}());class ht extends Xe{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this.dataArray=ht.parsePathData(this.data()),this.pathLength=0;for(var t=0;t<this.dataArray.length;++t)this.pathLength+=this.dataArray[t].pathLength;this.on("dataChange.konva",(function(){this.dataArray=ht.parsePathData(this.data()),this.pathLength=0;for(var e=0;e<this.dataArray.length;++e)this.pathLength+=this.dataArray[e].pathLength}))}_sceneFunc(e){var t=this.dataArray;e.beginPath();for(var n=!1,r=0;r<t.length;r++){var i=t[r].command,o=t[r].points;switch(i){case"L":e.lineTo(o[0],o[1]);break;case"M":e.moveTo(o[0],o[1]);break;case"C":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":e.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":var a=o[0],s=o[1],l=o[2],u=o[3],c=o[4],h=o[5],d=o[6],f=o[7],p=l>u?l:u,g=l>u?1:l/u,m=l>u?u/l:1;e.translate(a,s),e.rotate(d),e.scale(g,m),e.arc(0,0,p,c,c+h,1-f),e.scale(1/g,1/m),e.rotate(-d),e.translate(-a,-s);break;case"z":n=!0,e.closePath()}}n||this.hasFill()?e.fillStrokeShape(this):e.strokeShape(this)}getSelfRect(){var e=[];this.dataArray.forEach((function(t){if("A"===t.command){var n=t.points[4],r=t.points[5],i=t.points[4]+r,o=Math.PI/180;if(Math.abs(n-i)<o&&(o=Math.abs(n-i)),r<0)for(let r=n-o;r>i;r-=o){const n=ht.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],r,0);e.push(n.x,n.y)}else for(let r=n+o;r<i;r+=o){const n=ht.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],r,0);e.push(n.x,n.y)}}else if("C"===t.command)for(let n=0;n<=1;n+=.01){const r=ht.getPointOnCubicBezier(n,t.start.x,t.start.y,t.points[0],t.points[1],t.points[2],t.points[3],t.points[4],t.points[5]);e.push(r.x,r.y)}else e=e.concat(t.points)}));for(var t,n,r=e[0],i=e[0],o=e[1],a=e[1],s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],isNaN(t)||(r=Math.min(r,t),i=Math.max(i,t)),isNaN(n)||(o=Math.min(o,n),a=Math.max(a,n));return{x:Math.round(r),y:Math.round(o),width:Math.round(i-r),height:Math.round(a-o)}}getLength(){return this.pathLength}getPointAtLength(e){var t,n=0,r=this.dataArray.length;if(!r)return null;for(;n<r&&e>this.dataArray[n].pathLength;)e-=this.dataArray[n].pathLength,++n;if(n===r)return{x:(t=this.dataArray[n-1].points.slice(-2))[0],y:t[1]};if(e<.01)return{x:(t=this.dataArray[n].points.slice(0,2))[0],y:t[1]};var i=this.dataArray[n],o=i.points;switch(i.command){case"L":return ht.getPointOnLine(e,i.start.x,i.start.y,o[0],o[1]);case"C":return ht.getPointOnCubicBezier(e/i.pathLength,i.start.x,i.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return ht.getPointOnQuadraticBezier(e/i.pathLength,i.start.x,i.start.y,o[0],o[1],o[2],o[3]);case"A":var a=o[0],s=o[1],l=o[2],u=o[3],c=o[4],h=o[5],d=o[6];return c+=h*e/i.pathLength,ht.getPointOnEllipticalArc(a,s,l,u,c,d)}return null}static getLineLength(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))}static getPointOnLine(e,t,n,r,i,o,a){void 0===o&&(o=t),void 0===a&&(a=n);var s=(i-n)/(r-t+1e-8),l=Math.sqrt(e*e/(1+s*s));r<t&&(l*=-1);var u,c=s*l;if(r===t)u={x:o,y:a+c};else if((a-n)/(o-t+1e-8)===s)u={x:o+l,y:a+c};else{var h,d,f=this.getLineLength(t,n,r,i),p=(o-t)*(r-t)+(a-n)*(i-n);h=t+(p/=f*f)*(r-t),d=n+p*(i-n);var g=this.getLineLength(o,a,h,d),m=Math.sqrt(e*e-g*g);l=Math.sqrt(m*m/(1+s*s)),r<t&&(l*=-1),u={x:h+l,y:d+(c=s*l)}}return u}static getPointOnCubicBezier(e,t,n,r,i,o,a,s,l){function u(e){return e*e*e}function c(e){return 3*e*e*(1-e)}function h(e){return 3*e*(1-e)*(1-e)}function d(e){return(1-e)*(1-e)*(1-e)}return{x:s*u(e)+o*c(e)+r*h(e)+t*d(e),y:l*u(e)+a*c(e)+i*h(e)+n*d(e)}}static getPointOnQuadraticBezier(e,t,n,r,i,o,a){function s(e){return e*e}function l(e){return 2*e*(1-e)}function u(e){return(1-e)*(1-e)}return{x:o*s(e)+r*l(e)+t*u(e),y:a*s(e)+i*l(e)+n*u(e)}}static getPointOnEllipticalArc(e,t,n,r,i,o){var a=Math.cos(o),s=Math.sin(o),l=n*Math.cos(i),u=r*Math.sin(i);return{x:e+(l*a-u*s),y:t+(l*s+u*a)}}static parsePathData(e){if(!e)return[];var t=e,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(var r=0;r<n.length;r++)t=t.replace(new RegExp(n[r],"g"),"|"+n[r]);var i,o=t.split("|"),a=[],s=[],l=0,u=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(r=1;r<o.length;r++){var h=o[r],d=h.charAt(0);for(h=h.slice(1),s.length=0;i=c.exec(h);)s.push(i[0]);for(var f=[],p=0,g=s.length;p<g;p++)if("00"!==s[p]){var m=parseFloat(s[p]);isNaN(m)?f.push(0):f.push(m)}else f.push(0,0);for(;f.length>0&&!isNaN(f[0]);){var y,v,b,x,w,C,S,k,_,A,E=null,P=[],T=l,M=u;switch(d){case"l":l+=f.shift(),u+=f.shift(),E="L",P.push(l,u);break;case"L":l=f.shift(),u=f.shift(),P.push(l,u);break;case"m":var B=f.shift(),O=f.shift();if(l+=B,u+=O,E="M",a.length>2&&"z"===a[a.length-1].command)for(var L=a.length-2;L>=0;L--)if("M"===a[L].command){l=a[L].points[0]+B,u=a[L].points[1]+O;break}P.push(l,u),d="l";break;case"M":l=f.shift(),u=f.shift(),E="M",P.push(l,u),d="L";break;case"h":l+=f.shift(),E="L",P.push(l,u);break;case"H":l=f.shift(),E="L",P.push(l,u);break;case"v":u+=f.shift(),E="L",P.push(l,u);break;case"V":u=f.shift(),E="L",P.push(l,u);break;case"C":P.push(f.shift(),f.shift(),f.shift(),f.shift()),l=f.shift(),u=f.shift(),P.push(l,u);break;case"c":P.push(l+f.shift(),u+f.shift(),l+f.shift(),u+f.shift()),l+=f.shift(),u+=f.shift(),E="C",P.push(l,u);break;case"S":v=l,b=u,"C"===(y=a[a.length-1]).command&&(v=l+(l-y.points[2]),b=u+(u-y.points[3])),P.push(v,b,f.shift(),f.shift()),l=f.shift(),u=f.shift(),E="C",P.push(l,u);break;case"s":v=l,b=u,"C"===(y=a[a.length-1]).command&&(v=l+(l-y.points[2]),b=u+(u-y.points[3])),P.push(v,b,l+f.shift(),u+f.shift()),l+=f.shift(),u+=f.shift(),E="C",P.push(l,u);break;case"Q":P.push(f.shift(),f.shift()),l=f.shift(),u=f.shift(),P.push(l,u);break;case"q":P.push(l+f.shift(),u+f.shift()),l+=f.shift(),u+=f.shift(),E="Q",P.push(l,u);break;case"T":v=l,b=u,"Q"===(y=a[a.length-1]).command&&(v=l+(l-y.points[0]),b=u+(u-y.points[1])),l=f.shift(),u=f.shift(),E="Q",P.push(v,b,l,u);break;case"t":v=l,b=u,"Q"===(y=a[a.length-1]).command&&(v=l+(l-y.points[0]),b=u+(u-y.points[1])),l+=f.shift(),u+=f.shift(),E="Q",P.push(v,b,l,u);break;case"A":x=f.shift(),w=f.shift(),C=f.shift(),S=f.shift(),k=f.shift(),_=l,A=u,l=f.shift(),u=f.shift(),E="A",P=this.convertEndpointToCenterParameterization(_,A,l,u,S,k,x,w,C);break;case"a":x=f.shift(),w=f.shift(),C=f.shift(),S=f.shift(),k=f.shift(),_=l,A=u,l+=f.shift(),u+=f.shift(),E="A",P=this.convertEndpointToCenterParameterization(_,A,l,u,S,k,x,w,C)}a.push({command:E||d,points:P,start:{x:T,y:M},pathLength:this.calcLength(T,M,E||d,P)})}"z"!==d&&"Z"!==d||a.push({command:"z",points:[],start:void 0,pathLength:0})}return a}static calcLength(e,t,n,r){var i,o,a,s,l=ht;switch(n){case"L":return l.getLineLength(e,t,r[0],r[1]);case"C":for(i=0,o=l.getPointOnCubicBezier(0,e,t,r[0],r[1],r[2],r[3],r[4],r[5]),s=.01;s<=1;s+=.01)a=l.getPointOnCubicBezier(s,e,t,r[0],r[1],r[2],r[3],r[4],r[5]),i+=l.getLineLength(o.x,o.y,a.x,a.y),o=a;return i;case"Q":for(i=0,o=l.getPointOnQuadraticBezier(0,e,t,r[0],r[1],r[2],r[3]),s=.01;s<=1;s+=.01)a=l.getPointOnQuadraticBezier(s,e,t,r[0],r[1],r[2],r[3]),i+=l.getLineLength(o.x,o.y,a.x,a.y),o=a;return i;case"A":i=0;var u=r[4],c=r[5],h=r[4]+c,d=Math.PI/180;if(Math.abs(u-h)<d&&(d=Math.abs(u-h)),o=l.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],u,0),c<0)for(s=u-d;s>h;s-=d)a=l.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],s,0),i+=l.getLineLength(o.x,o.y,a.x,a.y),o=a;else for(s=u+d;s<h;s+=d)a=l.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],s,0),i+=l.getLineLength(o.x,o.y,a.x,a.y),o=a;return a=l.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],h,0),i+=l.getLineLength(o.x,o.y,a.x,a.y)}return 0}static convertEndpointToCenterParameterization(e,t,n,r,i,o,a,s,l){var u=l*(Math.PI/180),c=Math.cos(u)*(e-n)/2+Math.sin(u)*(t-r)/2,h=-1*Math.sin(u)*(e-n)/2+Math.cos(u)*(t-r)/2,d=c*c/(a*a)+h*h/(s*s);d>1&&(a*=Math.sqrt(d),s*=Math.sqrt(d));var f=Math.sqrt((a*a*(s*s)-a*a*(h*h)-s*s*(c*c))/(a*a*(h*h)+s*s*(c*c)));i===o&&(f*=-1),isNaN(f)&&(f=0);var p=f*a*h/s,g=f*-s*c/a,m=(e+n)/2+Math.cos(u)*p-Math.sin(u)*g,y=(t+r)/2+Math.sin(u)*p+Math.cos(u)*g,v=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},b=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(v(e)*v(t))},x=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(b(e,t))},w=x([1,0],[(c-p)/a,(h-g)/s]),C=[(c-p)/a,(h-g)/s],S=[(-1*c-p)/a,(-1*h-g)/s],k=x(C,S);return b(C,S)<=-1&&(k=Math.PI),b(C,S)>=1&&(k=0),0===o&&k>0&&(k-=2*Math.PI),1===o&&k<0&&(k+=2*Math.PI),[m,y,a,s,w,k,u,o]}}ht.prototype.className="Path",ht.prototype._attrsAffectingSize=["data"],u(ht),T.addGetterSetter(ht,"data");class dt extends ct{_sceneFunc(e){super._sceneFunc(e);var t=2*Math.PI,n=this.points(),r=n,i=0!==this.tension()&&n.length>4;i&&(r=this.getTensionPoints());var o,a,s=this.pointerLength(),l=n.length;if(i){const e=[r[r.length-4],r[r.length-3],r[r.length-2],r[r.length-1],n[l-2],n[l-1]],t=ht.calcLength(r[r.length-4],r[r.length-3],"C",e),i=ht.getPointOnQuadraticBezier(Math.min(1,1-s/t),e[0],e[1],e[2],e[3],e[4],e[5]);o=n[l-2]-i.x,a=n[l-1]-i.y}else o=n[l-2]-n[l-4],a=n[l-1]-n[l-3];var u=(Math.atan2(a,o)+t)%t,c=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(n[l-2],n[l-1]),e.rotate(u),e.moveTo(0,0),e.lineTo(-s,c/2),e.lineTo(-s,-c/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(n[0],n[1]),i?(o=(r[0]+r[2])/2-n[0],a=(r[1]+r[3])/2-n[1]):(o=n[2]-n[0],a=n[3]-n[1]),e.rotate((Math.atan2(-a,-o)+t)%t),e.moveTo(0,0),e.lineTo(-s,c/2),e.lineTo(-s,-c/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){var t=this.dashEnabled();t&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),t&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),t=this.pointerWidth()/2;return{x:e.x-t,y:e.y-t,width:e.width+2*t,height:e.height+2*t}}}dt.prototype.className="Arrow",u(dt),T.addGetterSetter(dt,"pointerLength",10,w()),T.addGetterSetter(dt,"pointerWidth",10,w()),T.addGetterSetter(dt,"pointerAtBeginning",!1),T.addGetterSetter(dt,"pointerAtEnding",!0);class ft extends Xe{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}ft.prototype._centroid=!0,ft.prototype.className="Circle",ft.prototype._attrsAffectingSize=["radius"],u(ft),T.addGetterSetter(ft,"radius",0,w());class pt extends Xe{_sceneFunc(e){var t=this.radiusX(),n=this.radiusY();e.beginPath(),e.save(),t!==n&&e.scale(1,n/t),e.arc(0,0,t,0,2*Math.PI,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}pt.prototype.className="Ellipse",pt.prototype._centroid=!0,pt.prototype._attrsAffectingSize=["radiusX","radiusY"],u(pt),T.addComponentsGetterSetter(pt,"radius",["x","y"]),T.addGetterSetter(pt,"radiusX",0,w()),T.addGetterSetter(pt,"radiusY",0,w());class gt extends Xe{constructor(e){super(e),this.on("imageChange.konva",(()=>{this._setImageLoad()})),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&4===e.readyState||e&&e.addEventListener&&e.addEventListener("load",(()=>{this._requestDraw()}))}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){const t=this.getWidth(),n=this.getHeight(),r=this.attrs.image;let i;if(r){const e=this.attrs.cropWidth,o=this.attrs.cropHeight;i=e&&o?[r,this.cropX(),this.cropY(),e,o,0,0,t,n]:[r,0,0,t,n]}(this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)),r&&e.drawImage.apply(e,i)}_hitFunc(e){var t=this.width(),n=this.height();e.beginPath(),e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,t;return null!==(e=this.attrs.width)&&void 0!==e?e:null===(t=this.image())||void 0===t?void 0:t.width}getHeight(){var e,t;return null!==(e=this.attrs.height)&&void 0!==e?e:null===(t=this.image())||void 0===t?void 0:t.height}static fromURL(e,t){var n=v.createImageElement();n.onload=function(){var e=new gt({image:n});t(e)},n.crossOrigin="Anonymous",n.src=e}}gt.prototype.className="Image",u(gt),T.addGetterSetter(gt,"image"),T.addComponentsGetterSetter(gt,"crop",["x","y","width","height"]),T.addGetterSetter(gt,"cropX",0,w()),T.addGetterSetter(gt,"cropY",0,w()),T.addGetterSetter(gt,"cropWidth",0,w()),T.addGetterSetter(gt,"cropHeight",0,w());var mt=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height"],yt="up",vt="right",bt="down",xt="left",wt=mt.length;class Ct extends Ze{constructor(e){super(e),this.on("add.konva",(function(e){this._addListeners(e.child),this._sync()}))}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){var t,n=this,r=function(){n._sync()};for(t=0;t<wt;t++)e.on(mt[t]+"Change.konva",r)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var e,t,n,r,i,o,a,s=this.getText(),l=this.getTag();if(s&&l){switch(e=s.width(),t=s.height(),n=l.pointerDirection(),r=l.pointerWidth(),a=l.pointerHeight(),i=0,o=0,n){case yt:i=e/2,o=-1*a;break;case vt:i=e+r,o=t/2;break;case bt:i=e/2,o=t+a;break;case xt:i=-1*r,o=t/2}l.setAttrs({x:-1*i,y:-1*o,width:e,height:t}),s.setAttrs({x:-1*i,y:-1*o})}}}Ct.prototype.className="Label",u(Ct);class St extends Xe{_sceneFunc(e){var t=this.width(),n=this.height(),r=this.pointerDirection(),i=this.pointerWidth(),o=this.pointerHeight(),a=this.cornerRadius();let s=0,l=0,u=0,c=0;"number"==typeof a?s=l=u=c=Math.min(a,t/2,n/2):(s=Math.min(a[0]||0,t/2,n/2),l=Math.min(a[1]||0,t/2,n/2),c=Math.min(a[2]||0,t/2,n/2),u=Math.min(a[3]||0,t/2,n/2)),e.beginPath(),e.moveTo(s,0),r===yt&&(e.lineTo((t-i)/2,0),e.lineTo(t/2,-1*o),e.lineTo((t+i)/2,0)),e.lineTo(t-l,0),e.arc(t-l,l,l,3*Math.PI/2,0,!1),r===vt&&(e.lineTo(t,(n-o)/2),e.lineTo(t+i,n/2),e.lineTo(t,(n+o)/2)),e.lineTo(t,n-c),e.arc(t-c,n-c,c,0,Math.PI/2,!1),r===bt&&(e.lineTo((t+i)/2,n),e.lineTo(t/2,n+o),e.lineTo((t-i)/2,n)),e.lineTo(u,n),e.arc(u,n-u,u,Math.PI/2,Math.PI,!1),r===xt&&(e.lineTo(0,(n+o)/2),e.lineTo(-1*i,n/2),e.lineTo(0,(n-o)/2)),e.lineTo(0,s),e.arc(s,s,s,Math.PI,3*Math.PI/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){var e=0,t=0,n=this.pointerWidth(),r=this.pointerHeight(),i=this.pointerDirection(),o=this.width(),a=this.height();return i===yt?(t-=r,a+=r):i===bt?a+=r:i===xt?(e-=1.5*n,o+=n):i===vt&&(o+=1.5*n),{x:e,y:t,width:o,height:a}}}St.prototype.className="Tag",u(St),T.addGetterSetter(St,"pointerDirection","none"),T.addGetterSetter(St,"pointerWidth",0,w()),T.addGetterSetter(St,"pointerHeight",0,w()),T.addGetterSetter(St,"cornerRadius",0,C(4));class kt extends Xe{_sceneFunc(e){var t=this.cornerRadius(),n=this.width(),r=this.height();if(e.beginPath(),t){let i=0,o=0,a=0,s=0;"number"==typeof t?i=o=a=s=Math.min(t,n/2,r/2):(i=Math.min(t[0]||0,n/2,r/2),o=Math.min(t[1]||0,n/2,r/2),s=Math.min(t[2]||0,n/2,r/2),a=Math.min(t[3]||0,n/2,r/2)),e.moveTo(i,0),e.lineTo(n-o,0),e.arc(n-o,o,o,3*Math.PI/2,0,!1),e.lineTo(n,r-s),e.arc(n-s,r-s,s,0,Math.PI/2,!1),e.lineTo(a,r),e.arc(a,r-a,a,Math.PI/2,Math.PI,!1),e.lineTo(0,i),e.arc(i,i,i,Math.PI,3*Math.PI/2,!1)}else e.rect(0,0,n,r);e.closePath(),e.fillStrokeShape(this)}}kt.prototype.className="Rect",u(kt),T.addGetterSetter(kt,"cornerRadius",0,C(4));class _t extends Xe{_sceneFunc(e){const t=this._getPoints();e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var n=1;n<t.length;n++)e.lineTo(t[n].x,t[n].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,t=this.attrs.radius||0,n=[];for(var r=0;r<e;r++)n.push({x:t*Math.sin(2*r*Math.PI/e),y:-1*t*Math.cos(2*r*Math.PI/e)});return n}getSelfRect(){const e=this._getPoints();var t=e[0].x,n=e[0].y,r=e[0].x,i=e[0].y;return e.forEach((e=>{t=Math.min(t,e.x),n=Math.max(n,e.x),r=Math.min(r,e.y),i=Math.max(i,e.y)})),{x:t,y:r,width:n-t,height:i-r}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}_t.prototype.className="RegularPolygon",_t.prototype._centroid=!0,_t.prototype._attrsAffectingSize=["radius"],u(_t),T.addGetterSetter(_t,"radius",0,w()),T.addGetterSetter(_t,"sides",0,w());var At=2*Math.PI;class Et extends Xe{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,At,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),At,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Et.prototype.className="Ring",Et.prototype._centroid=!0,Et.prototype._attrsAffectingSize=["innerRadius","outerRadius"],u(Et),T.addGetterSetter(Et,"innerRadius",0,w()),T.addGetterSetter(Et,"outerRadius",0,w());class Pt extends Xe{constructor(e){super(e),this._updated=!0,this.anim=new Je((()=>{var e=this._updated;return this._updated=!1,e})),this.on("animationChange.konva",(function(){this.frameIndex(0)})),this.on("frameIndexChange.konva",(function(){this._updated=!0})),this.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}))}_sceneFunc(e){var t=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[t],o=this.frameOffsets(),a=i[r+0],s=i[r+1],l=i[r+2],u=i[r+3],c=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,l,u),e.closePath(),e.fillStrokeShape(this)),c)if(o){var h=o[t],d=2*n;e.drawImage(c,a,s,l,u,h[d+0],h[d+1],l,u)}else e.drawImage(c,a,s,l,u,0,0,l,u)}_hitFunc(e){var t=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[t],o=this.frameOffsets(),a=i[r+2],s=i[r+3];if(e.beginPath(),o){var l=o[t],u=2*n;e.rect(l[u+0],l[u+1],a,s)}else e.rect(0,0,a,s);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var e=this;this.interval=setInterval((function(){e._updateIndex()}),1e3/this.frameRate())}start(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var e=this.frameIndex(),t=this.animation();e<this.animations()[t].length/4-1?this.frameIndex(e+1):this.frameIndex(0)}}Pt.prototype.className="Sprite",u(Pt),T.addGetterSetter(Pt,"animation"),T.addGetterSetter(Pt,"animations"),T.addGetterSetter(Pt,"frameOffsets"),T.addGetterSetter(Pt,"image"),T.addGetterSetter(Pt,"frameIndex",0,w()),T.addGetterSetter(Pt,"frameRate",17,w()),T.backCompat(Pt,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Tt extends Xe{_sceneFunc(e){var t=this.innerRadius(),n=this.outerRadius(),r=this.numPoints();e.beginPath(),e.moveTo(0,0-n);for(var i=1;i<2*r;i++){var o=i%2==0?n:t,a=o*Math.sin(i*Math.PI/r),s=-1*o*Math.cos(i*Math.PI/r);e.lineTo(a,s)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}function Mt(e){return Array.from(e)}Tt.prototype.className="Star",Tt.prototype._centroid=!0,Tt.prototype._attrsAffectingSize=["innerRadius","outerRadius"],u(Tt),T.addGetterSetter(Tt,"numPoints",5,w()),T.addGetterSetter(Tt,"innerRadius",0,w()),T.addGetterSetter(Tt,"outerRadius",0,w());var Bt,Ot="auto",Lt="justify",zt="left",It="middle",Rt="normal",Nt=" ",Dt=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Ft=Dt.length;function jt(){return Bt||(Bt=v.createCanvasElement().getContext("2d"))}class Gt extends Xe{constructor(e){super(function(e){return(e=e||{}).fillLinearGradientColorStops||e.fillRadialGradientColorStops||e.fillPatternImage||(e.fill=e.fill||"black"),e}(e)),this._partialTextX=0,this._partialTextY=0;for(var t=0;t<Ft;t++)this.on(Dt[t]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(e){var t=this.textArr,n=t.length;if(this.text()){var r,i=this.padding(),o=this.fontSize(),a=this.lineHeight()*o,s=this.verticalAlign(),l=0,u=this.align(),c=this.getWidth(),h=this.letterSpacing(),d=this.fill(),f=this.textDecoration(),p=-1!==f.indexOf("underline"),g=-1!==f.indexOf("line-through"),m=0,y=(m=a/2,0),v=0;for(e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",It),e.setAttr("textAlign",zt),s===It?l=(this.getHeight()-n*a-2*i)/2:"bottom"===s&&(l=this.getHeight()-n*a-2*i),e.translate(i,l+i),r=0;r<n;r++){y=0,v=0;var b,x,w,C=t[r],S=C.text,k=C.width,_=r!==n-1;if(e.save(),"right"===u?y+=c-k-2*i:"center"===u&&(y+=(c-k-2*i)/2),p&&(e.save(),e.beginPath(),e.moveTo(y,m+v+Math.round(o/2)),x=0===(b=S.split(" ").length-1),w=u===Lt&&_&&!x?c-2*i:k,e.lineTo(y+Math.round(w),m+v+Math.round(o/2)),e.lineWidth=o/15,e.strokeStyle=d,e.stroke(),e.restore()),g&&(e.save(),e.beginPath(),e.moveTo(y,m+v),x=0===(b=S.split(" ").length-1),w=u===Lt&&_&&!x?c-2*i:k,e.lineTo(y+Math.round(w),m+v),e.lineWidth=o/15,e.strokeStyle=d,e.stroke(),e.restore()),0!==h||u===Lt){b=S.split(" ").length-1;for(var A=Mt(S),E=0;E<A.length;E++){var P=A[E];" "===P&&r!==n-1&&u===Lt&&(y+=(c-2*i-k)/b),this._partialTextX=y,this._partialTextY=m+v,this._partialText=P,e.fillStrokeShape(this),y+=this.measureSize(P).width+h}}else this._partialTextX=y,this._partialTextY=m+v,this._partialText=S,e.fillStrokeShape(this);e.restore(),n>1&&(m+=a)}}}_hitFunc(e){var t=this.getWidth(),n=this.getHeight();e.beginPath(),e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)}setText(e){var t=v._isString(e)?e:null==e?"":e+"";return this._setAttr("text",t),this}getWidth(){return this.attrs.width===Ot||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return this.attrs.height===Ot||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return v.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var t,n=jt(),r=this.fontSize();return n.save(),n.font=this._getContextFont(),t=n.measureText(e),n.restore(),{width:t.width,height:r}}_getContextFont(){return this.fontStyle()+Nt+this.fontVariant()+Nt+(this.fontSize()+"px ")+this.fontFamily().split(",").map((e=>{const t=(e=e.trim()).indexOf(" ")>=0,n=e.indexOf('"')>=0||e.indexOf("'")>=0;return t&&!n&&(e=`"${e}"`),e})).join(", ")}_addTextLine(e){this.align()===Lt&&(e=e.trim());var t=this._getTextWidth(e);return this.textArr.push({text:e,width:t})}_getTextWidth(e){var t=this.letterSpacing(),n=e.length;return jt().measureText(e).width+(n?t*(n-1):0)}_setTextData(){var e=this.text().split("\n"),t=+this.fontSize(),n=0,r=this.lineHeight()*t,i=this.attrs.width,o=this.attrs.height,a=i!==Ot&&void 0!==i,s=o!==Ot&&void 0!==o,l=this.padding(),u=i-2*l,c=o-2*l,h=0,d=this.wrap(),f="none"!==d,p="char"!==d&&f,g=this.ellipsis();this.textArr=[],jt().font=this._getContextFont();for(var m=g?this._getTextWidth("…"):0,y=0,v=e.length;y<v;++y){var b=e[y],x=this._getTextWidth(b);if(a&&x>u)for(;b.length>0;){for(var w=0,C=b.length,S="",k=0;w<C;){var _=w+C>>>1,A=b.slice(0,_+1),E=this._getTextWidth(A)+m;E<=u?(w=_+1,S=A,k=E):C=_}if(!S)break;if(p){var P,T=b[S.length];(P=(T===Nt||"-"===T)&&k<=u?S.length:Math.max(S.lastIndexOf(Nt),S.lastIndexOf("-"))+1)>0&&(w=P,S=S.slice(0,w),k=this._getTextWidth(S))}if(S=S.trimRight(),this._addTextLine(S),n=Math.max(n,k),h+=r,!f||s&&h+r>c){var M=this.textArr[this.textArr.length-1];if(M)if(g)this._getTextWidth(M.text+"…")<u||(M.text=M.text.slice(0,M.text.length-3)),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(M.text+"…");break}if((b=(b=b.slice(w)).trimLeft()).length>0&&(x=this._getTextWidth(b))<=u){this._addTextLine(b),h+=r,n=Math.max(n,x);break}}else this._addTextLine(b),h+=r,n=Math.max(n,x);if(s&&h+r>c)break}this.textHeight=t,this.textWidth=n}getStrokeScaleEnabled(){return!0}}Gt.prototype._fillFunc=function(e){e.fillText(this._partialText,this._partialTextX,this._partialTextY)},Gt.prototype._strokeFunc=function(e){e.strokeText(this._partialText,this._partialTextX,this._partialTextY)},Gt.prototype.className="Text",Gt.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],u(Gt),T.overWriteSetter(Gt,"width",S()),T.overWriteSetter(Gt,"height",S()),T.addGetterSetter(Gt,"fontFamily","Arial"),T.addGetterSetter(Gt,"fontSize",12,w()),T.addGetterSetter(Gt,"fontStyle",Rt),T.addGetterSetter(Gt,"fontVariant",Rt),T.addGetterSetter(Gt,"padding",0,w()),T.addGetterSetter(Gt,"align",zt),T.addGetterSetter(Gt,"verticalAlign","top"),T.addGetterSetter(Gt,"lineHeight",1,w()),T.addGetterSetter(Gt,"wrap","word"),T.addGetterSetter(Gt,"ellipsis",!1,A()),T.addGetterSetter(Gt,"letterSpacing",0,w()),T.addGetterSetter(Gt,"text","",k()),T.addGetterSetter(Gt,"textDecoration","");var Wt="normal";function Ht(e){e.fillText(this.partialText,0,0)}function Ut(e){e.strokeText(this.partialText,0,0)}class Yt extends Xe{constructor(e){super(e),this.dummyCanvas=v.createCanvasElement(),this.dataArray=[],this.dataArray=ht.parsePathData(this.attrs.data),this.on("dataChange.konva",(function(){this.dataArray=ht.parsePathData(this.attrs.data),this._setTextData()})),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva",this._setTextData),this._setTextData()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var t=this.textDecoration(),n=this.fill(),r=this.fontSize(),i=this.glyphInfo;"underline"===t&&e.beginPath();for(var o=0;o<i.length;o++){e.save();var a=i[o].p0;e.translate(a.x,a.y),e.rotate(i[o].rotation),this.partialText=i[o].text,e.fillStrokeShape(this),"underline"===t&&(0===o&&e.moveTo(0,r/2+1),e.lineTo(r,r/2+1)),e.restore()}"underline"===t&&(e.strokeStyle=n,e.lineWidth=r/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();var t=this.glyphInfo;if(t.length>=1){var n=t[0].p0;e.moveTo(n.x,n.y)}for(var r=0;r<t.length;r++){var i=t[r].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return v.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Gt.prototype.setText.call(this,e)}_getContextFont(){return Gt.prototype._getContextFont.call(this)}_getTextSize(e){var t=this.dummyCanvas.getContext("2d");t.save(),t.font=this._getContextFont();var n=t.measureText(e);return t.restore(),{width:n.width,height:parseInt(this.attrs.fontSize,10)}}_setTextData(){var e=this,t=this._getTextSize(this.attrs.text),n=this.letterSpacing(),r=this.align(),i=this.kerningFunc();this.textWidth=t.width,this.textHeight=t.height;var o=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);this.glyphInfo=[];for(var a=0,s=0;s<e.dataArray.length;s++)e.dataArray[s].pathLength>0&&(a+=e.dataArray[s].pathLength);var l=0;"center"===r&&(l=Math.max(0,a/2-o/2)),"right"===r&&(l=Math.max(0,a-o));for(var u,c,h,d=Mt(this.text()),f=this.text().split(" ").length-1,p=-1,g=0,m=function(){g=0;for(var t=e.dataArray,n=p+1;n<t.length;n++){if(t[n].pathLength>0)return p=n,t[n];"M"===t[n].command&&(u={x:t[n].points[0],y:t[n].points[1]})}return{}},y=function(t){var i=e._getTextSize(t).width+n;" "===t&&"justify"===r&&(i+=(a-o)/f);var s=0,l=0;for(c=void 0;Math.abs(i-s)/i>.01&&l<20;){l++;for(var d=s;void 0===h;)(h=m())&&d+h.pathLength<i&&(d+=h.pathLength,h=void 0);if(h==={}||void 0===u)return;var p=!1;switch(h.command){case"L":ht.getLineLength(u.x,u.y,h.points[0],h.points[1])>i?c=ht.getPointOnLine(i,u.x,u.y,h.points[0],h.points[1],u.x,u.y):h=void 0;break;case"A":var y=h.points[4],v=h.points[5],b=h.points[4]+v;0===g?g=y+1e-8:i>s?g+=Math.PI/180*v/Math.abs(v):g-=Math.PI/360*v/Math.abs(v),(v<0&&g<b||v>=0&&g>b)&&(g=b,p=!0),c=ht.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],g,h.points[6]);break;case"C":0===g?g=i>h.pathLength?1e-8:i/h.pathLength:i>s?g+=(i-s)/h.pathLength/2:g=Math.max(g-(s-i)/h.pathLength/2,0),g>1&&(g=1,p=!0),c=ht.getPointOnCubicBezier(g,h.start.x,h.start.y,h.points[0],h.points[1],h.points[2],h.points[3],h.points[4],h.points[5]);break;case"Q":0===g?g=i/h.pathLength:i>s?g+=(i-s)/h.pathLength:g-=(s-i)/h.pathLength,g>1&&(g=1,p=!0),c=ht.getPointOnQuadraticBezier(g,h.start.x,h.start.y,h.points[0],h.points[1],h.points[2],h.points[3])}void 0!==c&&(s=ht.getLineLength(u.x,u.y,c.x,c.y)),p&&(p=!1,h=void 0)}},v=l/(e._getTextSize("C").width+n)-1,b=0;b<v&&(y("C"),void 0!==u&&void 0!==c);b++)u=c;for(var x=0;x<d.length&&(y(d[x]),void 0!==u&&void 0!==c);x++){var w=ht.getLineLength(u.x,u.y,c.x,c.y),C=0;if(i)try{C=i(d[x-1],d[x])*this.fontSize()}catch(e){C=0}u.x+=C,c.x+=C,this.textWidth+=C;var S=ht.getPointOnLine(C+w/2,u.x,u.y,c.x,c.y),k=Math.atan2(c.y-u.y,c.x-u.x);this.glyphInfo.push({transposeX:S.x,transposeY:S.y,text:d[x],rotation:k,p0:u,p1:c}),u=c}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach((function(t){e.push(t.p0.x),e.push(t.p0.y),e.push(t.p1.x),e.push(t.p1.y)}));for(var t,n,r=e[0]||0,i=e[0]||0,o=e[1]||0,a=e[1]||0,s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],r=Math.min(r,t),i=Math.max(i,t),o=Math.min(o,n),a=Math.max(a,n);var l=this.fontSize();return{x:r-l/2,y:o-l/2,width:i-r+l,height:a-o+l}}}Yt.prototype._fillFunc=Ht,Yt.prototype._strokeFunc=Ut,Yt.prototype._fillFuncHit=Ht,Yt.prototype._strokeFuncHit=Ut,Yt.prototype.className="TextPath",Yt.prototype._attrsAffectingSize=["text","fontSize","data"],u(Yt),T.addGetterSetter(Yt,"data"),T.addGetterSetter(Yt,"fontFamily","Arial"),T.addGetterSetter(Yt,"fontSize",12,w()),T.addGetterSetter(Yt,"fontStyle",Wt),T.addGetterSetter(Yt,"align","left"),T.addGetterSetter(Yt,"letterSpacing",0,w()),T.addGetterSetter(Yt,"textBaseline","middle"),T.addGetterSetter(Yt,"fontVariant",Wt),T.addGetterSetter(Yt,"text",""),T.addGetterSetter(Yt,"textDecoration",null),T.addGetterSetter(Yt,"kerningFunc",null);var Xt="tr-konva",Vt=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map((e=>e+".tr-konva")).join(" "),qt="nodesRect",Qt=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"].map((e=>e+".tr-konva")).join(" "),$t={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const Zt="ontouchstart"in l._global;var Kt=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function Jt(e,t,n){const r=n.x+(e.x-n.x)*Math.cos(t)-(e.y-n.y)*Math.sin(t),i=n.y+(e.x-n.x)*Math.sin(t)+(e.y-n.y)*Math.cos(t);return Object.assign(Object.assign({},e),{rotation:e.rotation+t,x:r,y:i})}function en(e,t){const n=function(e){return{x:e.x+e.width/2*Math.cos(e.rotation)+e.height/2*Math.sin(-e.rotation),y:e.y+e.height/2*Math.cos(e.rotation)+e.width/2*Math.sin(e.rotation)}}(e);return Jt(e,t,n)}class tn extends Ze{constructor(e){super(e),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(Vt,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return v.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}setNodes(e=[]){return this._nodes&&this._nodes.length&&this.detach(),this._nodes=e,1===e.length&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach((e=>{const t=e._attrsAffectingSize.map((e=>e+"Change."+Xt)).join(" "),n=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),this._transforming||this.isDragging()||this.update()};e.on(t,n),e.on(Qt,n),e.on("absoluteTransformChange.tr-konva",n),e.on("xChange.tr-konva yChange.tr-konva",n),this._proxyDrag(e)})),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let t;e.on("dragstart.tr-konva",(n=>{t=e.getAbsolutePosition(),this.isDragging()||e===this.findOne(".back")||this.startDrag(n,!1)})),e.on("dragmove.tr-konva",(n=>{if(!t)return;const r=e.getAbsolutePosition(),i=r.x-t.x,o=r.y-t.y;this.nodes().forEach((t=>{if(t===e)return;if(t.isDragging())return;const r=t.getAbsolutePosition();t.setAbsolutePosition({x:r.x+i,y:r.y+o}),t.startDrag(n)})),t=null}))}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach((e=>{e.off(".tr-konva")})),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(qt),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(qt,this.__getNodeRect)}__getNodeShape(e,t=this.rotation(),n){var r=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=e.getAbsoluteScale(n),o=e.getAbsolutePosition(n),a=r.x*i.x-e.offsetX()*i.x,s=r.y*i.y-e.offsetY()*i.y;const u=(l.getAngle(e.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return Jt({x:o.x+a*Math.cos(u)+s*Math.sin(-u),y:o.y+s*Math.cos(u)+a*Math.sin(u),width:r.width*i.x,height:r.height*i.y,rotation:u},-l.getAngle(t),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const e=[];this.nodes().map((t=>{const n=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var r=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}],i=t.getAbsoluteTransform();r.forEach((function(t){var n=i.point(t);e.push(n)}))}));const t=new c;var n,r,i,o;t.rotate(-l.getAngle(this.rotation())),e.forEach((function(e){var a=t.point(e);void 0===n&&(n=i=a.x,r=o=a.y),n=Math.min(n,a.x),r=Math.min(r,a.y),i=Math.max(i,a.x),o=Math.max(o,a.y)})),t.invert();const a=t.point({x:n,y:r});return{x:a.x,y:a.y,width:i-n,height:o-r,rotation:l.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Kt.forEach(function(e){this._createAnchor(e)}.bind(this)),this._createAnchor("rotater")}_createAnchor(e){var t=new kt({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:Zt?10:"auto"}),n=this;t.on("mousedown touchstart",(function(e){n._handleMouseDown(e)})),t.on("dragstart",(e=>{t.stopDrag(),e.cancelBubble=!0})),t.on("dragend",(e=>{e.cancelBubble=!0})),t.on("mouseenter",(()=>{var n=l.getAngle(this.rotation()),r=function(e,t){if("rotater"===e)return"crosshair";t+=v.degToRad($t[e]||0);var n=(v.radToDeg(t)%360+360)%360;return v._inRange(n,337.5,360)||v._inRange(n,0,22.5)?"ns-resize":v._inRange(n,22.5,67.5)?"nesw-resize":v._inRange(n,67.5,112.5)?"ew-resize":v._inRange(n,112.5,157.5)?"nwse-resize":v._inRange(n,157.5,202.5)?"ns-resize":v._inRange(n,202.5,247.5)?"nesw-resize":v._inRange(n,247.5,292.5)?"ew-resize":v._inRange(n,292.5,337.5)?"nwse-resize":(v.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}(e,n);t.getStage().content&&(t.getStage().content.style.cursor=r),this._cursorChange=!0})),t.on("mouseout",(()=>{t.getStage().content&&(t.getStage().content.style.cursor=""),this._cursorChange=!1})),this.add(t)}_createBack(){var e=new Xe({name:"back",width:0,height:0,draggable:!0,sceneFunc(e){var t=this.getParent(),n=t.padding();e.beginPath(),e.rect(-n,-n,this.width()+2*n,this.height()+2*n),e.moveTo(this.width()/2,-n),t.rotateEnabled()&&e.lineTo(this.width()/2,-t.rotateAnchorOffset()*v._sign(this.height())-n),e.fillStrokeShape(this)},hitFunc:(e,t)=>{if(this.shouldOverdrawWholeArea()){var n=this.padding();e.beginPath(),e.rect(-n,-n,t.width()+2*n,t.height()+2*n),e.fillStrokeShape(t)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",(e=>{e.cancelBubble=!0})),e.on("dragmove",(e=>{e.cancelBubble=!0})),e.on("dragend",(e=>{e.cancelBubble=!0})),this.on("dragmove",(e=>{this.update()}))}_handleMouseDown(e){this._movingAnchorName=e.target.name().split(" ")[0];var t=this._getNodeRect(),n=t.width,r=t.height,i=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));this.sin=Math.abs(r/i),this.cos=Math.abs(n/i),"undefined"!=typeof window&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var o=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-o.x,y:a.y-o.y},this._fire("transformstart",{evt:e,target:this.getNode()}),this._nodes.forEach((t=>{t._fire("transformstart",{evt:e,target:t})}))}_handleMouseMove(e){var t,n,r,i=this.findOne("."+this._movingAnchorName),o=i.getStage();o.setPointersPositions(e);const a=o.getPointerPosition();var s={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y};const u=i.getAbsolutePosition();i.setAbsolutePosition(s);const c=i.getAbsolutePosition();if(u.x!==c.x||u.y!==c.y)if("rotater"!==this._movingAnchorName){var h=this.keepRatio()||e.shiftKey,d=this.centeredScaling()||e.altKey;if("top-left"===this._movingAnchorName){if(h){var f=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};r=Math.sqrt(Math.pow(f.x-i.x(),2)+Math.pow(f.y-i.y(),2));var p=this.findOne(".top-left").x()>f.x?-1:1,g=this.findOne(".top-left").y()>f.y?-1:1;t=r*this.cos*p,n=r*this.sin*g,this.findOne(".top-left").x(f.x-t),this.findOne(".top-left").y(f.y-n)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(i.y());else if("top-right"===this._movingAnchorName){if(h){f=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};r=Math.sqrt(Math.pow(i.x()-f.x,2)+Math.pow(f.y-i.y(),2));p=this.findOne(".top-right").x()<f.x?-1:1,g=this.findOne(".top-right").y()>f.y?-1:1;t=r*this.cos*p,n=r*this.sin*g,this.findOne(".top-right").x(f.x+t),this.findOne(".top-right").y(f.y-n)}var m=i.position();this.findOne(".top-left").y(m.y),this.findOne(".bottom-right").x(m.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(i.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(i.x());else if("bottom-left"===this._movingAnchorName){if(h){f=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};r=Math.sqrt(Math.pow(f.x-i.x(),2)+Math.pow(i.y()-f.y,2));p=f.x<i.x()?-1:1,g=i.y()<f.y?-1:1;t=r*this.cos*p,n=r*this.sin*g,i.x(f.x-t),i.y(f.y+n)}m=i.position(),this.findOne(".top-left").x(m.x),this.findOne(".bottom-right").y(m.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(i.y());else if("bottom-right"===this._movingAnchorName){if(h){f=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};r=Math.sqrt(Math.pow(i.x()-f.x,2)+Math.pow(i.y()-f.y,2));p=this.findOne(".bottom-right").x()<f.x?-1:1,g=this.findOne(".bottom-right").y()<f.y?-1:1;t=r*this.cos*p,n=r*this.sin*g,this.findOne(".bottom-right").x(f.x+t),this.findOne(".bottom-right").y(f.y+n)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(d=this.centeredScaling()||e.altKey){var y=this.findOne(".top-left"),v=this.findOne(".bottom-right"),b=y.x(),x=y.y(),w=this.getWidth()-v.x(),C=this.getHeight()-v.y();v.move({x:-b,y:-x}),y.move({x:w,y:C})}var S=this.findOne(".top-left").getAbsolutePosition();t=S.x,n=S.y;var k=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),_=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:t,y:n,width:k,height:_,rotation:l.getAngle(this.rotation())},e)}else{var A=this._getNodeRect();t=i.x()-A.width/2,n=-i.y()+A.height/2;let r=Math.atan2(-n,t)+Math.PI/2;A.height<0&&(r-=Math.PI);const o=l.getAngle(this.rotation())+r,a=l.getAngle(this.rotationSnapTolerance()),s=function(e,t,n){let r=t;for(let i=0;i<e.length;i++){const o=l.getAngle(e[i]),a=Math.abs(o-t)%(2*Math.PI);Math.min(a,2*Math.PI-a)<n&&(r=o)}return r}(this.rotationSnaps(),o,a),u=en(A,s-A.rotation);this._fitNodesInto(u,e)}}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){if(this._transforming){this._transforming=!1,"undefined"!=typeof window&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var t=this.getNode();this._fire("transformend",{evt:e,target:t}),t&&this._nodes.forEach((t=>{t._fire("transformend",{evt:e,target:t})})),this._movingAnchorName=null}}_fitNodesInto(e,t){var n=this._getNodeRect();if(v._inRange(e.width,2*-this.padding()-1,1))return void this.update();if(v._inRange(e.height,2*-this.padding()-1,1))return void this.update();const r=this.flipEnabled();var i=new c;if(i.rotate(l.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const t=i.point({x:2*-this.padding(),y:0});if(e.x+=t.x,e.y+=t.y,e.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,!r)return void this.update()}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const t=i.point({x:2*this.padding(),y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.width+=2*this.padding(),!r)return void this.update()}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const t=i.point({x:0,y:2*-this.padding()});if(e.x+=t.x,e.y+=t.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.height+=2*this.padding(),!r)return void this.update()}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const t=i.point({x:0,y:2*this.padding()});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.height+=2*this.padding(),!r)return void this.update()}if(this.boundBoxFunc()){const t=this.boundBoxFunc()(n,e);t?e=t:v.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,a=new c;a.translate(n.x,n.y),a.rotate(n.rotation),a.scale(n.width/o,n.height/o);const s=new c;s.translate(e.x,e.y),s.rotate(e.rotation),s.scale(e.width/o,e.height/o);const u=s.multiply(a.invert());this._nodes.forEach((e=>{var n;const r=e.getParent().getAbsoluteTransform(),i=e.getTransform().copy();i.translate(e.offsetX(),e.offsetY());const o=new c;o.multiply(r.copy().invert()).multiply(u).multiply(r).multiply(i);const a=o.decompose();e.setAttrs(a),this._fire("transform",{evt:t,target:e}),e._fire("transform",{evt:t,target:e}),null===(n=e.getLayer())||void 0===n||n.batchDraw()})),this.rotation(v._getRotation(e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,t){this.findOne(e).setAttrs(t)}update(){var e,t=this._getNodeRect();this.rotation(v._getRotation(t.rotation));var n=t.width,r=t.height,i=this.enabledAnchors(),o=this.resizeEnabled(),a=this.padding(),s=this.anchorSize();this.find("._anchor").forEach((e=>{e.setAttrs({width:s,height:s,offsetX:s/2,offsetY:s/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})})),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:s/2+a,offsetY:s/2+a,visible:o&&i.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:s/2+a,visible:o&&i.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:s/2-a,offsetY:s/2+a,visible:o&&i.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:r/2,offsetX:s/2+a,visible:o&&i.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:n,y:r/2,offsetX:s/2-a,visible:o&&i.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:r,offsetX:s/2+a,offsetY:s/2-a,visible:o&&i.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:n/2,y:r,offsetY:s/2-a,visible:o&&i.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:n,y:r,offsetX:s/2-a,offsetY:s/2-a,visible:o&&i.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*v._sign(r)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:r,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),null===(e=this.getLayer())||void 0===e||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Ze.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return te.prototype.toObject.call(this)}}tn.prototype.className="Transformer",u(tn),T.addGetterSetter(tn,"enabledAnchors",Kt,(function(e){return e instanceof Array||v.warn("enabledAnchors value should be an array"),e instanceof Array&&e.forEach((function(e){-1===Kt.indexOf(e)&&v.warn("Unknown anchor name: "+e+". Available names are: "+Kt.join(", "))})),e||[]})),T.addGetterSetter(tn,"flipEnabled",!0,A()),T.addGetterSetter(tn,"resizeEnabled",!0),T.addGetterSetter(tn,"anchorSize",10,w()),T.addGetterSetter(tn,"rotateEnabled",!0),T.addGetterSetter(tn,"rotationSnaps",[]),T.addGetterSetter(tn,"rotateAnchorOffset",50,w()),T.addGetterSetter(tn,"rotationSnapTolerance",5,w()),T.addGetterSetter(tn,"borderEnabled",!0),T.addGetterSetter(tn,"anchorStroke","rgb(0, 161, 255)"),T.addGetterSetter(tn,"anchorStrokeWidth",1,w()),T.addGetterSetter(tn,"anchorFill","white"),T.addGetterSetter(tn,"anchorCornerRadius",0,w()),T.addGetterSetter(tn,"borderStroke","rgb(0, 161, 255)"),T.addGetterSetter(tn,"borderStrokeWidth",1,w()),T.addGetterSetter(tn,"borderDash"),T.addGetterSetter(tn,"keepRatio",!0),T.addGetterSetter(tn,"centeredScaling",!1),T.addGetterSetter(tn,"ignoreStroke",!1),T.addGetterSetter(tn,"padding",0,w()),T.addGetterSetter(tn,"node"),T.addGetterSetter(tn,"nodes"),T.addGetterSetter(tn,"boundBoxFunc"),T.addGetterSetter(tn,"shouldOverdrawWholeArea",!1),T.addGetterSetter(tn,"useSingleNodeRotation",!0),T.backCompat(tn,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class nn extends Xe{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,l.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}function rn(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}nn.prototype.className="Wedge",nn.prototype._centroid=!0,nn.prototype._attrsAffectingSize=["radius"],u(nn),T.addGetterSetter(nn,"radius",0,w()),T.addGetterSetter(nn,"angle",0,w()),T.addGetterSetter(nn,"clockwise",!1),T.backCompat(nn,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var on=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],an=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];T.addGetterSetter(te,"blurRadius",0,w(),T.afterSetFilter);T.addGetterSetter(te,"brightness",0,w(),T.afterSetFilter);T.addGetterSetter(te,"contrast",0,w(),T.afterSetFilter);function sn(e,t,n,r,i){var o=n-t,a=i-r;return 0===o?r+a/2:0===a?r:a*((e-t)/o)+r}T.addGetterSetter(te,"embossStrength",.5,w(),T.afterSetFilter),T.addGetterSetter(te,"embossWhiteLevel",.5,w(),T.afterSetFilter),T.addGetterSetter(te,"embossDirection","top-left",null,T.afterSetFilter),T.addGetterSetter(te,"embossBlend",!1,null,T.afterSetFilter);T.addGetterSetter(te,"enhance",0,w(),T.afterSetFilter);T.addGetterSetter(te,"hue",0,w(),T.afterSetFilter),T.addGetterSetter(te,"saturation",0,w(),T.afterSetFilter),T.addGetterSetter(te,"luminance",0,w(),T.afterSetFilter);T.addGetterSetter(te,"hue",0,w(),T.afterSetFilter),T.addGetterSetter(te,"saturation",0,w(),T.afterSetFilter),T.addGetterSetter(te,"value",0,w(),T.afterSetFilter);function ln(e,t,n){var r=4*(n*e.width+t),i=[];return i.push(e.data[r++],e.data[r++],e.data[r++],e.data[r++]),i}function un(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}T.addGetterSetter(te,"kaleidoscopePower",2,w(),T.afterSetFilter),T.addGetterSetter(te,"kaleidoscopeAngle",0,w(),T.afterSetFilter);T.addGetterSetter(te,"threshold",0,w(),T.afterSetFilter);T.addGetterSetter(te,"noise",.2,w(),T.afterSetFilter);T.addGetterSetter(te,"pixelSize",8,w(),T.afterSetFilter);T.addGetterSetter(te,"levels",.5,w(),T.afterSetFilter);T.addGetterSetter(te,"red",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),T.addGetterSetter(te,"green",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),T.addGetterSetter(te,"blue",0,x,T.afterSetFilter);T.addGetterSetter(te,"red",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),T.addGetterSetter(te,"green",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),T.addGetterSetter(te,"blue",0,x,T.afterSetFilter),T.addGetterSetter(te,"alpha",1,(function(e){return this._filterUpToDate=!1,e>1?1:e<0?0:e}));T.addGetterSetter(te,"threshold",.5,w(),T.afterSetFilter);at.Util._assign(at,{Arc:st,Arrow:dt,Circle:ft,Ellipse:pt,Image:gt,Label:Ct,Tag:St,Line:ct,Path:ht,Rect:kt,RegularPolygon:_t,Ring:Et,Sprite:Pt,Star:Tt,Text:Gt,TextPath:Yt,Transformer:tn,Wedge:nn,Filters:{Blur:function(e){var t=Math.round(this.blurRadius());t>0&&function(e,t){var n,r,i,o,a,s,l,u,c,h,d,f,p,g,m,y,v,b,x,w,C,S,k,_,A=e.data,E=e.width,P=e.height,T=t+t+1,M=E-1,B=P-1,O=t+1,L=O*(O+1)/2,z=new rn,I=null,R=z,N=null,D=null,F=on[t],j=an[t];for(i=1;i<T;i++)R=R.next=new rn,i===O&&(I=R);for(R.next=z,l=s=0,r=0;r<P;r++){for(y=v=b=x=u=c=h=d=0,f=O*(w=A[s]),p=O*(C=A[s+1]),g=O*(S=A[s+2]),m=O*(k=A[s+3]),u+=L*w,c+=L*C,h+=L*S,d+=L*k,R=z,i=0;i<O;i++)R.r=w,R.g=C,R.b=S,R.a=k,R=R.next;for(i=1;i<O;i++)o=s+((M<i?M:i)<<2),u+=(R.r=w=A[o])*(_=O-i),c+=(R.g=C=A[o+1])*_,h+=(R.b=S=A[o+2])*_,d+=(R.a=k=A[o+3])*_,y+=w,v+=C,b+=S,x+=k,R=R.next;for(N=z,D=I,n=0;n<E;n++)A[s+3]=k=d*F>>j,0!==k?(k=255/k,A[s]=(u*F>>j)*k,A[s+1]=(c*F>>j)*k,A[s+2]=(h*F>>j)*k):A[s]=A[s+1]=A[s+2]=0,u-=f,c-=p,h-=g,d-=m,f-=N.r,p-=N.g,g-=N.b,m-=N.a,o=l+((o=n+t+1)<M?o:M)<<2,u+=y+=N.r=A[o],c+=v+=N.g=A[o+1],h+=b+=N.b=A[o+2],d+=x+=N.a=A[o+3],N=N.next,f+=w=D.r,p+=C=D.g,g+=S=D.b,m+=k=D.a,y-=w,v-=C,b-=S,x-=k,D=D.next,s+=4;l+=E}for(n=0;n<E;n++){for(v=b=x=y=c=h=d=u=0,f=O*(w=A[s=n<<2]),p=O*(C=A[s+1]),g=O*(S=A[s+2]),m=O*(k=A[s+3]),u+=L*w,c+=L*C,h+=L*S,d+=L*k,R=z,i=0;i<O;i++)R.r=w,R.g=C,R.b=S,R.a=k,R=R.next;for(a=E,i=1;i<=t;i++)s=a+n<<2,u+=(R.r=w=A[s])*(_=O-i),c+=(R.g=C=A[s+1])*_,h+=(R.b=S=A[s+2])*_,d+=(R.a=k=A[s+3])*_,y+=w,v+=C,b+=S,x+=k,R=R.next,i<B&&(a+=E);for(s=n,N=z,D=I,r=0;r<P;r++)A[3+(o=s<<2)]=k=d*F>>j,k>0?(k=255/k,A[o]=(u*F>>j)*k,A[o+1]=(c*F>>j)*k,A[o+2]=(h*F>>j)*k):A[o]=A[o+1]=A[o+2]=0,u-=f,c-=p,h-=g,d-=m,f-=N.r,p-=N.g,g-=N.b,m-=N.a,o=n+((o=r+O)<B?o:B)*E<<2,u+=y+=N.r=A[o],c+=v+=N.g=A[o+1],h+=b+=N.b=A[o+2],d+=x+=N.a=A[o+3],N=N.next,f+=w=D.r,p+=C=D.g,g+=S=D.b,m+=k=D.a,y-=w,v-=C,b-=S,x-=k,D=D.next,s+=E}}(e,t)},Brighten:function(e){var t,n=255*this.brightness(),r=e.data,i=r.length;for(t=0;t<i;t+=4)r[t]+=n,r[t+1]+=n,r[t+2]+=n},Contrast:function(e){var t,n=Math.pow((this.contrast()+100)/100,2),r=e.data,i=r.length,o=150,a=150,s=150;for(t=0;t<i;t+=4)o=r[t],a=r[t+1],s=r[t+2],o/=255,o-=.5,o*=n,o+=.5,a/=255,a-=.5,a*=n,a+=.5,s/=255,s-=.5,s*=n,s+=.5,o=(o*=255)<0?0:o>255?255:o,a=(a*=255)<0?0:a>255?255:a,s=(s*=255)<0?0:s>255?255:s,r[t]=o,r[t+1]=a,r[t+2]=s},Emboss:function(e){var t=10*this.embossStrength(),n=255*this.embossWhiteLevel(),r=this.embossDirection(),i=this.embossBlend(),o=0,a=0,s=e.data,l=e.width,u=e.height,c=4*l,h=u;switch(r){case"top-left":o=-1,a=-1;break;case"top":o=-1,a=0;break;case"top-right":o=-1,a=1;break;case"right":o=0,a=1;break;case"bottom-right":o=1,a=1;break;case"bottom":o=1,a=0;break;case"bottom-left":o=1,a=-1;break;case"left":o=0,a=-1;break;default:v.error("Unknown emboss direction: "+r)}do{var d=(h-1)*c,f=o;h+f<1&&(f=0),h+f>u&&(f=0);var p=(h-1+f)*l*4,g=l;do{var m=d+4*(g-1),y=a;g+y<1&&(y=0),g+y>l&&(y=0);var b=p+4*(g-1+y),x=s[m]-s[b],w=s[m+1]-s[b+1],C=s[m+2]-s[b+2],S=x,k=S>0?S:-S;if((w>0?w:-w)>k&&(S=w),(C>0?C:-C)>k&&(S=C),S*=t,i){var _=s[m]+S,A=s[m+1]+S,E=s[m+2]+S;s[m]=_>255?255:_<0?0:_,s[m+1]=A>255?255:A<0?0:A,s[m+2]=E>255?255:E<0?0:E}else{var P=n-S;P<0?P=0:P>255&&(P=255),s[m]=s[m+1]=s[m+2]=P}}while(--g)}while(--h)},Enhance:function(e){var t,n,r,i,o=e.data,a=o.length,s=o[0],l=s,u=o[1],c=u,h=o[2],d=h,f=this.enhance();if(0!==f){for(i=0;i<a;i+=4)(t=o[i+0])<s?s=t:t>l&&(l=t),(n=o[i+1])<u?u=n:n>c&&(c=n),(r=o[i+2])<h?h=r:r>d&&(d=r);var p,g,m,y,v,b,x,w,C;for(l===s&&(l=255,s=0),c===u&&(c=255,u=0),d===h&&(d=255,h=0),f>0?(g=l+f*(255-l),m=s-f*(s-0),v=c+f*(255-c),b=u-f*(u-0),w=d+f*(255-d),C=h-f*(h-0)):(g=l+f*(l-(p=.5*(l+s))),m=s+f*(s-p),v=c+f*(c-(y=.5*(c+u))),b=u+f*(u-y),w=d+f*(d-(x=.5*(d+h))),C=h+f*(h-x)),i=0;i<a;i+=4)o[i+0]=sn(o[i+0],s,l,m,g),o[i+1]=sn(o[i+1],u,c,b,v),o[i+2]=sn(o[i+2],h,d,C,w)}},Grayscale:function(e){var t,n,r=e.data,i=r.length;for(t=0;t<i;t+=4)n=.34*r[t]+.5*r[t+1]+.16*r[t+2],r[t]=n,r[t+1]=n,r[t+2]=n},HSL:function(e){var t,n,r,i,o,a=e.data,s=a.length,l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,c=127*this.luminance(),h=1*l*Math.cos(u*Math.PI/180),d=1*l*Math.sin(u*Math.PI/180),f=.299+.701*h+.167*d,p=.587-.587*h+.33*d,g=.114-.114*h-.497*d,m=.299-.299*h-.328*d,y=.587+.413*h+.035*d,v=.114-.114*h+.293*d,b=.299-.3*h+1.25*d,x=.587-.586*h-1.05*d,w=.114+.886*h-.2*d;for(t=0;t<s;t+=4)n=a[t+0],r=a[t+1],i=a[t+2],o=a[t+3],a[t+0]=f*n+p*r+g*i+c,a[t+1]=m*n+y*r+v*i+c,a[t+2]=b*n+x*r+w*i+c,a[t+3]=o},HSV:function(e){var t,n,r,i,o,a=e.data,s=a.length,l=Math.pow(2,this.value()),u=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,h=l*u*Math.cos(c*Math.PI/180),d=l*u*Math.sin(c*Math.PI/180),f=.299*l+.701*h+.167*d,p=.587*l-.587*h+.33*d,g=.114*l-.114*h-.497*d,m=.299*l-.299*h-.328*d,y=.587*l+.413*h+.035*d,v=.114*l-.114*h+.293*d,b=.299*l-.3*h+1.25*d,x=.587*l-.586*h-1.05*d,w=.114*l+.886*h-.2*d;for(t=0;t<s;t+=4)n=a[t+0],r=a[t+1],i=a[t+2],o=a[t+3],a[t+0]=f*n+p*r+g*i,a[t+1]=m*n+y*r+v*i,a[t+2]=b*n+x*r+w*i,a[t+3]=o},Invert:function(e){var t,n=e.data,r=n.length;for(t=0;t<r;t+=4)n[t]=255-n[t],n[t+1]=255-n[t+1],n[t+2]=255-n[t+2]},Kaleidoscope:function(e){var t,n,r,i,o,a,s,l,u,c=e.width,h=e.height,d=Math.round(this.kaleidoscopePower()),f=Math.round(this.kaleidoscopeAngle()),p=Math.floor(c*(f%360)/360);if(!(d<1)){var g=v.createCanvasElement();g.width=c,g.height=h;var m=g.getContext("2d").getImageData(0,0,c,h);!function(e,t,n){var r,i,o,a,s=e.data,l=t.data,u=e.width,c=e.height,h=n.polarCenterX||u/2,d=n.polarCenterY||c/2,f=0,p=0,g=0,m=0,y=Math.sqrt(h*h+d*d);i=u-h,o=c-d,y=(a=Math.sqrt(i*i+o*o))>y?a:y;var v,b,x,w,C=c,S=u,k=360/S*Math.PI/180;for(b=0;b<S;b+=1)for(x=Math.sin(b*k),w=Math.cos(b*k),v=0;v<C;v+=1)i=Math.floor(h+y*v/C*w),f=s[0+(r=4*((o=Math.floor(d+y*v/C*x))*u+i))],p=s[r+1],g=s[r+2],m=s[r+3],l[0+(r=4*(b+v*u))]=f,l[r+1]=p,l[r+2]=g,l[r+3]=m}(e,m,{polarCenterX:c/2,polarCenterY:h/2});for(var y=c/Math.pow(2,d);y<=8;)y*=2,d-=1;var b=y=Math.ceil(y),x=0,w=b,C=1;for(p+y>c&&(x=b,w=0,C=-1),n=0;n<h;n+=1)for(t=x;t!==w;t+=C)l=4*(c*n+Math.round(t+p)%c),i=m.data[l+0],o=m.data[l+1],a=m.data[l+2],s=m.data[l+3],u=4*(c*n+t),m.data[u+0]=i,m.data[u+1]=o,m.data[u+2]=a,m.data[u+3]=s;for(n=0;n<h;n+=1)for(b=Math.floor(y),r=0;r<d;r+=1){for(t=0;t<b+1;t+=1)l=4*(c*n+t),i=m.data[l+0],o=m.data[l+1],a=m.data[l+2],s=m.data[l+3],u=4*(c*n+2*b-t-1),m.data[u+0]=i,m.data[u+1]=o,m.data[u+2]=a,m.data[u+3]=s;b*=2}!function(e,t,n){var r,i,o,a,s,l,u=e.data,c=t.data,h=e.width,d=e.height,f=n.polarCenterX||h/2,p=n.polarCenterY||d/2,g=0,m=0,y=0,v=0,b=Math.sqrt(f*f+p*p);i=h-f,o=d-p,b=(l=Math.sqrt(i*i+o*o))>b?l:b;var x,w,C,S=d,k=h,_=n.polarRotation||0;for(i=0;i<h;i+=1)for(o=0;o<d;o+=1)a=i-f,s=o-p,x=Math.sqrt(a*a+s*s)*S/b,w=(w=(180*Math.atan2(s,a)/Math.PI+360+_)%360)*k/360,C=Math.floor(w),g=u[0+(r=4*(Math.floor(x)*h+C))],m=u[r+1],y=u[r+2],v=u[r+3],c[0+(r=4*(o*h+i))]=g,c[r+1]=m,c[r+2]=y,c[r+3]=v}(m,e,{polarRotation:0})}},Mask:function(e){var t=function(e,t){var n=ln(e,0,0),r=ln(e,e.width-1,0),i=ln(e,0,e.height-1),o=ln(e,e.width-1,e.height-1),a=t||10;if(un(n,r)<a&&un(r,o)<a&&un(o,i)<a&&un(i,n)<a){for(var s=function(e){for(var t=[0,0,0],n=0;n<e.length;n++)t[0]+=e[n][0],t[1]+=e[n][1],t[2]+=e[n][2];return t[0]/=e.length,t[1]/=e.length,t[2]/=e.length,t}([r,n,o,i]),l=[],u=0;u<e.width*e.height;u++){var c=un(s,[e.data[4*u],e.data[4*u+1],e.data[4*u+2]]);l[u]=c<a?0:255}return l}}(e,this.threshold());return t&&function(e,t){for(var n=0;n<e.width*e.height;n++)e.data[4*n+3]=t[n]}(e,t=function(e,t,n){for(var r=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],s=0;s<n;s++)for(var l=0;l<t;l++){for(var u=s*t+l,c=0,h=0;h<i;h++)for(var d=0;d<i;d++){var f=s+h-o,p=l+d-o;if(f>=0&&f<n&&p>=0&&p<t){var g=r[h*i+d];c+=e[f*t+p]*g}}a[u]=c}return a}(t=function(e,t,n){for(var r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],s=0;s<n;s++)for(var l=0;l<t;l++){for(var u=s*t+l,c=0,h=0;h<i;h++)for(var d=0;d<i;d++){var f=s+h-o,p=l+d-o;if(f>=0&&f<n&&p>=0&&p<t){var g=r[h*i+d];c+=e[f*t+p]*g}}a[u]=c>=1020?255:0}return a}(t=function(e,t,n){for(var r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],s=0;s<n;s++)for(var l=0;l<t;l++){for(var u=s*t+l,c=0,h=0;h<i;h++)for(var d=0;d<i;d++){var f=s+h-o,p=l+d-o;if(f>=0&&f<n&&p>=0&&p<t){var g=r[h*i+d];c+=e[f*t+p]*g}}a[u]=2040===c?255:0}return a}(t,e.width,e.height),e.width,e.height),e.width,e.height)),e},Noise:function(e){var t,n=255*this.noise(),r=e.data,i=r.length,o=n/2;for(t=0;t<i;t+=4)r[t+0]+=o-2*o*Math.random(),r[t+1]+=o-2*o*Math.random(),r[t+2]+=o-2*o*Math.random()},Pixelate:function(e){var t,n,r,i,o,a,s,l,u,c,h,d,f,p,g=Math.ceil(this.pixelSize()),m=e.width,y=e.height,b=Math.ceil(m/g),x=Math.ceil(y/g),w=e.data;if(g<=0)v.error("pixelSize value can not be <= 0");else for(d=0;d<b;d+=1)for(f=0;f<x;f+=1){for(i=0,o=0,a=0,s=0,u=(l=d*g)+g,h=(c=f*g)+g,p=0,t=l;t<u;t+=1)if(!(t>=m))for(n=c;n<h;n+=1)n>=y||(i+=w[(r=4*(m*n+t))+0],o+=w[r+1],a+=w[r+2],s+=w[r+3],p+=1);for(i/=p,o/=p,a/=p,s/=p,t=l;t<u;t+=1)if(!(t>=m))for(n=c;n<h;n+=1)n>=y||(w[(r=4*(m*n+t))+0]=i,w[r+1]=o,w[r+2]=a,w[r+3]=s)}},Posterize:function(e){var t,n=Math.round(254*this.levels())+1,r=e.data,i=r.length,o=255/n;for(t=0;t<i;t+=1)r[t]=Math.floor(r[t]/o)*o},RGB:function(e){var t,n,r=e.data,i=r.length,o=this.red(),a=this.green(),s=this.blue();for(t=0;t<i;t+=4)n=(.34*r[t]+.5*r[t+1]+.16*r[t+2])/255,r[t]=n*o,r[t+1]=n*a,r[t+2]=n*s,r[t+3]=r[t+3]},RGBA:function(e){var t,n,r=e.data,i=r.length,o=this.red(),a=this.green(),s=this.blue(),l=this.alpha();for(t=0;t<i;t+=4)n=1-l,r[t]=o*l+r[t]*n,r[t+1]=a*l+r[t+1]*n,r[t+2]=s*l+r[t+2]*n},Sepia:function(e){var t,n,r,i,o=e.data,a=o.length;for(t=0;t<a;t+=4)n=o[t+0],r=o[t+1],i=o[t+2],o[t+0]=Math.min(255,.393*n+.769*r+.189*i),o[t+1]=Math.min(255,.349*n+.686*r+.168*i),o[t+2]=Math.min(255,.272*n+.534*r+.131*i)},Solarize:function(e){var t=e.data,n=e.width,r=4*n,i=e.height;do{var o=(i-1)*r,a=n;do{var s=o+4*(a-1),l=t[s],u=t[s+1],c=t[s+2];l>127&&(l=255-l),u>127&&(u=255-u),c>127&&(c=255-c),t[s]=l,t[s+1]=u,t[s+2]=c}while(--a)}while(--i)},Threshold:function(e){var t,n=255*this.threshold(),r=e.data,i=r.length;for(t=0;t<i;t+=1)r[t]=r[t]<n?0:255}}});const cn=at;var hn=r(525),dn=r.n(hn),fn={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0},pn=!1,gn=!1,mn=".react-konva-event",yn=!1;var vn="ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.\nPosition of a node will be changed during drag&drop, so you should update state of the react app as well.\nConsider to add onDragMove or onDragEnd events.\nFor more info see: https://github.com/konvajs/react-konva/issues/256\n",bn='ReactKonva: You are using "zIndex" attribute for a Konva node.\nreact-konva may get confused with ordering. Just define correct order of elements in your render function of a component.\nFor more info see: https://github.com/konvajs/react-konva/issues/194\n',xn={};function wn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xn;if(t===n&&console.error("same props"),!pn&&"zIndex"in t&&(console.warn(bn),pn=!0),!gn&&t.draggable){var r=void 0!==t.x||void 0!==t.y,i=t.onDragEnd||t.onDragMove;r&&!i&&(console.warn(vn),gn=!0)}for(var o in n)if(!fn[o]){var a="on"===o.slice(0,2),s=n[o]!==t[o];if(a&&s)"content"===(p=o.substr(2).toLowerCase()).substr(0,7)&&(p="content"+p.substr(7,1).toUpperCase()+p.substr(8)),e.off(p,n[o]);var l=!t.hasOwnProperty(o);l&&e.setAttr(o,void 0)}var u=yn||t._useStrictMode,c={},h=!1,d={};for(var o in t)if(!fn[o]){a="on"===o.slice(0,2);var f=n[o]!==t[o];if(a&&f)"content"===(p=o.substr(2).toLowerCase()).substr(0,7)&&(p="content"+p.substr(7,1).toUpperCase()+p.substr(8)),t[o]&&(d[p]=t[o]);!a&&(t[o]!==n[o]||u&&t[o]!==e.getAttr(o))&&(h=!0,c[o]=t[o])}for(var p in h&&(e.setAttrs(c),Cn(e)),d)e.on(p+mn,d[p])}function Cn(e){if(!l.autoDrawEnabled){var t=e.getLayer()||e.getStage();t&&t.batchDraw()}}var Sn=r(840),kn={},_n={};function An(e,t){"string"!=typeof t?(e.add(t),Cn(e)):console.error("Do not use plain text as child of Konva.Node. You are using text: "+t)}function En(e,t,n){var r=cn[e];r||(console.error("Konva has no node with the type "+e+'. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/'+e+'"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html'),r=cn.Group);var i={},o={};for(var a in t){"on"===a.slice(0,2)?o[a]=t[a]:i[a]=t[a]}var s=new r(i);return wn(s,o),s}function Pn(e,t,n){console.error('Text components are not supported for now in ReactKonva. Your text is: "'+e+'"')}function Tn(e,t,n){return!1}function Mn(e){return e}function Bn(){return null}function On(){return null}function Ln(e,t,n,r){return _n}function zn(){}function In(e){}function Rn(e,t){return!1}function Nn(){return kn}function Dn(){return kn}cn.Node.prototype._applyProps=wn;var Fn=setTimeout,jn=clearTimeout,Gn=-1;function Wn(e,t){return!1}var Hn=!1,Un=!0,Yn=!0;function Xn(e,t){t.parent===e?t.moveToTop():e.add(t),Cn(e)}function Vn(e,t){t.parent===e?t.moveToTop():e.add(t),Cn(e)}function qn(e,t,n){t._remove(),e.add(t),t.setZIndex(n.getZIndex()),Cn(e)}function Qn(e,t,n){qn(e,t,n)}function $n(e,t){t.destroy(),t.off(mn),Cn(e)}function Zn(e,t){t.destroy(),t.off(mn),Cn(e)}function Kn(e,t,n){console.error('Text components are not yet supported in ReactKonva. You text is: "'+n+'"')}function Jn(e,t,n){}function er(e,t,n,r,i){wn(e,i,r)}function tr(e){e.hide(),Cn(e)}function nr(e){}function rr(e,t){(null==t.visible||t.visible)&&e.show()}function ir(e,t){}function or(e){}var ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var sr=function(e){var t,r,i=n.useRef(),o=n.useRef(),a=n.useRef(),s=(t=e,r=n.useRef(),n.useLayoutEffect((function(){r.current=t})),r.current),l=function(t){var n=e.forwardedRef;n&&("function"==typeof n?n(t):n.current=t)};return n.useLayoutEffect((function(){return o.current=new cn.Stage({width:e.width,height:e.height,container:i.current}),l(o.current),a.current=ur.createContainer(o.current),ur.updateContainer(e.children,a.current),function(){cn.isBrowser&&(l(null),ur.updateContainer(null,a.current,null),o.current.destroy())}}),[]),n.useLayoutEffect((function(){l(o.current),wn(o.current,e,s),ur.updateContainer(e.children,a.current,null)})),n.createElement("div",{ref:i,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},lr="Rect",ur=dn()(e);ur.injectIntoDevTools({findHostInstanceByFiber:function(){return null},bundleType:0,version:n.version,rendererPackageName:"react-konva"});var cr=n.forwardRef((function(e,t){return n.createElement(sr,ar({},e,{forwardedRef:t}))}));function hr(e){return e.right-e.left}function dr(e){return e.bottom-e.top}function fr(e){const{left:t,top:n,right:r,bottom:i}=e;return{x:t+(r-t>>>1),y:n+(i-n>>>1)}}function pr(e){const{left:t,top:n,right:r,bottom:i}=e;return[{start:{x:t,y:n},end:{x:r,y:n}},{start:{x:t,y:i},end:{x:r,y:i}},{start:{x:r,y:n},end:{x:r,y:i}},{start:{x:t,y:n},end:{x:t,y:i}}]}function gr(e){return n.createElement("Circle",Object.assign({},e,{radius:5/e.boardScale,fill:"white",stroke:"gray",strokeWidth:1/e.boardScale}))}function mr(e){const{left:t,right:r,top:i,bottom:o,boardScale:a}=e,s=hr(e),l=dr(e);return n.createElement(n.Fragment,null,n.createElement(lr,{x:t,y:i,width:s,height:l,stroke:"blue",strokeWidth:1/a}),n.createElement(gr,{x:t,y:i,boardScale:a}),n.createElement(gr,{x:t,y:o,boardScale:a}),n.createElement(gr,{x:r,y:i,boardScale:a}),n.createElement(gr,{x:r,y:o,boardScale:a}))}const yr={Rectangle:[{type:"Line",value:{start:{x:0,y:0},end:{x:100,y:0}}},{type:"Line",value:{start:{x:100,y:0},end:{x:100,y:100}}},{type:"Line",value:{start:{x:100,y:100},end:{x:0,y:100}}},{type:"Line",value:{start:{x:0,y:100},end:{x:0,y:0}}}],Triangle:[{type:"Line",value:{start:{x:0,y:100},end:{x:50,y:0}}},{type:"Line",value:{start:{x:50,y:0},end:{x:100,y:100}}},{type:"Line",value:{start:{x:100,y:100},end:{x:0,y:100}}}],Circle:[{type:"CubicBezier",value:{start:{x:0,y:50},startControl:{x:0,y:-18},end:{x:100,y:50},endControl:{x:100,y:-18}}},{type:"CubicBezier",value:{start:{x:100,y:50},startControl:{x:100,y:118},end:{x:0,y:50},endControl:{x:0,y:118}}}],ArrowLeft:[{type:"Line",value:{start:{x:100,y:75},end:{x:50,y:75}}},{type:"Line",value:{start:{x:50,y:75},end:{x:50,y:100}}},{type:"Line",value:{start:{x:50,y:100},end:{x:0,y:50}}},{type:"Line",value:{start:{x:0,y:50},end:{x:50,y:0}}},{type:"Line",value:{start:{x:50,y:0},end:{x:50,y:25}}},{type:"Line",value:{start:{x:50,y:25},end:{x:100,y:25}}},{type:"Line",value:{start:{x:100,y:25},end:{x:100,y:75}}}],ArrowLeftRight:[{type:"Line",value:{start:{x:0,y:50},end:{x:25,y:0}}},{type:"Line",value:{start:{x:25,y:0},end:{x:25,y:25}}},{type:"Line",value:{start:{x:25,y:25},end:{x:75,y:25}}},{type:"Line",value:{start:{x:75,y:25},end:{x:75,y:0}}},{type:"Line",value:{start:{x:75,y:0},end:{x:100,y:50}}},{type:"Line",value:{start:{x:100,y:50},end:{x:75,y:100}}},{type:"Line",value:{start:{x:75,y:100},end:{x:75,y:75}}},{type:"Line",value:{start:{x:75,y:75},end:{x:25,y:75}}},{type:"Line",value:{start:{x:25,y:75},end:{x:25,y:100}}},{type:"Line",value:{start:{x:25,y:100},end:{x:0,y:50}}}],ArrowRight:[{type:"Line",value:{start:{x:0,y:25},end:{x:50,y:25}}},{type:"Line",value:{start:{x:50,y:25},end:{x:50,y:0}}},{type:"Line",value:{start:{x:50,y:0},end:{x:100,y:50}}},{type:"Line",value:{start:{x:100,y:50},end:{x:50,y:100}}},{type:"Line",value:{start:{x:50,y:100},end:{x:50,y:75}}},{type:"Line",value:{start:{x:50,y:75},end:{x:0,y:75}}},{type:"Line",value:{start:{x:0,y:75},end:{x:0,y:25}}}],BracesLeft:[{type:"CubicBezier",value:{start:{x:0,y:100},startControl:{x:0,y:100},end:{x:10,y:90},endControl:{x:10,y:100}}},{type:"Line",value:{start:{x:10,y:90},end:{x:10,y:55}}},{type:"Line",value:{start:{x:10,y:55},end:{x:20,y:50}}},{type:"Line",value:{start:{x:20,y:50},end:{x:10,y:45}}},{type:"Line",value:{start:{x:10,y:45},end:{x:10,y:10}}},{type:"CubicBezier",value:{start:{x:10,y:10},startControl:{x:10,y:10},end:{x:0,y:0},endControl:{x:10,y:0}}}],BracesRight:[{type:"CubicBezier",value:{start:{x:100,y:0},startControl:{x:100,y:0},end:{x:90,y:10},endControl:{x:90,y:0}}},{type:"Line",value:{start:{x:90,y:10},end:{x:90,y:45}}},{type:"Line",value:{start:{x:90,y:45},end:{x:80,y:50}}},{type:"Line",value:{start:{x:80,y:50},end:{x:90,y:55}}},{type:"Line",value:{start:{x:90,y:55},end:{x:90,y:90}}},{type:"CubicBezier",value:{start:{x:90,y:90},startControl:{x:90,y:90},end:{x:100,y:100},endControl:{x:90,y:100}}}],Cloud:[{type:"CubicBezier",value:{start:{x:0,y:50},startControl:{x:0,y:40},end:{x:15,y:35},endControl:{x:5,y:35}}},{type:"CubicBezier",value:{start:{x:15,y:35},startControl:{x:15,y:35},end:{x:15,y:15},endControl:{x:5,y:25}}},{type:"CubicBezier",value:{start:{x:15,y:15},startControl:{x:25,y:5},end:{x:35,y:15},endControl:{x:35,y:15}}},{type:"CubicBezier",value:{start:{x:35,y:15},startControl:{x:35,y:10},end:{x:50,y:0},endControl:{x:40,y:0}}},{type:"CubicBezier",value:{start:{x:50,y:0},startControl:{x:60,y:0},end:{x:65,y:15},endControl:{x:65,y:10}}},{type:"CubicBezier",value:{start:{x:65,y:15},startControl:{x:65,y:15},end:{x:85,y:15},endControl:{x:75,y:5}}},{type:"CubicBezier",value:{start:{x:85,y:15},startControl:{x:95,y:25},end:{x:85,y:35},endControl:{x:85,y:35}}},{type:"CubicBezier",value:{start:{x:85,y:35},startControl:{x:85,y:35},end:{x:100,y:50},endControl:{x:100,y:35}}},{type:"CubicBezier",value:{start:{x:100,y:50},startControl:{x:100,y:65},end:{x:85,y:65},endControl:{x:85,y:65}}},{type:"CubicBezier",value:{start:{x:85,y:65},startControl:{x:90,y:65},end:{x:85,y:90},endControl:{x:100,y:80}}},{type:"CubicBezier",value:{start:{x:85,y:90},startControl:{x:70,y:95},end:{x:65,y:85},endControl:{x:65,y:80}}},{type:"CubicBezier",value:{start:{x:65,y:85},startControl:{x:65,y:90},end:{x:50,y:100},endControl:{x:60,y:100}}},{type:"CubicBezier",value:{start:{x:50,y:100},startControl:{x:40,y:100},end:{x:35,y:85},endControl:{x:35,y:90}}},{type:"CubicBezier",value:{start:{x:35,y:85},startControl:{x:35,y:90},end:{x:15,y:90},endControl:{x:25,y:95}}},{type:"CubicBezier",value:{start:{x:15,y:90},startControl:{x:0,y:80},end:{x:15,y:65},endControl:{x:10,y:65}}},{type:"CubicBezier",value:{start:{x:15,y:65},startControl:{x:15,y:65},end:{x:0,y:50},endControl:{x:0,y:65}}}],Cross:[{type:"Line",value:{start:{x:0,y:25},end:{x:25,y:25}}},{type:"Line",value:{start:{x:25,y:25},end:{x:25,y:0}}},{type:"Line",value:{start:{x:25,y:0},end:{x:75,y:0}}},{type:"Line",value:{start:{x:75,y:0},end:{x:75,y:25}}},{type:"Line",value:{start:{x:75,y:25},end:{x:100,y:25}}},{type:"Line",value:{start:{x:100,y:25},end:{x:100,y:75}}},{type:"Line",value:{start:{x:100,y:75},end:{x:75,y:75}}},{type:"Line",value:{start:{x:75,y:75},end:{x:75,y:100}}},{type:"Line",value:{start:{x:75,y:100},end:{x:25,y:100}}},{type:"Line",value:{start:{x:25,y:100},end:{x:25,y:75}}},{type:"Line",value:{start:{x:25,y:75},end:{x:0,y:75}}},{type:"Line",value:{start:{x:0,y:75},end:{x:0,y:25}}}],Cylinder:[{type:"CubicBezier",value:{start:{x:0,y:5},startControl:{x:0,y:5},end:{x:50,y:0},endControl:{x:0,y:0}}},{type:"CubicBezier",value:{start:{x:50,y:0},startControl:{x:100,y:0},end:{x:100,y:5},endControl:{x:100,y:5}}},{type:"Line",value:{start:{x:100,y:5},end:{x:100,y:95}}},{type:"CubicBezier",value:{start:{x:100,y:95},startControl:{x:100,y:95},end:{x:50,y:100},endControl:{x:100,y:100}}}],Hexagon:[{type:"Line",value:{start:{x:0,y:50},end:{x:25,y:0}}},{type:"Line",value:{start:{x:25,y:0},end:{x:75,y:0}}},{type:"Line",value:{start:{x:75,y:0},end:{x:100,y:50}}},{type:"Line",value:{start:{x:100,y:50},end:{x:75,y:100}}},{type:"Line",value:{start:{x:75,y:100},end:{x:25,y:100}}},{type:"Line",value:{start:{x:25,y:100},end:{x:0,y:50}}}],Octagon:[{type:"Line",value:{start:{x:0,y:25},end:{x:25,y:0}}},{type:"Line",value:{start:{x:25,y:0},end:{x:75,y:0}}},{type:"Line",value:{start:{x:75,y:0},end:{x:100,y:25}}},{type:"Line",value:{start:{x:100,y:25},end:{x:100,y:75}}},{type:"Line",value:{start:{x:100,y:75},end:{x:75,y:100}}},{type:"Line",value:{start:{x:75,y:100},end:{x:25,y:100}}},{type:"Line",value:{start:{x:25,y:100},end:{x:0,y:75}}},{type:"Line",value:{start:{x:0,y:75},end:{x:0,y:25}}}],Parallelogram:[{type:"Line",value:{start:{x:0,y:100},end:{x:10,y:0}}},{type:"Line",value:{start:{x:10,y:0},end:{x:100,y:0}}},{type:"Line",value:{start:{x:100,y:0},end:{x:90,y:100}}},{type:"Line",value:{start:{x:90,y:100},end:{x:0,y:100}}}],Pentagon:[{type:"Line",value:{start:{x:0,y:50},end:{x:50,y:0}}},{type:"Line",value:{start:{x:50,y:0},end:{x:100,y:50}}},{type:"Line",value:{start:{x:100,y:50},end:{x:75,y:100}}},{type:"Line",value:{start:{x:75,y:100},end:{x:25,y:100}}},{type:"Line",value:{start:{x:25,y:100},end:{x:0,y:50}}}],Rhombus:[{type:"Line",value:{start:{x:0,y:50},end:{x:50,y:0}}},{type:"Line",value:{start:{x:50,y:0},end:{x:100,y:50}}},{type:"Line",value:{start:{x:100,y:50},end:{x:50,y:100}}},{type:"Line",value:{start:{x:50,y:100},end:{x:0,y:50}}}],RoundedRectangle:[{type:"CubicBezier",value:{start:{x:0,y:10},startControl:{x:0,y:10},end:{x:10,y:0},endControl:{x:0,y:0}}},{type:"Line",value:{start:{x:10,y:0},end:{x:90,y:0}}},{type:"CubicBezier",value:{start:{x:90,y:0},startControl:{x:90,y:0},end:{x:100,y:10},endControl:{x:100,y:0}}},{type:"Line",value:{start:{x:100,y:10},end:{x:100,y:90}}},{type:"CubicBezier",value:{start:{x:100,y:90},startControl:{x:100,y:90},end:{x:90,y:100},endControl:{x:100,y:100}}},{type:"Line",value:{start:{x:90,y:100},end:{x:10,y:100}}},{type:"CubicBezier",value:{start:{x:10,y:100},startControl:{x:10,y:100},end:{x:0,y:90},endControl:{x:0,y:100}}},{type:"Line",value:{start:{x:0,y:90},end:{x:0,y:10}}}],SpeachBubble:[{type:"CubicBezier",value:{start:{x:0,y:10},startControl:{x:0,y:10},end:{x:10,y:0},endControl:{x:0,y:0}}},{type:"Line",value:{start:{x:10,y:0},end:{x:90,y:0}}},{type:"CubicBezier",value:{start:{x:10,y:0},startControl:{x:90,y:0},end:{x:100,y:10},endControl:{x:100,y:0}}},{type:"Line",value:{start:{x:100,y:10},end:{x:100,y:80}}},{type:"CubicBezier",value:{start:{x:100,y:80},startControl:{x:100,y:80},end:{x:90,y:90},endControl:{x:100,y:90}}},{type:"Line",value:{start:{x:90,y:90},end:{x:30,y:90}}},{type:"Line",value:{start:{x:30,y:90},end:{x:20,y:100}}},{type:"Line",value:{start:{x:20,y:100},end:{x:20,y:90}}},{type:"Line",value:{start:{x:20,y:90},end:{x:10,y:90}}},{type:"CubicBezier",value:{start:{x:10,y:90},startControl:{x:10,y:90},end:{x:0,y:80},endControl:{x:0,y:90}}},{type:"Line",value:{start:{x:0,y:80},end:{x:0,y:10}}}],Star:[{type:"Line",value:{start:{x:0,y:35},end:{x:35,y:35}}},{type:"Line",value:{start:{x:35,y:35},end:{x:50,y:0}}},{type:"Line",value:{start:{x:50,y:0},end:{x:65,y:35}}},{type:"Line",value:{start:{x:65,y:35},end:{x:100,y:35}}},{type:"Line",value:{start:{x:100,y:35},end:{x:75,y:60}}},{type:"Line",value:{start:{x:75,y:60},end:{x:90,y:95}}},{type:"Line",value:{start:{x:90,y:95},end:{x:50,y:75}}},{type:"Line",value:{start:{x:50,y:75},end:{x:10,y:95}}},{type:"Line",value:{start:{x:10,y:95},end:{x:25,y:60}}},{type:"Line",value:{start:{x:25,y:60},end:{x:0,y:35}}}],Trapezoid:[{type:"Line",value:{start:{x:0,y:100},end:{x:20,y:0}}},{type:"Line",value:{start:{x:20,y:0},end:{x:80,y:0}}},{type:"Line",value:{start:{x:80,y:0},end:{x:100,y:100}}},{type:"Line",value:{start:{x:100,y:100},end:{x:0,y:100}}}]},vr={solid:[],dot:[1,1],dash:[10,10],"long-dash":[20,5],"dot-dash":[15,3,3,3],"triple-dot-dash":[20,3,3,3,3,3,3,3],"loose-double-dot-dash":[12,3,3]},br=[vr];for(let e=1;e<=10;e++){const t={};for(const n in vr){t[n]=[];for(const r of vr[n])t[n].push(r*e)}br.push(t)}class xr extends n.PureComponent{constructor(e){super(e),this.map=yr,this.sceneFunc=this.sceneFunc.bind(this)}sceneFunc(e,t){let n=this.map[this.props.type];n||(n=this.map.Rectangle),e.beginPath();const r=vr[this.props.borderStyle];e.setLineDash(r);const i=n[0];"Line"!==i.type&&"CubicBezier"!==i.type||e.moveTo(i.value.start.x,i.value.start.y);for(const t of n)switch(t.type){case"Line":e.lineTo(t.value.end.x,t.value.end.y);break;case"CubicBezier":e.bezierCurveTo(t.value.startControl.x,t.value.startControl.y,t.value.endControl.x,t.value.endControl.y,t.value.end.x,t.value.end.y)}"BracesRight"!==this.props.type&&"BracesLeft"!==this.props.type&&e.closePath(),e.fillStrokeShape(t)}render(){const{position:e,scale:t,backgroundColor:r,borderColor:i,borderWidth:o}=this.props,{x:a,y:s}=e;return n.createElement("Shape",{x:a,y:s,scale:t,fill:r,stroke:i,strokeWidth:o,sceneFunc:this.sceneFunc,shadowForStrokeEnabled:!1,perfectDrawEnabled:!1,strokeScaleEnabled:!1,type:this.props.type})}}function wr(e){const t=hr(e.bounds),r=dr(e.bounds),i={x:t/100,y:r/100},o={x:e.bounds.left,y:e.bounds.top};return n.createElement(n.Fragment,null,n.createElement(xr,Object.assign({},e.figureStyle,{borderWidth:1,borderColor:"rgba(0, 0, 255, 0.8)",id:"AddFigureBounds",scale:i,position:o})),n.createElement(lr,{x:e.bounds.left,y:e.bounds.top,width:t,height:r,stroke:"rgba(0, 0, 255, 0.8)",strokeWidth:1/e.boardScale}))}function Cr(e,t){const n=t.path,r=br[t.borderWidth][t.borderStyle];e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,e.lineWidth=t.borderWidth,e.beginPath(),e.setLineDash(r);const i=n[0];let o,a;"Line"!==i.type&&"CubicBezier"!==i.type||e.moveTo(i.value.start.x,i.value.start.y);const s=n.length;for(let t=0;t<s;t++)switch(a=n[t],a.type){case"Line":o=a.value,e.lineTo(o.end.x,o.end.y);break;case"CubicBezier":o=a.value,e.bezierCurveTo(o.startControl.x,o.startControl.y,o.endControl.x,o.endControl.y,o.end.x,o.end.y)}"BracesRight"!==t.type&&"BracesLeft"!==t.type&&e.closePath(),""!==t.backgroundColor&&e.fill(),e.stroke()}function Sr(e,t){if(""===t.backgroundColor)return;const n=t.path;e.fillStyle=t.backgroundColor,e.beginPath();const r=n[0];let i,o;"Line"!==r.type&&"CubicBezier"!==r.type||e.moveTo(r.value.start.x,r.value.start.y);const a=n.length;for(let t=0;t<a;t++)switch(o=n[t],o.type){case"Line":i=o.value,e.lineTo(i.end.x,i.end.y);break;case"CubicBezier":i=o.value,e.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)}"BracesRight"!==t.type&&"BracesLeft"!==t.type&&e.closePath(),e.fill()}function kr(e,t){e.fillStyle=t.backgroundColor;const n=t.position;e.fillRect(n.x,n.y,t.width,t.height)}class _r extends n.PureComponent{constructor(){super(...arguments),this.canvasRef=n.createRef(),this.ctx=null}componentDidMount(){this.draw=this.draw.bind(this);const e=this.canvasRef.current;e&&(this.ctx=e.getContext("2d")),window.requestAnimationFrame(this.draw)}componentDidUpdate(e){e!==this.props&&window.requestAnimationFrame(this.draw)}draw(){const e=this.ctx;e.setTransform(1*window.devicePixelRatio,0,0,1*window.devicePixelRatio,0,0),e.clearRect(0,0,window.innerWidth,window.innerHeight);const{position:t,scale:n}=this.props;e.transform(n,0,0,n,t.x,t.y),function(e,t,n){const r=t.length;let i;const o=2/n,a=10/n;let s=0;if(10*n<.1)for(let n=0;n<r;n++)i=t[n],s=i.maxDimension,s>a?Sr(e,i):s>o&&kr(e,i);else for(let n=0;n<r;n++)i=t[n],s=i.maxDimension,s>a?Cr(e,i):s>o&&kr(e,i)}(e,this.props.figures,n)}render(){const e=window.innerWidth,t=window.innerHeight;return n.createElement("div",{style:{width:`${e}px`,height:`${t}px`,position:"relative"}},n.createElement("canvas",{ref:this.canvasRef,width:Math.floor(e*window.devicePixelRatio),height:Math.floor(t*window.devicePixelRatio),style:{padding:"0px",margin:"0px",border:"0px",background:"transparent",top:"0px",left:"0px",display:"block",width:`${e}px`,height:`${t}px`,position:"absolute"}}))}}function Ar(e){const t=hr(e.bounds),r=dr(e.bounds),i=[];for(const t of e.selection.items)i.push(n.createElement(lr,{key:"select"+t.id,x:t.position.x,y:t.position.y,width:100*t.scale.x,height:100*t.scale.y,stroke:"rgba(0, 0, 255, 0.8)",strokeWidth:1/e.boardScale}));const o=[];for(const t of e.selection.additionalItems)o.push(n.createElement(lr,{key:"addToSelect"+t.id,x:t.position.x,y:t.position.y,width:100*t.scale.x,height:100*t.scale.y,stroke:"rgba(0, 0, 255, 0.8)",strokeWidth:1/e.boardScale}));return n.createElement(n.Fragment,null,n.createElement(lr,{key:"Select",x:e.bounds.left,y:e.bounds.top,width:t,height:r,stroke:"rgba(0, 0, 255, 0.8)",fill:"rgba(0, 0, 255, 0.1)",strokeWidth:1/e.boardScale}),i,o)}function Er(e){const t=hr(e.bounds),r=dr(e.bounds),i=[];for(const t of e.items)i.push(n.createElement(lr,{key:t.id,x:t.position.x,y:t.position.y,width:100*t.scale.x,height:100*t.scale.y,stroke:"rgba(0, 0, 255, 0.8)",strokeWidth:1/e.boardScale}));return n.createElement(n.Fragment,null,i,n.createElement(lr,{key:"Selection",x:e.bounds.left,y:e.bounds.top,width:t,height:r,stroke:"rgba(0, 0, 255, 0.8)",strokeWidth:1/e.boardScale}))}class Pr extends n.Component{constructor(){super(...arguments),this.stageRef=n.createRef()}componentDidMount(){const e=this.stageRef.current;if(e){const{pointerdown:t,pointerup:n,click:r}=this.props;e.addEventListener("pointerdown",t.listener,t.options),e.addEventListener("pointerup",n.listener,n.options),e.addEventListener("dblclick",r.listener,r.options)}}componentWillUnmount(){const e=this.stageRef.current;if(e){const{pointerdown:t,pointerup:n,click:r}=this.props;e.removeEventListener("pointerdown",t.listener),e.removeEventListener("pointerup",n.listener),e.removeEventListener("dblclick",r.listener)}}render(){const e=this.props;return n.createElement("div",{ref:this.stageRef,style:{cursor:e.cursor,position:"relative",width:e.width,height:e.height}},n.createElement(_r,{figures:e.figures,position:e.position,scale:e.scale}),n.createElement(cr,{width:e.width,height:e.height,scale:{x:e.scale,y:e.scale},x:e.position.x,y:e.position.y,listening:!1,style:{position:"absolute",left:0,top:0}},n.createElement("Layer",null,e.addFigureBounds.isOn&&n.createElement(wr,Object.assign({},e.addFigureBounds)),e.transformer.isOn&&n.createElement(mr,Object.assign({},e.transformer)),e.selectBounds.isOn&&n.createElement(Ar,Object.assign({},e.selectBounds)),e.selection.isOn&&n.createElement(Er,Object.assign({},e.selection)))))}}var Tr=r(379),Mr=r.n(Tr),Br=r(375),Or={insert:"head",singleton:!1};Mr()(Br.Z,Or);Br.Z.locals;const Lr={ZoomIn:{paths:["M 12,1 V 23","M 1,12 H 23"],width:24,height:24},ZoomOut:{paths:["M 1,12 H 23"],width:24,height:24},ZoomToFit:{paths:["m 15,1 h 8 v 8","M 9,1 H 1 v 8","m 23,15 v 8 h -8","M 9,23 H 1 v -8"],width:24,height:24},Rectangle:{paths:["M 0,0 H 100 V 100 H 0 Z"],width:100,height:100},Triangle:{paths:["M 0,100 50,0 100,100 Z"],width:100,height:100},Circle:{paths:["M 0,50 C 0,50 0,0 50,0 c 50,0 50,50 50,50 0,0 0,50 -50,50 C 0,100 0,50 0,50 Z"],width:100,height:100},ArrowLeft:{paths:["M 100,75 H 50 v 25 L 0,50 50,0 v 25 h 50 z"],width:100,height:100},ArrowLeftRight:{paths:["M 0,50 25,0 V 25 H 75 V 0 l 25,50 -25,50 V 75 H 25 v 25 z"],width:100,height:100},ArrowRight:{paths:["M 0,25 H 50 V 0 l 50,50 -50,50 V 75 H 0 Z"],width:100,height:100},BracesLeft:{paths:["m 0,100 c 0,0 10,0 10,-10 V 55 L 20,50 10,45 V 10 C 10,10 10,3 0,3"],width:100,height:100},BracesRight:{paths:["m 100,0 c 0,0 -10,-10 -10,10 l 0,35 -10,5 10,5 0,35 c 0,0 -10,10 10,10"],width:100,height:100},Cloud:{paths:["M 0,50 C 0,35 5,35 15,35 15,35 5,25 15,15 25,5 35,15 35,15 35,15 40,0 50,0 c 10,0 15,15 15,15 0,0 10,-10 20,0 10,10 0,20 0,20 0,0 15,0 15,15 0,15 -15,15 -15,15 0,0 10,15 0,25 -10,10 -20,-5 -20,-5 0,0 -5,15 -15,15 C 40,100 35,85 35,85 35,85 25,100 15,90 5,80 15,65 15,65 15,65 0,65 0,50 Z"],width:100,height:100},Cross:{paths:["M 0,25 H 25 V 0 h 50 v 25 h 25 V 75 H 75 v 25 H 25 V 75 H 0 Z"],width:100,height:100},Cylinder:{paths:["m 0,5 c 0,0 0,5 50,5 50,0 50,-5 50,-5"],width:100,height:100},Hexagon:{paths:["M 0,50 25,0 h 50 l 25,50 -25,50 H 25 Z"],width:100,height:100},Octagon:{paths:["M 0,25 C 25,0 25,0 25,0 h 50 l 25,25 V 75 L 75,100 H 25 L 0,75 Z"],width:100,height:100},Parallelogram:{paths:["M 0,100 10,0 h 90 L 90,100 Z"],width:100,height:100},Pentagon:{paths:["M 0,50 50,0 100,50 75,100 H 25 Z"],width:100,height:100},Rhombus:{paths:["M 0,50 50,0 100,50 50,100 Z"],width:100,height:100},RoundedRectangle:{paths:["M 0,10 C 0,10 0,0 10,0 c 10,0 80,0 80,0 0,0 10,0 10,10 0,10 0,80 0,80 0,0 0,10 -10,10 -10,0 -80,0 -80,0 C 10,100 0,100 0,90 0,80 0,10 0,10 Z"],width:100,height:100},SpeachBubble:{paths:["M 0,10 C 0,10 0,0 10,0 c 10,0 80,0 80,0 0,0 10,0 10,10 0,10 0,70 0,70 0,0 0,10 -10,10 -10,0 -60,0 -60,0 L 20,100 V 90 H 10 C 10,90 0,90 0,80 0,70 0,10 0,10 Z"],width:100,height:100},Star:{paths:["M 0,35 H 35 L 50,0 65,35 h 35 L 75,60 90,95 50,75 10,95 25,60 Z"],width:100,height:100},Trapezoid:{paths:["M 0,100 20,0 h 60 l 20,100 z"],width:100,height:100},Bold:{paths:["m 8,2 v 18 c 0,0 9,0 10,-4 C 18,10 8,11 8,11 8,11 16,10 16,5 16,2 8,2 8,2 Z"],width:24,height:24},BoldUnderline:{paths:["m 8,2 v 18 c 0,0 9,0 10,-4 C 18,10 8,11 8,11 8,11 16,10 16,6 16,2 8,2 8,2 Z","M 3,22 H 21"],width:24,height:24},Strikethrough:{paths:["M 3,12 H 21","M 20,7 C 20,7 12,-5 6,5 2,12 21,12 19,18 18,24 7,24 5,20"],width:24,height:24},LineSolid:{paths:["M 2,12 H 20"],width:24,height:24},LineDashed:{paths:["M 2,12 H 6","m 10,12 h 4","m 18,12 h 4"],width:24,height:24},LineDotted:{paths:["M 2,12 H 3","M 4,12 H 5","M 6,12 H 7","M 8,12 H 9","m 10,12 h 1","m 12,12 h 1","m 14,12 h 1","m 16,12 h 1","m 18,12 h 1","m 20,12 h 1"],width:24,height:24},HorisontalAlignCenter:{paths:["M 1,5 H 23","M 5,20 H 19","M 1,15 H 23","M 5,10 H 19"],width:24,height:24},HorisontalAlignLeft:{paths:["M 1,5 H 23","M 1,20 H 15","M 1,15 H 23","M 1,10 H 15"],width:24,height:24},HorisontalAlignRight:{paths:["M 1,5 H 23","M 9,20 H 23","M 1,15 H 23","M 9,10 H 23"],width:24,height:24},Italics:{paths:["M 10,20 15,2","m 12,2 h 6","m 7,20 h 6"],width:24,height:24},TextColor:{paths:["M 3,22 H 21","M 3,20 12,2 21,20","M 7,12 H 17"],width:24,height:24},TextHighlight:{paths:["M 3,22 H 21","m 8,16 2,2 8,-8 -2,-2 z","M 17,6 20,9 22,7 19,4 Z","m 8,16 -2,4 4,-2"],width:24,height:24},Underline:{paths:["M 3,22 H 21","M 4,2 C 4,2 5,20 12,20 19,20 20,2 20,2"],width:24,height:24},VerticalAlignBottom:{paths:["M 1,15 H 23","M 1,20 H 23"],width:24,height:24},VerticalAlignCenter:{paths:["M 1,10 H 23","M 1,15 H 23"],width:24,height:24},VerticalAlignTop:{paths:["M 1,5 H 23","M 1,10 H 23"],width:24,height:24},Pointer:{paths:["M 8.5,18.5 5,2 l 14.5,8 -4,3 5.5,7 -3,2.5 -5.5,-7 z"],width:24,height:24}};function zr(e){const t=Lr[e.iconId],r=[],i=(e.width-2)/t.width,o=t.width/e.width;for(const e of t.paths)r.push(n.createElement("path",{key:e,d:e,transform:`translate(1,1) scale(${i})`}));return n.createElement("svg",{width:`${e.width}.0px`,height:`${e.height}.0px`,viewBox:`0 0 ${e.width}.0 ${e.height}.0`,style:{fill:e.fill,stroke:e.stroke,strokeWidth:o},className:e.className},n.createElement("g",null,r))}class Ir extends n.PureComponent{constructor(e){super(e),this.type="",this.buttonRef=n.createRef(),this.onClick=this.onClick.bind(this),this.changeBounds=this.changeBounds.bind(this)}componentDidMount(){this.changeBounds()}componentDidUpdate(){this.changeBounds()}changeBounds(){const e=this.buttonRef.current;if(e){const{left:t,top:n,right:r,bottom:i}=e.getBoundingClientRect();this.props.changeBounds(this.type,{left:t,top:n,right:r,bottom:i})}}onClick(){this.changeBounds(),this.props.onClick()}}class Rr extends Ir{constructor(){super(...arguments),this.type="AddFigure"}render(){return n.createElement("button",{ref:this.buttonRef,className:this.props.isOn?"ToolButtonHighlight":"ToolButton",onClick:this.props.onClick,title:"Add Figure"},n.createElement(zr,{iconId:this.props.style.type,fill:"none",stroke:"currentColor",width:24,height:24,className:"ToolIcon"}))}}class Nr extends n.PureComponent{render(){return n.createElement("button",{className:this.props.isOn?"ToolButtonHighlight":"ToolButton",onClick:this.props.onClick,title:"Select"},n.createElement(zr,{iconId:"Pointer",fill:"currentColor",stroke:"currentColor",width:24,height:24,className:"ToolIcon"}))}}function Dr(e){const t=dr(e.view)/2,r=t>48?t-48:t;return n.createElement("div",{className:"ToolBar",style:{position:"absolute",zIndex:90,top:`${r}px`,left:"8px"}},n.createElement(Nr,{isOn:e.select.isOn,onClick:e.select.callback}),n.createElement(Rr,{style:e.figureStyle,changeBounds:e.changeMenuItem,onClick:e.addFigure.callback,isOn:e.addFigure.isOn}))}var Fr=r(90),jr={insert:"head",singleton:!1};Mr()(Fr.Z,jr);Fr.Z.locals;function Gr(e){const t=e.scale<.01?"<1%":`${Math.round(100*e.scale)}%`;return n.createElement("div",{className:"ZoomBar"},n.createElement("button",{onClick:e.fitAllContainers,className:"ZoomButton",title:"Zoom to fit"},n.createElement(zr,{iconId:"ZoomToFit",fill:"none",stroke:"currentColor",width:24,height:24,className:"ZoomIcon"})),n.createElement("button",{onClick:e.ofCenterIn,className:"ZoomButton",title:"Zoom in"},n.createElement(zr,{iconId:"ZoomIn",fill:"none",stroke:"currentColor",width:24,height:24,className:"ZoomIcon"})),n.createElement("button",{className:"ZoomButton",onClick:e.ofCenterOut,title:"Zoom out"},n.createElement(zr,{iconId:"ZoomOut",fill:"none",stroke:"currentColor",width:24,height:24,className:"ZoomIcon"})),n.createElement("button",{className:"ZoomText",onClick:e.ofCenterToOne,title:"Zoom to 100%"},t))}var Wr=r(459),Hr={insert:"head",singleton:!1};Mr()(Wr.Z,Hr);Wr.Z.locals;function Ur(e,t,n,r){const i=e.top-t.top,o=t.bottom-e.bottom,a=dr(n),s=hr(n),l=fr(e),u={left:0,top:0,right:0,bottom:0};return i>o-a?(u.top=e.top-r-a,u.top<t.top&&(u.top=t.top+r)):(u.top=e.bottom+r,u.top+a>t.bottom&&(u.top=t.bottom-(a+r))),u.bottom=u.top+a,u.left=l.x-s/2,u.right=u.left+s,u.left<t.left+r?(u.left=t.left+r,u.right=u.left+s):u.right+r>t.right&&(u.right=t.right-r,u.left=t.right-(r+s)),u}class Yr extends n.Component{constructor(){super(...arguments),this.menuRef=n.createRef(),this.offset=5,this.className=""}changeBounds(){const e=this.menuRef.current;if(e){const{item:t,view:n}=this.props,r=e.getBoundingClientRect(),i=this.getBoundsToFit(t,n,r,this.offset);this.props.changeBounds(i);const{left:o,top:a}=i;e.style.left=`${o}px`,e.style.top=`${a}px`}}componentDidMount(){this.changeBounds()}componentDidUpdate(){this.changeBounds()}getContext(e){return n.createElement(n.Fragment,null)}getBoundsToFit(e,t,n,r){return n}render(){const{item:e,view:t,bounds:r}=this.props,{left:i,top:o}=this.getBoundsToFit(e,t,r,this.offset);return n.createElement("div",{ref:this.menuRef,style:{position:"absolute",zIndex:90,left:`${i}px`,top:`${o}px`},className:this.className},this.getContext(this.props))}}function Xr(e){return n.createElement("button",{className:"ContextButton",onClick:e.value.edit,title:"Edit"},"Edit")}class Vr extends Ir{constructor(){super(...arguments),this.type="ChangeBorderStyle"}render(){return n.createElement("button",{ref:this.buttonRef,onClick:this.onClick,className:"ContextButton",title:"Border Style"},n.createElement(zr,{iconId:"Circle",fill:"none",stroke:"currentColor",width:24,height:24,className:"ContextIcon"}))}}class qr extends Ir{constructor(){super(...arguments),this.type="ChangeFigureStyle"}render(){return n.createElement("button",{ref:this.buttonRef,onClick:this.onClick,className:"ContextButton",title:"Background Style"},n.createElement(zr,{iconId:"Circle",fill:this.props.style.backgroundColor,stroke:"currentColor",width:24,height:24,className:"ContextIcon"}))}}class Qr extends Ir{constructor(){super(...arguments),this.type="ChangeFigureType"}render(){const e=this.props;return n.createElement("button",{ref:this.buttonRef,onClick:this.onClick,className:"ContextButton",title:"Change type"},n.createElement(zr,{iconId:e.style.type,fill:"none",stroke:"currentColor",width:24,height:24,className:"ContextIcon"}))}}class $r extends n.Component{constructor(){super(...arguments),this.typeSelectRef=n.createRef()}render(){const e=this.props,t=e.value.style,r=e.changeMenuItem,i=e.value;return n.createElement(n.Fragment,null,n.createElement(Qr,{onClick:i.toggleFigureTypeMenu,style:t,changeBounds:r}),n.createElement(Vr,{onClick:i.toggleBorderStyleMenu,style:t,changeBounds:r}),n.createElement(qr,{onClick:i.toggleFigureStyleMenu,style:t,changeBounds:r}))}}class Zr extends Ir{constructor(){super(...arguments),this.type="ChangeFontSize"}render(){const e=this.props;return n.createElement("button",{ref:this.buttonRef,onClick:this.onClick,className:"ContextButton",title:"Font Size"},e.style.fontSize)}}class Kr extends Ir{constructor(){super(...arguments),this.type="ChangeFontStyle"}render(){return n.createElement("button",{ref:this.buttonRef,onClick:this.onClick,className:"ContextButton",title:"Font Style"},n.createElement(zr,{iconId:"BoldUnderline",fill:"none",stroke:"currentColor",width:24,height:24,className:"ContextIcon"}))}}class Jr extends Ir{constructor(){super(...arguments),this.type="ChangeAlignment"}render(){return n.createElement("button",{ref:this.buttonRef,onClick:this.onClick,className:"ContextButton",title:"Text Alignment"},n.createElement(zr,{iconId:"HorisontalAlignCenter",fill:"none",stroke:"currentColor",width:24,height:24,className:"ContextIcon"}))}}class ei extends Ir{constructor(){super(...arguments),this.type="ChangeTextColor"}render(){return n.createElement("button",{ref:this.buttonRef,onClick:this.onClick,className:"ContextButton",title:"Text color"},n.createElement(zr,{iconId:"TextColor",fill:"none",stroke:"currentColor",width:24,height:24,className:"ContextIcon"}))}}class ti extends Ir{constructor(){super(...arguments),this.type="ChangeTextHighlight"}render(){return n.createElement("button",{ref:this.buttonRef,onClick:this.onClick,className:"ContextButton",title:"Text highlight"},n.createElement(zr,{iconId:"TextHighlight",fill:"none",stroke:"currentColor",width:24,height:24,className:"ContextIcon"}))}}class ni extends n.Component{constructor(e){super(e),this.containerRef=n.createRef(),this.changeBounds=this.changeBounds.bind(this)}componentDidMount(){this.changeBounds()}componentDidUpdate(){this.changeBounds()}changeBounds(){const e=this.containerRef.current;if(e){const{left:t,top:n,right:r,bottom:i}=e.getBoundingClientRect();this.props.changeBounds({left:t,top:n,right:r,bottom:i})}}render(){return n.createElement("div",{ref:this.containerRef,className:this.props.className},this.props.children)}}class ri extends n.PureComponent{render(){return n.createElement(ni,{className:"ContextButton",changeBounds:this.props.changeBounds},n.createElement("input",{type:"number",min:"10",max:"288",value:`${this.props.fontSize}`,onChange:this.props.changeFontSize,style:{textAlign:"center",maxWidth:"36px",fontSize:"14px"}}))}}class ii extends n.Component{constructor(e){super(e),this.typeSelectRef=n.createRef(),this.changeFontSize=this.changeFontSize.bind(this)}changeFontSize(e){this.props.value.changeFontSize(parseInt(e.target.value))}render(){const e=this.props,t=e.value.style,r=e.changeMenuItem,i=e.value;return n.createElement(n.Fragment,null,n.createElement(Qr,{onClick:i.toggleFigureTypeMenu,style:t,changeBounds:r}),n.createElement("div",{className:"ContextSeparator"}),"ChangeFontSize"!==e.menu.type&&n.createElement(Zr,{onClick:i.toggleFontSizeMenu,style:t,changeBounds:r}),"ChangeFontSize"===e.menu.type&&n.createElement(ri,{changeBounds:e=>{r("ChangeFontSize",e)},changeFontSize:this.changeFontSize,fontSize:e.value.style.fontSize}),n.createElement("div",{className:"ContextSeparator"}),n.createElement(Kr,{onClick:i.toggleFontStyleMenu,style:t,changeBounds:r}),n.createElement(Jr,{onClick:i.toggleAlignmentMenu,style:t,changeBounds:r}),n.createElement("div",{className:"ContextSeparator"}),n.createElement(ei,{onClick:i.toggleTextColorMenu,style:t,changeBounds:r}),n.createElement(ti,{onClick:i.toggleTextHighligntMenu,style:t,changeBounds:r}),n.createElement("div",{className:"ContextSeparator"}),n.createElement(Vr,{onClick:i.toggleBorderStyleMenu,style:t,changeBounds:r}),n.createElement(qr,{onClick:i.toggleFigureStyleMenu,style:t,changeBounds:r}))}}function oi(e){switch(e.type){case"Selection":return n.createElement(Xr,Object.assign({},e));case"FigureEdit":return n.createElement($r,Object.assign({},e));case"FigureTextEdit":return n.createElement(ii,Object.assign({},e))}}class ai extends Yr{constructor(){super(...arguments),this.offset=60,this.className="ContextBar",this.getContext=oi,this.getBoundsToFit=Ur}}var si=r(347),li={insert:"head",singleton:!1};Mr()(si.Z,li);si.Z.locals;function ui(e){return n.createElement(n.Fragment,null,n.createElement("button",{key:"ChangeHorisontalAlignmentLeft",className:"ContextMenuButton",onClick:()=>{e.value.changeHorisontalAlignment("left")}},n.createElement(zr,{iconId:"HorisontalAlignLeft",fill:"none",stroke:"currentColor",width:24,height:24,className:"ContextMenuIcon"})),n.createElement("button",{key:"ChangeHorisontalAlignmentCenter",className:"ContextMenuButton",onClick:()=>{e.value.changeHorisontalAlignment("center")}},n.createElement(zr,{iconId:"HorisontalAlignCenter",fill:"none",stroke:"currentColor",width:24,height:24,className:"ContextMenuIcon"})),n.createElement("button",{key:"ChangeHorisontalAlignmentRight",className:"ContextMenuButton",onClick:()=>{e.value.changeHorisontalAlignment("right")}},n.createElement(zr,{iconId:"HorisontalAlignRight",fill:"none",stroke:"currentColor",width:24,height:24,className:"ContextMenuIcon"})),n.createElement("div",{className:"ContextMenuHorisontalSeparator"}),n.createElement("button",{key:"ChangeVerticalAlignmentTop",className:"ContextMenuButton",onClick:()=>{e.value.changeVerticalAlignment("top")}},n.createElement(zr,{iconId:"VerticalAlignTop",fill:"none",stroke:"currentColor",width:24,height:24,className:"ContextMenuIcon"})),n.createElement("button",{key:"ChangeVerticalAlignmentCenter",className:"ContextMenuButton",onClick:()=>{e.value.changeVerticalAlignment("center")}},n.createElement(zr,{iconId:"VerticalAlignCenter",fill:"none",stroke:"currentColor",width:24,height:24,className:"ContextMenuIcon"})),n.createElement("button",{key:"ChangeVerticalAlignmentBottom",className:"ContextMenuButton",onClick:()=>{e.value.changeVerticalAlignment("bottom")}},n.createElement(zr,{iconId:"VerticalAlignBottom",fill:"none",stroke:"currentColor",width:24,height:24,className:"ContextMenuIcon"})))}const ci=["rgb(255, 255, 255)","rgb(254, 244, 69)","rgb(250, 199, 16)","rgb(242, 71, 38)","rgb(230, 230, 230)","rgb(206, 231, 65)","rgb(143, 209, 79)","rgb(218, 0, 99)","rgb(128, 128, 128)","rgb(18, 205, 212)","rgb(12, 167, 137)","rgb(149, 16, 172)","rgb(26, 26, 26)","rgb(45, 155, 240)","rgb(65, 75, 178)","rgb(101, 44, 179)","rgb(151, 83, 83)"];function hi(e){const t=[];for(const r of ci)t.push(n.createElement("button",{key:r,className:"ContextMenuButton",onClick:()=>{e.changeColor(r)}},n.createElement(zr,{iconId:"Circle",width:30,height:30,fill:r,stroke:r,className:"ContextMenuIcon"})));return n.createElement(n.Fragment,null,t)}function di(e){return n.createElement("div",null,n.createElement("button",{key:"ChangeBorderStyleSolid",className:"ContextMenuButtonChangeBorderStyle",onClick:()=>{e.value.changeBorderStyle("solid")}},n.createElement(zr,{iconId:"LineSolid",fill:"none",stroke:"currentColor",width:24,height:24,className:"ContextMenuIcon"})),n.createElement("button",{key:"ChangeBorderStyleDashed",className:"ContextMenuButtonChangeBorderStyle",onClick:()=>{e.value.changeBorderStyle("dash")}},n.createElement(zr,{iconId:"LineDashed",fill:"none",stroke:"currentColor",width:24,height:24,className:"ContextMenuIcon"})),n.createElement("button",{key:"ChangeBorderStyleDotted",className:"ContextMenuButtonChangeBorderStyle",onClick:()=>{e.value.changeBorderStyle("dot")}},n.createElement(zr,{iconId:"LineDotted",fill:"none",stroke:"currentColor",width:24,height:24,className:"ContextMenuIcon"})),n.createElement(hi,{changeColor:e.value.changeBorderColor}))}function fi(e){return n.createElement("div",null,n.createElement(hi,{changeColor:e.value.changeBackgroundColor}))}class pi{getIntersectionPointsWithLineSegment(e){throw new Error("Method not implemented.")}getNearestEdgePointToPoint(e){throw new Error("Method not implemented.")}isInBoundsByBounds(e){throw new Error("Method not implemented.")}getBounds(){throw new Error("Method not implemented.")}isInBoundsByPoint(e){throw new Error("Method not implemented.")}}const{abs:gi,cos:mi,sin:yi,acos:vi,atan2:bi,sqrt:xi,pow:wi}=Math;function Ci(e){return e<0?-wi(-e,1/3):wi(e,1/3)}const Si=Math.PI,ki=2*Si,_i=Si/2,Ai=Number.MAX_SAFE_INTEGER||9007199254740991,Ei=Number.MIN_SAFE_INTEGER||-9007199254740991,Pi={x:0,y:0,z:0},Ti={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,t){const n=t(e);let r=n.x*n.x+n.y*n.y;return void 0!==n.z&&(r+=n.z*n.z),xi(r)},compute:function(e,t,n){if(0===e)return t[0].t=0,t[0];const r=t.length-1;if(1===e)return t[r].t=1,t[r];const i=1-e;let o=t;if(0===r)return t[0].t=e,t[0];if(1===r){const t={x:i*o[0].x+e*o[1].x,y:i*o[0].y+e*o[1].y,t:e};return n&&(t.z=i*o[0].z+e*o[1].z),t}if(r<4){let t,a,s,l=i*i,u=e*e,c=0;2===r?(o=[o[0],o[1],o[2],Pi],t=l,a=i*e*2,s=u):3===r&&(t=l*i,a=l*e*3,s=i*u*3,c=e*u);const h={x:t*o[0].x+a*o[1].x+s*o[2].x+c*o[3].x,y:t*o[0].y+a*o[1].y+s*o[2].y+c*o[3].y,t:e};return n&&(h.z=t*o[0].z+a*o[1].z+s*o[2].z+c*o[3].z),h}const a=JSON.parse(JSON.stringify(t));for(;a.length>1;){for(let t=0;t<a.length-1;t++)a[t]={x:a[t].x+(a[t+1].x-a[t].x)*e,y:a[t].y+(a[t+1].y-a[t].y)*e},void 0!==a[t].z&&(a[t]=a[t].z+(a[t+1].z-a[t].z)*e);a.splice(a.length-1,1)}return a[0].t=e,a[0]},computeWithRatios:function(e,t,n,r){const i=1-e,o=n,a=t;let s,l=o[0],u=o[1],c=o[2],h=o[3];return l*=i,u*=e,2===a.length?(s=l+u,{x:(l*a[0].x+u*a[1].x)/s,y:(l*a[0].y+u*a[1].y)/s,z:!!r&&(l*a[0].z+u*a[1].z)/s,t:e}):(l*=i,u*=2*i,c*=e*e,3===a.length?(s=l+u+c,{x:(l*a[0].x+u*a[1].x+c*a[2].x)/s,y:(l*a[0].y+u*a[1].y+c*a[2].y)/s,z:!!r&&(l*a[0].z+u*a[1].z+c*a[2].z)/s,t:e}):(l*=i,u*=1.5*i,c*=3*i,h*=e*e*e,4===a.length?(s=l+u+c+h,{x:(l*a[0].x+u*a[1].x+c*a[2].x+h*a[3].x)/s,y:(l*a[0].y+u*a[1].y+c*a[2].y+h*a[3].y)/s,z:!!r&&(l*a[0].z+u*a[1].z+c*a[2].z+h*a[3].z)/s,t:e}):void 0))},derive:function(e,t){const n=[];for(let r=e,i=r.length,o=i-1;i>1;i--,o--){const e=[];for(let n,i=0;i<o;i++)n={x:o*(r[i+1].x-r[i].x),y:o*(r[i+1].y-r[i].y)},t&&(n.z=o*(r[i+1].z-r[i].z)),e.push(n);n.push(e),r=e}return n},between:function(e,t,n){return t<=e&&e<=n||Ti.approximately(e,t)||Ti.approximately(e,n)},approximately:function(e,t,n){return gi(e-t)<=(n||1e-6)},length:function(e){const t=Ti.Tvalues.length;let n=0;for(let r,i=0;i<t;i++)r=.5*Ti.Tvalues[i]+.5,n+=Ti.Cvalues[i]*Ti.arcfn(r,e);return.5*n},map:function(e,t,n,r,i){return r+(i-r)*((e-t)/(n-t))},lerp:function(e,t,n){const r={x:t.x+e*(n.x-t.x),y:t.y+e*(n.y-t.y)};return void 0!==t.z&&void 0!==n.z&&(r.z=t.z+e*(n.z-t.z)),r},pointToString:function(e){let t=e.x+"/"+e.y;return void 0!==e.z&&(t+="/"+e.z),t},pointsToString:function(e){return"["+e.map(Ti.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,t,n){const r=t.x-e.x,i=t.y-e.y,o=n.x-e.x,a=n.y-e.y;return bi(r*a-i*o,r*o+i*a)},round:function(e,t){const n=""+e,r=n.indexOf(".");return parseFloat(n.substring(0,r+1+t))},dist:function(e,t){const n=e.x-t.x,r=e.y-t.y;return xi(n*n+r*r)},closest:function(e,t){let n,r,i=wi(2,63);return e.forEach((function(e,o){r=Ti.dist(t,e),r<i&&(i=r,n=o)})),{mdist:i,mpos:n}},abcratio:function(e,t){if(2!==t&&3!==t)return!1;if(void 0===e)e=.5;else if(0===e||1===e)return e;const n=wi(e,t)+wi(1-e,t);return gi((n-1)/n)},projectionratio:function(e,t){if(2!==t&&3!==t)return!1;if(void 0===e)e=.5;else if(0===e||1===e)return e;const n=wi(1-e,t);return n/(wi(e,t)+n)},lli8:function(e,t,n,r,i,o,a,s){const l=(e-n)*(o-s)-(t-r)*(i-a);return 0!=l&&{x:((e*r-t*n)*(i-a)-(e-n)*(i*s-o*a))/l,y:((e*r-t*n)*(o-s)-(t-r)*(i*s-o*a))/l}},lli4:function(e,t,n,r){const i=e.x,o=e.y,a=t.x,s=t.y,l=n.x,u=n.y,c=r.x,h=r.y;return Ti.lli8(i,o,a,s,l,u,c,h)},lli:function(e,t){return Ti.lli4(e,e.c,t,t.c)},makeline:function(e,t){const n=e.x,r=e.y,i=t.x,o=t.y,a=(i-n)/3,s=(o-r)/3;return new Fi(n,r,n+a,r+s,n+2*a,r+2*s,i,o)},findbbox:function(e){let t=Ai,n=Ai,r=Ei,i=Ei;return e.forEach((function(e){const o=e.bbox();t>o.x.min&&(t=o.x.min),n>o.y.min&&(n=o.y.min),r<o.x.max&&(r=o.x.max),i<o.y.max&&(i=o.y.max)})),{x:{min:t,mid:(t+r)/2,max:r,size:r-t},y:{min:n,mid:(n+i)/2,max:i,size:i-n}}},shapeintersections:function(e,t,n,r,i){if(!Ti.bboxoverlap(t,r))return[];const o=[],a=[e.startcap,e.forward,e.back,e.endcap],s=[n.startcap,n.forward,n.back,n.endcap];return a.forEach((function(t){t.virtual||s.forEach((function(r){if(r.virtual)return;const a=t.intersects(r,i);a.length>0&&(a.c1=t,a.c2=r,a.s1=e,a.s2=n,o.push(a))}))})),o},makeshape:function(e,t,n){const r=t.points.length,i=e.points.length,o=Ti.makeline(t.points[r-1],e.points[0]),a=Ti.makeline(e.points[i-1],t.points[0]),s={startcap:o,forward:e,back:t,endcap:a,bbox:Ti.findbbox([o,e,t,a]),intersections:function(e){return Ti.shapeintersections(s,s.bbox,e,e.bbox,n)}};return s},getminmax:function(e,t,n){if(!n)return{min:0,max:0};let r,i,o=Ai,a=Ei;-1===n.indexOf(0)&&(n=[0].concat(n)),-1===n.indexOf(1)&&n.push(1);for(let s=0,l=n.length;s<l;s++)r=n[s],i=e.get(r),i[t]<o&&(o=i[t]),i[t]>a&&(a=i[t]);return{min:o,mid:(o+a)/2,max:a,size:a-o}},align:function(e,t){const n=t.p1.x,r=t.p1.y,i=-bi(t.p2.y-r,t.p2.x-n);return e.map((function(e){return{x:(e.x-n)*mi(i)-(e.y-r)*yi(i),y:(e.x-n)*yi(i)+(e.y-r)*mi(i)}}))},roots:function(e,t){t=t||{p1:{x:0,y:0},p2:{x:1,y:0}};const n=e.length-1,r=Ti.align(e,t),i=function(e){return 0<=e&&e<=1};if(2===n){const e=r[0].y,t=r[1].y,n=r[2].y,o=e-2*t+n;if(0!==o){const r=-xi(t*t-e*n),a=-e+t;return[-(r+a)/o,-(-r+a)/o].filter(i)}return t!==n&&0===o?[(2*t-n)/(2*t-2*n)].filter(i):[]}const o=r[0].y,a=r[1].y,s=r[2].y;let l=3*a-o-3*s+r[3].y,u=3*o-6*a+3*s,c=-3*o+3*a,h=o;if(Ti.approximately(l,0)){if(Ti.approximately(u,0))return Ti.approximately(c,0)?[]:[-h/c].filter(i);const e=xi(c*c-4*u*h),t=2*u;return[(e-c)/t,(-c-e)/t].filter(i)}u/=l,c/=l,h/=l;const d=(3*c-u*u)/3,f=d/3,p=(2*u*u*u-9*u*c+27*h)/27,g=p/2,m=g*g+f*f*f;let y,v,b,x,w;if(m<0){const e=-d/3,t=xi(e*e*e),n=-p/(2*t),r=vi(n<-1?-1:n>1?1:n),o=2*Ci(t);return b=o*mi(r/3)-u/3,x=o*mi((r+ki)/3)-u/3,w=o*mi((r+2*ki)/3)-u/3,[b,x,w].filter(i)}if(0===m)return y=g<0?Ci(-g):-Ci(g),b=2*y-u/3,x=-y-u/3,[b,x].filter(i);{const e=xi(m);return y=Ci(-g+e),v=Ci(g+e),[y-v-u/3].filter(i)}},droots:function(e){if(3===e.length){const t=e[0],n=e[1],r=e[2],i=t-2*n+r;if(0!==i){const e=-xi(n*n-t*r),o=-t+n;return[-(e+o)/i,-(-e+o)/i]}return n!==r&&0===i?[(2*n-r)/(2*(n-r))]:[]}if(2===e.length){const t=e[0],n=e[1];return t!==n?[t/(t-n)]:[]}return[]},curvature:function(e,t,n,r,i){let o,a,s,l,u=0,c=0;const h=Ti.compute(e,t),d=Ti.compute(e,n),f=h.x*h.x+h.y*h.y;if(r?(o=xi(wi(h.y*d.z-d.y*h.z,2)+wi(h.z*d.x-d.z*h.x,2)+wi(h.x*d.y-d.x*h.y,2)),a=wi(f+h.z*h.z,1.5)):(o=h.x*d.y-h.y*d.x,a=wi(f,1.5)),0===o||0===a)return{k:0,r:0};if(u=o/a,c=a/o,!i){const i=Ti.curvature(e-.001,t,n,r,!0).k,o=Ti.curvature(e+.001,t,n,r,!0).k;l=(o-u+(u-i))/2,s=(gi(o-u)+gi(u-i))/2}return{k:u,r:c,dk:l,adk:s}},inflections:function(e){if(e.length<4)return[];const t=Ti.align(e,{p1:e[0],p2:e.slice(-1)[0]}),n=t[2].x*t[1].y,r=t[3].x*t[1].y,i=t[1].x*t[2].y,o=18*(-3*n+2*r+3*i-t[3].x*t[2].y),a=18*(3*n-r-3*i),s=18*(i-n);if(Ti.approximately(o,0)){if(!Ti.approximately(a,0)){let e=-s/a;if(0<=e&&e<=1)return[e]}return[]}const l=a*a-4*o*s,u=Math.sqrt(l),c=2*o;return Ti.approximately(c,0)?[]:[(u-a)/c,-(a+u)/c].filter((function(e){return 0<=e&&e<=1}))},bboxoverlap:function(e,t){const n=["x","y"],r=n.length;for(let i,o,a,s,l=0;l<r;l++)if(i=n[l],o=e[i].mid,a=t[i].mid,s=(e[i].size+t[i].size)/2,gi(o-a)>=s)return!1;return!0},expandbox:function(e,t){t.x.min<e.x.min&&(e.x.min=t.x.min),t.y.min<e.y.min&&(e.y.min=t.y.min),t.z&&t.z.min<e.z.min&&(e.z.min=t.z.min),t.x.max>e.x.max&&(e.x.max=t.x.max),t.y.max>e.y.max&&(e.y.max=t.y.max),t.z&&t.z.max>e.z.max&&(e.z.max=t.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,t,n){const r=e.bbox(),i=t.bbox(),o=1e5,a=n||.5;if(r.x.size+r.y.size<a&&i.x.size+i.y.size<a)return[(o*(e._t1+e._t2)/2|0)/o+"/"+(o*(t._t1+t._t2)/2|0)/o];let s=e.split(.5),l=t.split(.5),u=[{left:s.left,right:l.left},{left:s.left,right:l.right},{left:s.right,right:l.right},{left:s.right,right:l.left}];u=u.filter((function(e){return Ti.bboxoverlap(e.left.bbox(),e.right.bbox())}));let c=[];return 0===u.length||(u.forEach((function(e){c=c.concat(Ti.pairiteration(e.left,e.right,a))})),c=c.filter((function(e,t){return c.indexOf(e)===t}))),c},getccenter:function(e,t,n){const r=t.x-e.x,i=t.y-e.y,o=n.x-t.x,a=n.y-t.y,s=r*mi(_i)-i*yi(_i),l=r*yi(_i)+i*mi(_i),u=o*mi(_i)-a*yi(_i),c=o*yi(_i)+a*mi(_i),h=(e.x+t.x)/2,d=(e.y+t.y)/2,f=(t.x+n.x)/2,p=(t.y+n.y)/2,g=h+s,m=d+l,y=f+u,v=p+c,b=Ti.lli8(h,d,g,m,f,p,y,v),x=Ti.dist(b,e);let w,C=bi(e.y-b.y,e.x-b.x),S=bi(t.y-b.y,t.x-b.x),k=bi(n.y-b.y,n.x-b.x);return C<k?((C>S||S>k)&&(C+=ki),C>k&&(w=k,k=C,C=w)):k<S&&S<C?(w=k,k=C,C=w):k+=ki,b.s=C,b.e=k,b.r=x,b},numberSort:function(e,t){return e-t}};class Mi{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map((function(e){return Ti.pointsToString(e.points)})).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map((function(e){return e.length()})).reduce((function(e,t){return e+t}))}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var t=e[0].bbox(),n=1;n<e.length;n++)Ti.expandbox(t,e[n].bbox());return t}offset(e){const t=[];return this.curves.forEach((function(n){t.push(...n.offset(e))})),new Mi(t)}}const{abs:Bi,min:Oi,max:Li,cos:zi,sin:Ii,acos:Ri,sqrt:Ni}=Math,Di=Math.PI;class Fi{constructor(e){let t=e&&e.forEach?e:Array.from(arguments).slice(),n=!1;if("object"==typeof t[0]){n=t.length;const e=[];t.forEach((function(t){["x","y","z"].forEach((function(n){void 0!==t[n]&&e.push(t[n])}))})),t=e}let r=!1;const i=t.length;if(n){if(n>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");r=!0}}else if(6!==i&&8!==i&&9!==i&&12!==i&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const o=this._3d=!r&&(9===i||12===i)||e&&e[0]&&void 0!==e[0].z,a=this.points=[];for(let e=0,n=o?3:2;e<i;e+=n){var s={x:t[e],y:t[e+1]};o&&(s.z=t[e+2]),a.push(s)}const l=this.order=a.length-1,u=this.dims=["x","y"];o&&u.push("z"),this.dimlen=u.length;const c=Ti.align(a,{p1:a[0],p2:a[l]});this._linear=!c.some((e=>Bi(e.y)>1e-4)),this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,t,n,r){if(void 0===r&&(r=.5),0===r)return new Fi(t,t,n);if(1===r)return new Fi(e,t,t);const i=Fi.getABC(2,e,t,n,r);return new Fi(e,i.A,n)}static cubicFromPoints(e,t,n,r,i){void 0===r&&(r=.5);const o=Fi.getABC(3,e,t,n,r);void 0===i&&(i=Ti.dist(t,o.C));const a=i*(1-r)/r,s=Ti.dist(e,n),l=(n.x-e.x)/s,u=(n.y-e.y)/s,c=i*l,h=i*u,d=a*l,f=a*u,p=t.x-c,g=t.y-h,m=t.x+d,y=t.y+f,v=o.A,b=v.x+(p-v.x)/(1-r),x=v.y+(g-v.y)/(1-r),w=v.x+(m-v.x)/r,C=v.y+(y-v.y)/r,S={x:e.x+(b-e.x)/r,y:e.y+(x-e.y)/r},k={x:n.x+(w-n.x)/(1-r),y:n.y+(C-n.y)/(1-r)};return new Fi(e,S,k,n)}static getUtils(){return Ti}getUtils(){return Fi.getUtils()}static get PolyBezier(){return Mi}valueOf(){return this.toString()}toString(){return Ti.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,t=["M",e[0].x,e[0].y,2===this.order?"Q":"C"];for(let n=1,r=e.length;n<r;n++)t.push(e[n].x),t.push(e[n].y);return t.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map((function(e,t){return""+t+e.x+e.y+(e.z?e.z:0)})).join("")}update(){this._lut=[],this.dpoints=Ti.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,t=Ti.angle(e[0],e[this.order],e[1]);this.clockwise=t>0}length(){return Ti.length(this.derivative.bind(this))}static getABC(e=2,t,n,r,i=.5){const o=Ti.projectionratio(i,e),a=1-o,s={x:o*t.x+a*r.x,y:o*t.y+a*r.y},l=Ti.abcratio(i,e);return{A:{x:n.x+(n.x-s.x)/l,y:n.y+(n.y-s.y)/l},B:n,C:s,S:t,E:r}}getABC(e,t){t=t||this.get(e);let n=this.points[0],r=this.points[this.order];return Fi.getABC(this.order,n,t,r,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e)return this._lut;this._lut=[],e--;for(let t,n,r=0;r<e;r++)n=r/(e-1),t=this.compute(n),t.t=n,this._lut.push(t);return this._lut}on(e,n){n=n||5;const r=this.getLUT(),i=[];for(let t,o=0,a=0;o<r.length;o++)t=r[o],Ti.dist(t,e)<n&&(i.push(t),a+=o/r.length);return!!i.length&&(t/=i.length)}project(e){const t=this.getLUT(),n=t.length-1,r=Ti.closest(t,e),i=r.mpos,o=(i-1)/n,a=(i+1)/n,s=.1/n;let l,u,c=r.mdist,h=o,d=h;for(c+=1;h<a+s;h+=s)l=this.compute(h),u=Ti.dist(e,l),u<c&&(c=u,d=h);return d=d<0?0:d>1?1:d,l=this.compute(d),l.t=d,l.d=c,l}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?Ti.computeWithRatios(e,this.points,this.ratios,this._3d):Ti.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,t=[e[0]],n=e.length;for(let r,i,o=1;o<n;o++)r=e[o],i=e[o-1],t[o]={x:(n-o)/n*r.x+o/n*i.x,y:(n-o)/n*r.y+o/n*i.y};return t[n]=e[n-1],new Fi(t)}derivative(e){return Ti.compute(e,this.dpoints[0],this._3d)}dderivative(e){return Ti.compute(e,this.dpoints[1],this._3d)}align(){let e=this.points;return new Fi(Ti.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return Ti.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return Ti.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const t=this.derivative(e),n=Ni(t.x*t.x+t.y*t.y);return{x:-t.y/n,y:t.x/n}}__normal3(e){const t=this.derivative(e),n=this.derivative(e+.01),r=Ni(t.x*t.x+t.y*t.y+t.z*t.z),i=Ni(n.x*n.x+n.y*n.y+n.z*n.z);t.x/=r,t.y/=r,t.z/=r,n.x/=i,n.y/=i,n.z/=i;const o={x:n.y*t.z-n.z*t.y,y:n.z*t.x-n.x*t.z,z:n.x*t.y-n.y*t.x},a=Ni(o.x*o.x+o.y*o.y+o.z*o.z);o.x/=a,o.y/=a,o.z/=a;const s=[o.x*o.x,o.x*o.y-o.z,o.x*o.z+o.y,o.x*o.y+o.z,o.y*o.y,o.y*o.z-o.x,o.x*o.z-o.y,o.y*o.z+o.x,o.z*o.z];return{x:s[0]*t.x+s[1]*t.y+s[2]*t.z,y:s[3]*t.x+s[4]*t.y+s[5]*t.z,z:s[6]*t.x+s[7]*t.y+s[8]*t.z}}hull(e){let t=this.points,n=[],r=[],i=0;for(r[i++]=t[0],r[i++]=t[1],r[i++]=t[2],3===this.order&&(r[i++]=t[3]);t.length>1;){n=[];for(let o,a=0,s=t.length-1;a<s;a++)o=Ti.lerp(e,t[a],t[a+1]),r[i++]=o,n.push(o);t=n}return r}split(e,t){if(0===e&&t)return this.split(t).left;if(1===t)return this.split(e).right;const n=this.hull(e),r={left:2===this.order?new Fi([n[0],n[3],n[5]]):new Fi([n[0],n[4],n[7],n[9]]),right:2===this.order?new Fi([n[5],n[4],n[2]]):new Fi([n[9],n[8],n[6],n[3]]),span:n};return r.left._t1=Ti.map(0,0,1,this._t1,this._t2),r.left._t2=Ti.map(e,0,1,this._t1,this._t2),r.right._t1=Ti.map(e,0,1,this._t1,this._t2),r.right._t2=Ti.map(1,0,1,this._t1,this._t2),t?(t=Ti.map(t,e,1,0,1),r.right.split(t).left):r}extrema(){const e={};let t=[];return this.dims.forEach(function(n){let r=function(e){return e[n]},i=this.dpoints[0].map(r);e[n]=Ti.droots(i),3===this.order&&(i=this.dpoints[1].map(r),e[n]=e[n].concat(Ti.droots(i))),e[n]=e[n].filter((function(e){return e>=0&&e<=1})),t=t.concat(e[n].sort(Ti.numberSort))}.bind(this)),e.values=t.sort(Ti.numberSort).filter((function(e,n){return t.indexOf(e)===n})),e}bbox(){const e=this.extrema(),t={};return this.dims.forEach(function(n){t[n]=Ti.getminmax(this,n,e[n])}.bind(this)),t}overlaps(e){const t=this.bbox(),n=e.bbox();return Ti.bboxoverlap(t,n)}offset(e,t){if(void 0!==t){const n=this.get(e),r=this.normal(e),i={c:n,n:r,x:n.x+r.x*t,y:n.y+r.y*t};return this._3d&&(i.z=n.z+r.z*t),i}if(this._linear){const t=this.normal(0),n=this.points.map((function(n){const r={x:n.x+e*t.x,y:n.y+e*t.y};return n.z&&t.z&&(r.z=n.z+e*t.z),r}));return[new Fi(n)]}return this.reduce().map((function(t){return t._linear?t.offset(e)[0]:t.scale(e)}))}simple(){if(3===this.order){const e=Ti.angle(this.points[0],this.points[3],this.points[1]),t=Ti.angle(this.points[0],this.points[3],this.points[2]);if(e>0&&t<0||e<0&&t>0)return!1}const e=this.normal(0),t=this.normal(1);let n=e.x*t.x+e.y*t.y;return this._3d&&(n+=e.z*t.z),Bi(Ri(n))<Di/3}reduce(){let e,t,n=0,r=0,i=.01,o=[],a=[],s=this.extrema().values;for(-1===s.indexOf(0)&&(s=[0].concat(s)),-1===s.indexOf(1)&&s.push(1),n=s[0],e=1;e<s.length;e++)r=s[e],t=this.split(n,r),t._t1=n,t._t2=r,o.push(t),n=r;return o.forEach((function(e){for(n=0,r=0;r<=1;)for(r=n+i;r<=1.01;r+=i)if(t=e.split(n,r),!t.simple()){if(r-=i,Bi(n-r)<i)return[];t=e.split(n,r),t._t1=Ti.map(n,0,1,e._t1,e._t2),t._t2=Ti.map(r,0,1,e._t1,e._t2),a.push(t),n=r;break}n<1&&(t=e.split(n,1),t._t1=Ti.map(n,0,1,e._t1,e._t2),t._t2=e._t2,a.push(t))})),a}scale(e){const t=this.order;let n=!1;if("function"==typeof e&&(n=e),n&&2===t)return this.raise().scale(n);const r=this.clockwise,i=n?n(0):e,o=n?n(1):e,a=[this.offset(0,10),this.offset(1,10)],s=this.points,l=[],u=Ti.lli4(a[0],a[0].c,a[1],a[1].c);if(!u)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach((function(e){const n=l[e*t]=Ti.copy(s[e*t]);n.x+=(e?o:i)*a[e].n.x,n.y+=(e?o:i)*a[e].n.y})),n?([0,1].forEach((function(i){if(2!==t||!i){var o=s[i+1],a={x:o.x-u.x,y:o.y-u.y},c=n?n((i+1)/t):e;n&&!r&&(c=-c);var h=Ni(a.x*a.x+a.y*a.y);a.x/=h,a.y/=h,l[i+1]={x:o.x+c*a.x,y:o.y+c*a.y}}})),new Fi(l)):([0,1].forEach((e=>{if(2===t&&e)return;const n=l[e*t],r=this.derivative(e),i={x:n.x+r.x,y:n.y+r.y};l[e+1]=Ti.lli4(n,i,u,s[e+1])})),new Fi(l))}outline(e,t,n,r){t=void 0===t?e:t;const i=this.reduce(),o=i.length,a=[];let s,l=[],u=0,c=this.length();const h=void 0!==n&&void 0!==r;function d(e,t,n,r,i){return function(o){const a=r/n,s=(r+i)/n,l=t-e;return Ti.map(o,0,1,e+a*l,e+s*l)}}i.forEach((function(i){const o=i.length();h?(a.push(i.scale(d(e,n,c,u,o))),l.push(i.scale(d(-t,-r,c,u,o)))):(a.push(i.scale(e)),l.push(i.scale(-t))),u+=o})),l=l.map((function(e){return s=e.points,s[3]?e.points=[s[3],s[2],s[1],s[0]]:e.points=[s[2],s[1],s[0]],e})).reverse();const f=a[0].points[0],p=a[o-1].points[a[o-1].points.length-1],g=l[o-1].points[l[o-1].points.length-1],m=l[0].points[0],y=Ti.makeline(g,f),v=Ti.makeline(p,m),b=[y].concat(a).concat([v]).concat(l);b.length;return new Mi(b)}outlineshapes(e,t,n){t=t||e;const r=this.outline(e,t).curves,i=[];for(let e=1,t=r.length;e<t/2;e++){const o=Ti.makeshape(r[e],r[t-e],n);o.startcap.virtual=e>1,o.endcap.virtual=e<t/2-1,i.push(o)}return i}intersects(e,t){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof Fi&&(e=e.reduce()),this.curveintersects(this.reduce(),e,t)):this.selfintersects(t)}lineIntersects(e){const t=Oi(e.p1.x,e.p2.x),n=Oi(e.p1.y,e.p2.y),r=Li(e.p1.x,e.p2.x),i=Li(e.p1.y,e.p2.y);return Ti.roots(this.points,e).filter((e=>{var o=this.get(e);return Ti.between(o.x,t,r)&&Ti.between(o.y,n,i)}))}selfintersects(e){const t=this.reduce(),n=t.length-2,r=[];for(let i,o,a,s=0;s<n;s++)o=t.slice(s,s+1),a=t.slice(s+2),i=this.curveintersects(o,a,e),r.push(...i);return r}curveintersects(e,t,n){const r=[];e.forEach((function(e){t.forEach((function(t){e.overlaps(t)&&r.push({left:e,right:t})}))}));let i=[];return r.forEach((function(e){const t=Ti.pairiteration(e.left,e.right,n);t.length>0&&(i=i.concat(t))})),i}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,t,n,r){const i=(r-n)/4,o=this.get(n+i),a=this.get(r-i),s=Ti.dist(e,t),l=Ti.dist(e,o),u=Ti.dist(e,a);return Bi(l-s)+Bi(u-s)}_iterate(e,t){let n,r=0,i=1;do{n=0,i=1;let o,a,s,l,u,c=this.get(r),h=!1,d=!1,f=i,p=1,g=0;do{if(d=h,l=s,f=(r+i)/2,g++,o=this.get(f),a=this.get(i),s=Ti.getccenter(c,o,a),s.interval={start:r,end:i},h=this._error(s,c,r,i)<=e,u=d&&!h,u||(p=i),h){if(i>=1){if(s.interval.end=p=1,l=s,i>1){let e={x:s.x+s.r*zi(s.e),y:s.y+s.r*Ii(s.e)};s.e+=Ti.angle({x:s.x,y:s.y},e,this.get(1))}break}i+=(i-r)/2}else i=f}while(!u&&n++<100);if(n>=100)break;l=l||s,t.push(l),r=p}while(i<1);return t}}function ji(e,t){return e.left>t.left&&e.top>t.top&&e.right<t.right&&e.bottom<t.bottom}class Gi{constructor(e){const{start:t,startControl:n,end:r,endControl:i}=e;this.curve=new Fi(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)}getIntersectionPointsWithLineSegment(e){const t=this.curve.intersects({p1:e.start,p2:e.end}),n=[];for(const e of t){const{x:t,y:r}=this.curve.get(e);n.push({x:t,y:r})}return n}getNearestEdgePointToPoint(e){const t=this.curve.project(e),{x:n,y:r}=t;return{x:n,y:r}}getIntersectionCurveRectangle(e){let t=[];for(const n of pr(e))t=t.concat(this.getIntersectionPointsWithLineSegment(n));return t}getBounds(){const{x:e,y:t}=this.curve.bbox();return{left:e.min,top:t.min,right:e.max,bottom:t.max}}isInBoundsByPoint(e){const t=ji(this.getBounds(),e),n=this.getIntersectionCurveRectangle(e).length>0;return t||n}}function Wi(e){const{start:t,end:n}=e;return{left:Math.min(t.x,n.x),top:Math.min(t.y,n.y),right:Math.max(t.x,n.x),bottom:Math.max(t.y,n.y)}}function Hi(e,t){const n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}function Ui(e,t){const n=Hi(t.end,t.start);return 0===n?0:((e.x-t.start.x)*(t.end.x-t.start.x)+(e.y-t.start.y)*(t.end.y-t.start.y))/(n*n)}function Yi(e,t){return{x:e.start.x+t*(e.end.x-e.start.x),y:e.start.y+t*(e.end.y-e.start.y)}}function Xi(e,t){let n=(t.end.y-t.start.y)*(e.end.x-e.start.x)-(t.end.x-t.start.x)*(e.end.y-e.start.y);n!==1/0&&n!==-1/0||(n=Number.MAX_VALUE);let r=(t.end.x-t.start.x)*(e.start.y-t.start.y)-(t.end.y-t.start.y)*(e.start.x-t.start.x);r!==1/0&&r!==-1/0||(r=Number.MAX_VALUE);let i=(e.end.x-e.start.x)*(e.start.y-t.start.y)-(e.end.y-e.start.y)*(e.start.x-t.start.x);i!==1/0&&i!==-1/0||(i=Number.MAX_VALUE);let o="NonIntersecting";if(0===n&&0===r&&0===i)o="Colenear";else if(0===n)o="Parallel";else{const e=r/n,t=i/n;e>=0&&e<=1&&t>=0&&t<=1&&(o="Intersecting")}return{lineA:e,lineB:t,parameterA:r,parameterB:i,denominator:n,type:o}}function Vi(e){const{parameterA:t,denominator:n,lineA:r}=e,i=t/n;return{x:r.start.x+i*(r.end.x-r.start.x),y:r.start.y+i*(r.end.y-r.start.y)}}class qi{constructor(e){this.line=e}getIntersectionPointsWithLineSegment(e){const t=Xi(e,this.line);return"Intersecting"===t.type?[Vi(t)]:[]}getNearestEdgePointToPoint(e){return function(e,t){return Yi(t,Ui(e,t))}(e,this.line)}getBounds(){return Wi(this.line)}isInBoundsByPoint(e){for(const t of pr(e))if("Intersecting"===Xi(t,this.line).type)return!0;return ji(this.getBounds(),e)}}const Qi=["Rectangle","Triangle","Circle","ArrowLeft","ArrowLeftRight","ArrowRight","BracesLeft","BracesRight","Cloud","Cross","Hexagon","Octagon","Parallelogram","Pentagon","Rhombus","RoundedRectangle","SpeachBubble","Star","Trapezoid"];function $i(e,t){return function(){e(t)}}function Zi(e){const t=e.value.changeType,r=[];let i;for(let e=0;e<Qi.length;e++)i=Qi[e],0!==e&&e%3==0&&r.push(n.createElement("br",{key:`${e}`})),r.push(n.createElement("button",{key:i,className:"ContextMenuButton",onClick:$i(t,i)},n.createElement(zr,{iconId:i,fill:"none",stroke:"currentColor",width:24,height:24,className:"ContextMenuIcon"})));return n.createElement("div",null,r)}const Ki=[10,12,14,18,24,36,48,64,80,144,288];function Ji(e,t){return function(){e(t)}}function eo(e){const t=e.value.changeFontSize,r=[];let i;for(let e=0;e<Ki.length;e++)i=Ki[e],r.push(n.createElement("button",{key:`button${e}`,className:"ContextMenuButton",onClick:Ji(t,i)},i)),r.push(n.createElement("br",{key:`br${e}`}));return n.createElement("div",null,r)}function to(e){return n.createElement("div",null,n.createElement("button",{key:"ChangeFontBold",className:"ContextMenuButton",onClick:()=>{e.value.changeFontStyle(["bold"])}},n.createElement(zr,{iconId:"Bold",fill:"none",stroke:"currentColor",width:24,height:24,className:"ContextMenuIcon"})),n.createElement("button",{key:"ChangeFontItalics",className:"ContextMenuButton",onClick:()=>{e.value.changeFontStyle(["italics"])}},n.createElement(zr,{iconId:"Italics",fill:"none",stroke:"currentColor",width:24,height:24,className:"ContextMenuIcon"})),n.createElement("button",{key:"ChangeFontUnderline",className:"ContextMenuButton",onClick:()=>{e.value.changeFontStyle(["underline"])}},n.createElement(zr,{iconId:"Underline",fill:"none",stroke:"currentColor",width:24,height:24,className:"ContextMenuIcon"})),n.createElement("button",{key:"ChangeFontStrikethrough",className:"ContextMenuButton",onClick:()=>{e.value.changeFontStyle(["strikethrough"])}},n.createElement(zr,{iconId:"Strikethrough",fill:"none",stroke:"currentColor",width:24,height:24,className:"ContextMenuIcon"})))}function no(e){return n.createElement("div",null,n.createElement(hi,{changeColor:e.value.changeTextColor}))}function ro(e){return n.createElement("div",null,n.createElement(hi,{changeColor:e.value.changeTextHighlight}))}function io(e,t,n,r){const i=dr(n),o=hr(n),a=fr(e),s={left:0,top:0,right:0,bottom:0};return s.top=r.bottom+1,s.bottom=s.top+i,s.bottom>t.bottom&&(s.bottom=r.top-1,s.top=s.bottom-i),s.left=a.x-o/2,s.right=s.left+o,s.left<r.left?(s.left=r.left,s.right=s.left+o):s.right>t.right&&(s.right=t.right,s.left=t.right-o),s}class oo extends n.Component{constructor(){super(...arguments),this.menuRef=n.createRef()}changeBounds(){const e=this.menuRef.current;if(e){const{button:t,view:n,panel:r}=this.props,i=io(t,n,e.getBoundingClientRect(),r);this.props.changeBounds(i);const{left:o,top:a}=i;e.style.left=`${o}px`,e.style.top=`${a}px`}}componentDidMount(){this.changeBounds()}componentDidUpdate(){this.changeBounds()}render(){const{button:e,view:t,menu:r,panel:i}=this.props,{left:o,top:a}=io(e,t,r,i);return n.createElement("div",{ref:this.menuRef,style:{position:"absolute",zIndex:90,left:`${o}px`,top:`${a}px`},className:"ChangeFontSize"===this.props.type?"ContextMenuChangeFontSize":"ChangeFontStyle"===this.props.type?"ContextMenuChangeFontStyle":"ChangeFigureType"===this.props.type?"ContextMenuChangeFigureType":"ChangeAlignment"===this.props.type?"ContextMenuChangeAlignment":"ContextMenuBar"},function(e){switch(e.type){case"ChangeAlignment":return n.createElement(ui,Object.assign({},e));case"ChangeBorderStyle":return n.createElement(di,Object.assign({},e));case"ChangeFigureStyle":return n.createElement(fi,Object.assign({},e));case"ChangeFigureType":return n.createElement(Zi,Object.assign({},e));case"ChangeFontSize":return n.createElement(eo,Object.assign({},e));case"ChangeFontStyle":return n.createElement(to,Object.assign({},e));case"ChangeTextColor":return n.createElement(no,Object.assign({},e));case"ChangeTextHighlight":return n.createElement(ro,Object.assign({},e))}}(this.props))}}var ao=r(785),so={insert:"head",singleton:!1};Mr()(ao.Z,so);ao.Z.locals;function lo(e,t){return function(){e(t)}}function uo(e){const t=e.value.changeType,r=[];let i;for(let e=0;e<Qi.length;e++)i=Qi[e],r.push(n.createElement("div",{key:i,className:"ToolsMenuButton",onClick:lo(t,i)},n.createElement(zr,{iconId:i,fill:"none",stroke:"currentColor",width:24,height:24,className:"ToolsMenuIcon"})));return n.createElement(n.Fragment,null,r)}function co(e){switch(e.type){case"AddFigure":return n.createElement(uo,Object.assign({},e));case"AddConnection":return n.createElement("div",null)}}function ho(e,t,n,r){const i=e.left-t.left,o=t.right-e.right,a=dr(n),s=hr(n),l=fr(e),u={left:0,top:0,right:0,bottom:0};return i>o-s?(u.left=e.left-r-s,u.left<t.left&&(u.left=t.left+r)):(u.left=e.right+r,u.left+s>t.right&&(u.left=t.right-(s+r))),u.right=u.left+s,u.top=l.y-a/2,u.bottom=u.top+a,u.top<t.top+r?(u.top=t.top+r,u.bottom=u.top+a):u.bottom+r>t.bottom&&(u.bottom=t.bottom-r,u.top=t.bottom-(r+a)),u}class fo extends Yr{constructor(){super(...arguments),this.offset=4,this.className="ToolsMenuBar",this.getContext=co,this.getBoundsToFit=ho}}function po(e){return class extends n.Component{constructor(e){super(e),this.presenter=e}render(){return n.createElement(e,Object.assign({},this.presenter))}componentDidMount(){this.props.renderer.bind((e=>{this.presenter=e,this.forceUpdate()}))}componentWillUnmount(){this.props.renderer.unbind()}}}const go=po(Pr),mo=po((function(e){return n.createElement(n.Fragment,null,n.createElement(Dr,Object.assign({},e.toolsPanel)),e.toolsPanelMenu.isOn&&n.createElement(fo,Object.assign({},e.toolsPanelMenu)),n.createElement(Gr,Object.assign({},e.zoomPanel)),e.contextPanel.isOn&&n.createElement(ai,Object.assign({},e.contextPanel)),e.contextPanelMenu.isOn&&n.createElement(oo,Object.assign({},e.contextPanelMenu)))}));class yo extends n.Component{constructor(){super(...arguments),this.containerRef=n.createRef()}componentDidMount(){const e=this.containerRef.current;if(e){const{wheel:t,resize:n,contextmenu:r,pointermove:i,keydown:o,keyup:a}=this.props.container;window.addEventListener("wheel",t.listener,t.options),window.addEventListener("resize",n.listener,n.options),e.addEventListener("contextmenu",r.listener,r.options),e.addEventListener("pointermove",i.listener,r.options),window.addEventListener("keydown",o.listener,o.options),window.addEventListener("keyup",a.listener,a.options)}}componentWillUnmount(){const e=this.containerRef.current;if(e){const{wheel:t,resize:n,contextmenu:r,pointermove:i,keydown:o,keyup:a}=this.props.container;window.removeEventListener("wheel",t.listener),window.removeEventListener("resize",n.listener),e.removeEventListener("contextmenu",r.listener),e.removeEventListener("pointermove",i.listener),window.removeEventListener("keydown",o.listener),window.removeEventListener("keyup",a.listener)}}render(){return n.createElement("div",{ref:this.containerRef},n.createElement(go,Object.assign({},this.props.canvas)),n.createElement(mo,Object.assign({},this.props.overlays)))}}function vo(e){return"number"==typeof e&&isFinite(e)}function bo(e){return vo(e)?e:0}function xo(e){return{x:bo(e.pageX),y:bo(e.pageY)}}function wo(e){switch(e.button){case 0:return"left";case 1:return"middle";case 2:return"right";default:return"none"}}function Co(e,t){const n=(r=e.pointer.buttons,i=e.pointer.point.original,function(e){switch(i.change(xo(e)),wo(e)){case"left":r.left.down.change(void 0);break;case"right":r.right.down.change(void 0);break;case"middle":r.middle.down.change(void 0)}});var r,i;const o=function(e){return function(t){switch(wo(t)){case"left":e.left.up.change(void 0);break;case"right":e.right.up.change(void 0);break;case"middle":e.middle.up.change(void 0)}}}(e.pointer.buttons),a=function(e){return function(t){switch(wo(t)){case"left":e.left.double.change(void 0);break;case"right":e.right.double.change(void 0);break;case"middle":e.middle.double.change(void 0)}}}(e.pointer.buttons);return function(){const r=e.view.original.get(),{scale:i,position:s}=e.transformation.get(),l=e.index.getAllInBoundsByPointQuick(e.view.transformed.get()),u=[];for(const e of l)u.push(e.data);return{width:hr(r),height:dr(r),figures:u,pointerdown:{listener:n,options:{}},pointerup:{listener:o,options:{}},click:{listener:a,options:{}},scale:i.x,position:s,cursor:"default",addFigureBounds:{boardScale:e.transformation.get().scale.x,isOn:e.addFigure.isOn.get(),bounds:e.addFigure.bounds.get(),figureStyle:e.figure.style.get()},selectBounds:{boardScale:e.transformation.get().scale.x,isOn:e.select.isOn.get(),bounds:e.select.bounds.get(),selection:{items:e.selection.items.get(),additionalItems:e.addToSelection.items.get(),bounds:e.selection.bounds.transformed.get()}},selection:{isOn:0!==e.selection.items.get().length&&!e.select.isOn.get()&&e.contextPanel.isOn.get(),bounds:e.selection.bounds.transformed.get(),boardScale:e.transformation.get().scale.x,items:e.selection.items.get()},transformer:{isOn:!1,boardScale:1,left:0,right:0,top:0,bottom:0},texts:[],connections:[],jiraIssues:[],renderer:t}}}function So(e,t){const n=[];for(const r of e.selection.items.get()){const i=r.id,o=e.items.get(i);o&&n.push({id:i,item:Object.assign(Object.assign({},o),t)})}e.items.batchChange(n),e.contextPanelMenu.isOn.change(!1)}function ko(e){return{changeType:t=>{So(e,{type:t})},changeFontSize:t=>{So(e,{fontSize:t})},changeFontStyle:t=>{So(e,{fontStyle:t})},changeVerticalAlignment:t=>{So(e,{verticalAlignment:t})},changeHorisontalAlignment:t=>{So(e,{horisontalAlignment:t})},changeTextColor:t=>{So(e,{fontColor:t})},changeTextHighlight:t=>{So(e,{fontHighlight:t})},changeBorderStyle:t=>{So(e,{borderStyle:t})},changeBorderOpacity:t=>{So(e,{borderOpacity:t})},changeBorderColor:t=>{So(e,{borderColor:t})},changeBackgroundOpacity:t=>{So(e,{backgroundsOpacity:t})},changeBackgroundColor:t=>{So(e,{backgroundColor:t})}}}function _o(e){const t=e.contextPanelMenu.type.get(),n={isOn:e.contextPanelMenu.isOn.get(),changeBounds:t=>{e.contextPanelMenu.menuBounds.change(t)},view:e.view.original.get(),button:e.contextPanelMenu.itemBounds.get(),menu:e.contextPanelMenu.menuBounds.get(),panel:e.contextPanel.menuBounds.get()},{changeType:r,changeFontSize:i,changeFontStyle:o,changeVerticalAlignment:a,changeHorisontalAlignment:s,changeTextColor:l,changeTextHighlight:u,changeBorderStyle:c,changeBorderColor:h,changeBorderOpacity:d,changeBackgroundColor:f,changeBackgroundOpacity:p}=ko(e);switch(t){case"ChangeFigureType":return Object.assign(Object.assign({},n),{type:t,value:{style:e.selection.items.get()[0],changeType:r}});case"ChangeFontSize":return Object.assign(Object.assign({},n),{type:t,value:{style:e.selection.items.get()[0],changeFontSize:i}});case"ChangeFontStyle":return Object.assign(Object.assign({},n),{type:t,value:{style:e.selection.items.get()[0],changeFontStyle:o}});case"ChangeAlignment":return Object.assign(Object.assign({},n),{type:t,value:{style:e.selection.items.get()[0],changeVerticalAlignment:a,changeHorisontalAlignment:s}});case"ChangeTextColor":return Object.assign(Object.assign({},n),{type:t,value:{style:e.selection.items.get()[0],changeTextColor:l}});case"ChangeBorderStyle":return Object.assign(Object.assign({},n),{type:t,value:{style:e.selection.items.get()[0],changeBorderColor:h,changeBorderOpacity:d,changeBorderStyle:c}});case"ChangeFigureStyle":return Object.assign(Object.assign({},n),{type:t,value:{style:e.selection.items.get()[0],changeBackgroundColor:f,changeBackgroundOpacity:p}});case"ChangeTextHighlight":return Object.assign(Object.assign({},n),{type:t,value:{style:e.selection.items.get()[0],changeTextHighlight:u}})}}function Ao(e){const t={isOn:0!==e.selection.items.get().length&&!e.select.isOn.get()&&e.contextPanel.isOn.get(),changeMenuItem:(t,n)=>{t===e.contextPanelMenu.type.get()&&e.contextPanelMenu.itemBounds.change(n)},changeBounds:t=>{e.contextPanel.menuBounds.change(t)},bounds:e.contextPanel.menuBounds.get(),item:e.selection.bounds.original.get(),view:e.view.original.get(),menu:_o(e)},n=e.selection.items.get()[0],r=n?e.items.get(n.id):n,i=r||e.figure.style.get(),{toggleFigureTypeMenu:o,toggleFontSizeMenu:a,toggleFontStyleMenu:s,toggleAlignmentMenu:l,toggleTextColorMenu:u,toggleTextHighligntMenu:c,toggleBorderStyleMenu:h,toggleFigureStyleMenu:d}=function(e){function t(t){return function(){const n=e.contextPanelMenu.type.get(),r=e.contextPanelMenu.isOn.get();n===t&&r?e.contextPanelMenu.isOn.change(!r):(e.contextPanelMenu.type.change(t),e.contextPanelMenu.isOn.change(!0))}}return{toggleFigureTypeMenu:t("ChangeFigureType"),toggleFontSizeMenu:t("ChangeFontSize"),toggleFontStyleMenu:t("ChangeFontStyle"),toggleAlignmentMenu:t("ChangeAlignment"),toggleTextColorMenu:t("ChangeTextColor"),toggleTextHighligntMenu:t("ChangeTextHighlight"),toggleBorderStyleMenu:t("ChangeBorderStyle"),toggleFigureStyleMenu:t("ChangeFigureStyle")}}(e),{changeFontSize:f}=ko(e),p=e.contextPanel.type.get();switch(p){case"Selection":return Object.assign(Object.assign({},t),{type:p,value:{edit:()=>{e.contextPanel.type.change("FigureTextEdit"),e.tool.change("Select");"Mouse"===e.pointer.type.get()?e.control.tool.change("SelectStepOneDrag"):e.control.tool.change("SelectStepOneSelectBounds")}}});case"FigureEdit":return Object.assign(Object.assign({},t),{type:p,value:{style:i,toggleFigureTypeMenu:o,toggleBorderStyleMenu:h,toggleFigureStyleMenu:d}});case"FigureTextEdit":return Object.assign(Object.assign({},t),{type:p,value:{style:i,changeFontSize:f,toggleFigureTypeMenu:o,toggleFontSizeMenu:a,toggleFontStyleMenu:s,toggleAlignmentMenu:l,toggleTextColorMenu:u,toggleTextHighligntMenu:c,toggleBorderStyleMenu:h,toggleFigureStyleMenu:d}})}}function Eo(e){const t={isOn:e.toolsPanelMenu.isOn.get(),view:e.view.original.get(),item:e.toolsPanelMenu.itemBounds.get(),bounds:e.toolsPanelMenu.menuBounds.get(),changeBounds:t=>{e.toolsPanelMenu.menuBounds.change(t)}},n=e.toolsPanelMenu.type.get();switch(n){case"AddFigure":const r={style:e.figure.style.get(),changeType:t=>{const n=e.figure.style.get();e.figure.style.change(Object.assign(Object.assign({},n),{type:t}))}};return Object.assign(Object.assign({},t),{type:n,value:r});case"AddConnection":const i={changeType:()=>{}};return Object.assign(Object.assign({},t),{type:n,value:i})}}function Po(e){function t(t){const n=e.toolsPanelMenu.type.get(),r=e.toolsPanelMenu.isOn.get();n===t&&r?e.toolsPanelMenu.isOn.change(!r):(e.toolsPanelMenu.type.change(t),e.toolsPanelMenu.isOn.change(!0))}const n=e.control.tool.get();return{view:e.view.original.get(),changeMenuItem:(t,n)=>{t===e.toolsPanelMenu.type.get()&&e.toolsPanelMenu.itemBounds.change(n)},addFigure:{isOn:"AddFigureStepOne"===n||"AddFigureStepTwo"===n,callback:()=>{e.control.tool.change("AddFigureStepOne"),e.tool.change("AddFigure"),t("AddFigure")}},figureStyle:e.figure.style.get(),addText:{isOn:"AddText"===n,callback:()=>{e.control.tool.change("AddText"),e.tool.change("AddText")}},addConnection:{isOn:"AddConnectionStepOne"===n||"AddConnectionStepTwo"===n||"AddConnectionStepThree"===n,callback:()=>{e.control.tool.change("AddConnectionStepOne"),e.tool.change("AddConnection"),t("AddConnection")}},addJiraIssue:{isOn:"AddJiraIssue"===n,callback:()=>{e.control.tool.change("AddJiraIssue"),e.tool.change("AddJiraIssue")}},select:{isOn:"Select"===e.tool.get(),callback:()=>{const t=e.control.tool.get();let n=t;if("SelectStepOneDrag"===t||"SelectStepOneSelectBounds"===t)n="MoveStepOne",e.tool.change("Move");else{n="Mouse"===e.pointer.type.get()?"SelectStepOneDrag":"SelectStepOneSelectBounds",e.tool.change("Select")}e.control.tool.change(n)}}}}const To=[4,3,2.5,2,1.5,1.25,1,.75,.5,.33,.2,.15,.1,.05,.03,.02,.01];function Mo(e,t){return Array.isArray(t)?[e.a*t[0]+e.c*t[1]+e.e,e.b*t[0]+e.d*t[1]+e.f]:{x:e.a*t.x+e.c*t.y+e.e,y:e.b*t.x+e.d*t.y+e.f}}function Bo(e){const{a:t,b:n,c:r,d:i,e:o,f:a}=e,s=t*i-n*r;return{a:i/s,b:n/-s,c:r/-s,d:t/s,e:(i*o-r*a)/-s,f:(n*o-t*a)/s}}const{cos:Oo,sin:Lo,PI:zo}=Math;function Io(e){return void 0===e}function Ro(e,t=0){return{a:1,c:0,e,b:0,d:1,f:t}}function No(...e){const t=(e,t)=>({a:e.a*t.a+e.c*t.b,c:e.a*t.c+e.c*t.d,e:e.a*t.e+e.c*t.f+e.e,b:e.b*t.a+e.d*t.b,d:e.b*t.c+e.d*t.d,f:e.b*t.e+e.d*t.f+e.f});switch((e=Array.isArray(e[0])?e[0]:e).length){case 0:throw new Error("no matrices provided");case 1:return e[0];case 2:return t(e[0],e[1]);default:{const[n,r,...i]=e;return No(t(n,r),...i)}}}function Do(...e){return No(...e)}function Fo(e,t,n,r){Io(t)&&(t=e);const i={a:e,c:0,e:0,b:0,d:t,f:0};return Io(n)||Io(r)?i:No([Ro(n,r),i,Ro(-n,-r)])}const{tan:jo}=Math;function Go(e,t,n,r){this.message=e,this.expected=t,this.found=n,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,Go)}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(Go,Error),Go.buildMessage=function(e,t,n){var r={literal:function(e){return'"'+o(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?a(e[0])+"-"+a(e[1]):a(e)}));return"["+(e.inverted?"^":"")+t+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description},not:function(e){return"not "+s(e.expected)}};function i(e){return e.charCodeAt(0).toString(16).toUpperCase()}function o(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+i(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+i(e)}))}function a(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+i(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+i(e)}))}function s(e){return r[e.type](e)}return"Expected "+function(e){var t,n,r=e.map(s);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+function(e){return e?'"'+o(e)+'"':"end of input"}(t)+" found."};function Wo(e,t){const{scale:n,position:r}=t;return Mo(Do(Ro(r.x,r.y),Fo(n.x,n.y)),e)}function Ho(e,t){const{scale:n,position:r}=t;return Mo(Bo(Do(Ro(r.x,r.y),Fo(n.x,n.y))),e)}function Uo(e,t){return{start:Wo(e.start,t),end:Wo(e.end,t)}}function Yo(e,t){const{left:n,top:r,right:i,bottom:o}=e,a=Wo({x:n,y:r},t),s=Wo({x:i,y:o},t);return{left:a.x,top:a.y,right:s.x,bottom:s.y}}function Xo(e,t){const{left:n,top:r,right:i,bottom:o}=e,a=Ho({x:n,y:r},t),s=Ho({x:i,y:o},t);return{left:a.x,top:a.y,right:s.x,bottom:s.y}}function Vo(e,t){return{start:Wo(e.start,t),startControl:Wo(e.startControl,t),end:Wo(e.end,t),endControl:Wo(e.endControl,t)}}function qo(e,t,n){const r=Ho(e,n);return{position:{x:e.x-r.x*t,y:e.y-r.y*t},scale:{x:t,y:t}}}function Qo(e){return function(){const t=e.transformation.get(),n=function(e){let t=To.length-1,n=To[t];for(;t>0&&n<=e;)t--,n=To[t];return n}(t.scale.x),r=fr(e.view.original.get());e.transformation.change(qo(r,n,t))}}function $o(e){return function(){const t=e.transformation.get(),n=function(e){const t=To.length;let n=0,r=To[n];for(;n<t-1&&r>=e;)n++,r=To[n];return r}(t.scale.x),r=fr(e.view.original.get());e.transformation.change(qo(r,n,t))}}function Zo(e){const t=Number.MAX_VALUE;let n=t,r=t,i=-t,o=-t;for(const{left:t,top:a,right:s,bottom:l}of e)n>t&&(n=t),r>a&&(r=a),i<s&&(i=s),o<l&&(o=l);return{left:n,top:r,right:i,bottom:o}}function Ko(e){return function(){const t=e.index.list(),n=[];for(const e of t)n.push(e.item.getBounds());const r=e.view.original.get(),i=hr(r),o=dr(r);let a;if(0===n.length)a={position:{x:0,y:0},scale:{x:1,y:1}};else{a=function(e,t,n){const r=hr(e),i=dr(e),o=Math.min(.9*t.width/r,.9*t.height/i),a=fr(Yo(e,{position:{x:0,y:0},scale:{x:o,y:o}})),s={x:t.width/2,y:t.height/2};return{position:Mo(Do(Bo(Ro(a.x,a.y))),s),scale:{x:o,y:o}}}(Zo(n),{width:i,height:o},e.transformation.get())}e.transformation.change(a)}}function Jo(e,t){const n=Ko(e),r=Qo(e),i=$o(e),o=function(e){return function(){const t=e.transformation.get(),n=fr(e.view.original.get());e.transformation.change(qo(n,1,t))}}(e);return function(){return{zoomPanel:{scale:e.transformation.get().scale.x,fitAllContainers:n,ofCenterIn:r,ofCenterOut:i,ofCenterToOne:o},toolsPanel:Po(e),toolsPanelMenu:Eo(e),contextPanel:Ao(e),contextPanelMenu:_o(e),renderer:t}}}function ea(e){e.preventDefault()}function ta(e){switch(e.deltaMode){case 0:return"pixel";default:return"line";case 2:return"page"}}function na(e,t){return function(n){n.preventDefault(),n.stopPropagation(),t.change(function(e){return{x:bo(e.pageX),y:bo(e.pageY)}}(n)),e.change(function(e){const{wheelDelta:t,wheelDeltaX:n,wheelDeltaY:r,deltaX:i,deltaY:o,shiftKey:a,ctrlKey:s}=e;return{isWheelDelta:vo(t),isWheelDeltaY:vo(n),isWheelDeltaX:vo(r),isDeltaX:vo(i),isDeltaY:vo(o),isShiftKey:a,isCtrlKey:s,wheelDelta:bo(t),wheelDeltaX:bo(n),wheelDeltaY:bo(r),deltaX:bo(i),deltaY:bo(o),deltaMode:ta(e)}}(n))}}function ra(e){return function(){const t=function(){const e=document.documentElement;return Math.max(e.clientWidth)}(),n=function(){const e=document.documentElement;return Math.max(e.clientHeight)}();e.change({left:0,top:0,right:t,bottom:n})}}function ia(e){return function(t){e.change(t.key)}}function oa(e){const t=na(e.pointer.wheel,e.pointer.point.original),n=ra(e.view.original),r=(i=e.pointer.point.original,function(e){i.change(xo(e))});var i;const o=ia(e.key.down),a=ia(e.key.up);return function(){return{wheel:{listener:t,options:{capture:!0,passive:!1}},resize:{listener:n,options:{}},pointermove:{listener:r,options:{}},contextmenu:{listener:ea,options:{capture:!1,passive:!1}},keydown:{listener:o,options:{}},keyup:{listener:a,options:{}}}}}class aa{constructor(e,t){this.presenterFactory=e,this.render=t,this.isRequested=!1,this.renderOnFrame=this.renderOnFrame.bind(this)}renderOnFrame(){this.render(this.presenterFactory()),this.isRequested=!1}request(){this.isRequested||(this.isRequested=!0,window.requestAnimationFrame(this.renderOnFrame))}}class sa{constructor(e){this.render=e}inserted(){this.render.request()}changed(){this.render.request()}removed(){this.render.request()}batchInserted(){this.render.request()}batchChanged(){this.render.request()}}class la{constructor(e){this.render=e}changed(e){this.render.isRequested||function(e,t){if(ua(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!ua(e[n[r]],t[n[r]]))return!1;return!0}(e,this.previous)||this.render.request(),this.previous=e}removed(){}}function ua(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}class ca{constructor(){this.dummy=e=>{},this.render=e=>{}}bind(e){this.render=e}unbind(){this.render=this.dummy}}var ha=r(681);class da{constructor(){this.observers=[]}subscribe(e){e&&this.observers.push(e)}unsubscribe(e){if(!e)return;const t=this.observers.indexOf(e);t>-1&&this.observers.splice(t,1)}}class fa extends da{changed(e){for(const t of this.observers)t.changed(e)}}function pa(e){return JSON.parse(JSON.stringify(e))}function ga(e){return e?e.join("."):" "}function ma(e){switch(e.kind){case"A":console.log("array",ga(e.path),e.index),ma(e.item);break;case"D":console.log("deleted",ga(e.path),pa(e.lhs));break;case"E":console.log(ga(e.path),"from",e.lhs,"to",e.rhs);break;case"N":console.log("added",ga(e.path),pa(e.rhs))}}class ya extends fa{constructor(e,t){super(),this.key=e,this.value=t}change(e){if(window.log&&-1===window.ignore.findIndex((e=>e===this.key))){const t=(0,ha.diff)(this.value,e),n=new Date(Date.now());if(t){console.groupCollapsed(`${n.getHours()}:${n.getMinutes()}:${n.getSeconds()}:${n.getMilliseconds()}`,"changed",this.key);for(const e of t)ma(e);console.groupEnd()}void 0===e&&console.log(`${n.getHours()}:${n.getMinutes()}:${n.getSeconds()}:${n.getMilliseconds()}`,"changed",this.key)}this.value=e,this.changed(e)}remove(){}get(){return this.value}}class va extends da{inserted(e,t){for(const n of this.observers)n.inserted(e,t)}changed(e,t){for(const n of this.observers)n.changed(e,t)}removed(e,t){for(const n of this.observers)n.removed(e,t)}batchInserted(e){for(const t of this.observers)t.batchInserted(e)}batchChanged(e){for(const t of this.observers)t.batchChanged(e)}}class ba extends va{constructor(){super(...arguments),this.map=new Map}insert(e,t){console.log(Date.now()," inserted ",pa(t)),this.map.set(e,t),this.inserted(e,t)}change(e,t){const n=this.map.get(e);if(window.log){const r=(0,ha.diff)(n,t);if(r&&window.log){console.log(Date.now()," changed ",e);for(const e of r)console.log(e)}}if(n){const r=Object.assign(n,t);this.map.set(e,r),this.changed(e,r)}}remove(e){const t=this.get(e);t&&(this.map.delete(e),this.removed(e,t))}get(e){return this.map.get(e)}list(){const e=[];for(const t of this.map)e.push(t[1]);return e}batchInsert(e){for(const t of e)this.map.set(t.id,t.item);this.batchInserted(e)}batchChange(e){for(const t of e){const e=this.map.get(t.id);e&&(Object.assign(e,t.item),this.map.set(t.id,e),t.item=e)}this.batchChanged(e)}}class xa{constructor(e){this.getNewLayer=e,this.layers=new Map,this.top=0,this.bottom=0,this.layers.set(this.top,this.getNewLayer())}newOnTop(){this.top++,this.layers.set(this.top,this.getNewLayer())}newOnBottom(){this.bottom--,this.layers.set(this.bottom,this.getNewLayer())}getTop(){return this.top}getBottom(){return this.bottom}get(e){return this.layers.get(e)}[Symbol.iterator](){let e=this.bottom;return{next:()=>{const t=this.layers.get(e);if(e++,void 0!==t){return{value:t,done:!1}}return{value:t,done:!0}}}}}class wa{constructor(e,t){this.getZIndex=t,this.map=new Map,this.getZIndex=this.getZIndex.bind(this),this.layers=new xa(e),this.layers.newOnTop()}getAllInBoundsByPoint(e){let t=[];for(const n of this.layers)t=t.concat(n.getAllInBoundsByPoint(e));return t}getAllInBoundsByPointQuick(e){let t=[];for(const n of this.layers)t=t.concat(n.getAllInBoundsByPointQuick(e));return t}isAnyInBoundsByPoint(e){for(const t of this.layers)if(t.isAnyInBoundsByPoint(e))return!0;return!1}getNearest(e,t,n,r){let i=[];for(const o of this.layers)i=i.concat(o.getNearest(e,t,n,r));return i}getContainersFromItems(e){const t=[];for(const n of e){const e=this.map.get(n.id);e&&t.push(e)}return t}insertContainer(e){const t=e.data.id;for(this.remove(t);e.layer>this.layers.getTop();)this.layers.newOnTop();for(;e.layer<this.layers.getBottom();)this.layers.newOnBottom();const n=this.layers.get(e.layer);n&&(n.insert(t,e.data),this.map.set(t,e))}shiftContainerAbove(e,t){const n=e.data.item.getBounds(),r=e.data.id;this.remove(r);const i=this.getAllInBoundsByPoint(n),o=this.getContainersFromItems(i),a=[],s=this.getZIndex(e.data.id);for(const e of o)this.getZIndex(e.data.id)>s&&a.push(e);if(e.layer<=t&&(e.layer=t+1),this.insertContainer(e),0!==i.length)for(const t of a)e.layer>=t.layer&&this.shiftContainerAbove(t,e.layer)}shiftContainerBelow(e,t){const n=e.data.item.getBounds(),r=e.data.id;this.remove(r);const i=this.getAllInBoundsByPoint(n),o=this.getContainersFromItems(i),a=[],s=this.getZIndex(e.data.id);for(const e of o)this.getZIndex(e.data.id)<s&&a.push(e);if(e.layer>=t&&(e.layer=t-1),this.insertContainer(e),0!==i.length)for(const t of a)e.layer<=t.layer&&this.shiftContainerBelow(t,e.layer)}insert(e,t){const n={zIndex:this.getZIndex(t.id),layer:0,data:t},r=t.item.getBounds(),i=this.getAllInBoundsByPoint(r);if(0===i.length)return this.insertContainer(n);const o=this.getContainersFromItems(i),a=[];for(const e of o)a.push(Object.assign({},e));const s=a.concat([n]),l=function(e){return e.sort(((e,t)=>e.zIndex-t.zIndex))}(s),u=l.findIndex((e=>e===n)),c=s.length-(u+1),h=s.length-(c+1),d=s.slice(u+1,s.length),f=s.slice(0,u);let p=-Number.MAX_VALUE;for(const e of s)p<e.layer&&(p=e.layer);let g=Number.MAX_VALUE;for(const e of s)g>e.layer&&(g=e.layer);let m=-Number.MAX_VALUE;for(const e of f)m<e.layer&&(m=e.layer);let y=Number.MAX_VALUE;for(const e of d)y>e.layer&&(y=e.layer);if(0===c)return n.layer=p+1,this.insertContainer(n);if(0===h)return n.layer=g-1,this.insertContainer(n);if(c>h){n.layer=y-1,this.insertContainer(n);for(const e of f)e.layer>=n.layer&&this.shiftContainerBelow(e,n.layer)}else{n.layer=m+1,this.insertContainer(n);for(const e of d)e.layer<=n.layer&&this.shiftContainerAbove(e,n.layer)}}change(e,t){const n=this.map.get(e);if(n){const r=this.layers.get(n.layer);r&&(r.remove(e),this.map.delete(e),this.insert(e,t))}}remove(e){const t=this.map.get(e);if(t){const n=this.layers.get(t.layer);n&&n.remove(e),this.map.delete(e)}}get(e){const t=this.map.get(e);return t?t.data:void 0}list(){const e=[];for(const t of this.map)e.push(t[1].data);return e}batchInsert(e){for(const t of e)this.insert(t.id,t.item)}batchChange(e){for(const t of e)this.change(t.id,t.item)}}var Ca,Sa=r(582),ka=r.n(Sa),_a=r(666),Aa=r.n(_a);class Ea extends(ka()){toBBox(e){const{left:t,top:n,right:r,bottom:i}=e;return{minX:t,minY:n,maxX:r,maxY:i}}compareMinX(e,t){return e.left-t.left}compareMinY(e,t){return e.top-t.top}}class Pa{constructor(){this.tree=new Ea,this.map=new Map}getContainer(e,t){return Object.assign(Object.assign({},t.item.getBounds()),{id:e,data:t})}insert(e,t){const n=this.getContainer(e,t);this.map.set(e,n),this.tree.insert(n)}change(e,t){const n=this.getContainer(e,t),r=this.map.get(e);r&&this.tree.remove(r),this.map.set(e,n),this.tree.insert(n)}get(e){const t=this.map.get(e);return t?t.data:void 0}remove(e){const t=this.map.get(e);t&&(this.map.delete(e),this.tree.remove(t))}list(){const e=this.tree.all(),t=[];for(const n of e)t.push(n.data);return t}getAllInBoundsByPoint(e){const{left:t,top:n,right:r,bottom:i}=e,o=this.tree.search({minX:t,minY:n,maxX:r,maxY:i}),a=[];for(const t of o)t.data.item.isInBoundsByPoint(e)&&a.push(t.data);return a}getAllInBoundsByPointQuick(e){const{left:t,top:n,right:r,bottom:i}=e,o=this.tree.search({minX:t,minY:n,maxX:r,maxY:i}),a=[];for(const e of o)a.push(e.data);return a}isAnyInBoundsByPoint(e){const{left:t,top:n,right:r,bottom:i}=e;return this.tree.collides({minX:t,minY:n,maxX:r,maxY:i})}getNearest(e,t,n,r){const{x:i,y:o}=e,a=[],s=Aa()(this.tree,i,o,t,(function(e){return n(e.data)}),r);for(const e of s)a.push(e.data);return a}batchInsert(e){for(const t of e)this.insert(t.id,t.item)}batchChange(e){for(const t of e)this.change(t.id,t.item)}}var Ta=new Uint8Array(16);function Ma(){if(!Ca&&!(Ca="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ca(Ta)}const Ba=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const Oa=function(e){return"string"==typeof e&&Ba.test(e)};for(var La=[],za=0;za<256;++za)La.push((za+256).toString(16).substr(1));const Ia=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(La[e[t+0]]+La[e[t+1]]+La[e[t+2]]+La[e[t+3]]+"-"+La[e[t+4]]+La[e[t+5]]+"-"+La[e[t+6]]+La[e[t+7]]+"-"+La[e[t+8]]+La[e[t+9]]+"-"+La[e[t+10]]+La[e[t+11]]+La[e[t+12]]+La[e[t+13]]+La[e[t+14]]+La[e[t+15]]).toLowerCase();if(!Oa(n))throw TypeError("Stringified UUID is invalid");return n};const Ra=function(e,t,n){var r=(e=e||{}).random||(e.rng||Ma)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Ia(r)};class Na extends fa{constructor(e){super(),this.property=e}change(e){this.property=e,this.changed(this.property)}remove(){}get(){return Ra()}}class Da{constructor(){this.map=new Map,this.index=new Map,this.root={id:"root",parent:void 0,oldestChild:void 0,olderSibling:void 0,youngerSibling:void 0},this.map.set("root",this.root)}insert(e,t){if(!t.parent)return;this.map.get(t.parent)&&(this.insertNodeIntoTree(t),this.map.set(e,t),this.updateZIndexies())}insertNodeIntoTree(e){if(!e.parent)return;const t=this.map.get(e.parent);if(t){if(e.youngerSibling){const t=this.map.get(e.youngerSibling);t&&(t.olderSibling=e.id)}if(e.olderSibling){const t=this.map.get(e.olderSibling);t&&(t.youngerSibling=e.id)}else t.oldestChild=e.id}}removeNodeFromTree(e){if(!e.parent)return;const t=this.map.get(e.parent);if(t){if(e.youngerSibling){const t=this.map.get(e.youngerSibling);t&&(t.olderSibling=e.olderSibling)}if(e.olderSibling){const t=this.map.get(e.olderSibling);t&&(t.youngerSibling=e.youngerSibling)}else t.oldestChild=e.youngerSibling}}change(e,t){const n=this.map.get(e);n&&(this.removeNodeFromTree(n),this.insertNodeIntoTree(t),this.updateZIndexies())}remove(e){const t=this.map.get(e);t&&(this.removeNodeFromTree(t),this.visitAllDepthFirst(t,function(e){this.map.delete(e.id),this.index.delete(e.id)}.bind(this)),this.map.delete(e),this.index.delete(e),this.updateZIndexies())}get(e){return this.map.get(e)}list(){const e=[];for(const t of this.map)e.push(t[1]);return e}visitAllDepthFirst(e,t){for(;void 0!==e;)t(e),void 0!==e.oldestChild&&this.visitAllDepthFirst(this.map.get(e.oldestChild),t),e=e.youngerSibling?this.map.get(e.youngerSibling):void 0}updateZIndexies(){const e=this.map.get("root");if(!e)return;let t=0;this.visitAllDepthFirst(e,function(e){this.index.set(e.id,t),t++}.bind(this))}getZIndex(e){const t=this.index.get(e);return t||-1}getYoungestChild(e){let t=this.map.get(e);if(t||(t=this.root),!t.oldestChild)return;const n=this.map.get(t.oldestChild);if(!n)return;let r=n;for(;r.youngerSibling;){const e=this.map.get(r.youngerSibling);if(!e)break;r=e}return r}batchInsert(e){for(const t of e){const e=t.item;if(!e.parent)return;if(!this.map.get(e.parent))return;this.insertNodeIntoTree(t.item),this.map.set(t.id,e)}this.updateZIndexies()}batchChange(e){for(const t of e){const e=this.map.get(t.id);if(!e)return;this.removeNodeFromTree(e),this.insertNodeIntoTree(t.item)}this.updateZIndexies()}}function Fa(e,t){for(const n in t){const r=t[n];if(r instanceof Array)for(const t of r)e[n].subscribe(t);else r.changed?e[n].subscribe(r):Fa(e[n],r)}}function ja(e,t){for(const n in t){const r=t[n];if(r instanceof Array)for(const t of r)e[n].unsubscribe(t);else r.changed?e[n].unsubscribe(r):ja(e[n],r)}}class Ga{init(e){this.subject=e}subscribe(e){Fa(this.subject,e)}unsubscribe(e){ja(this.subject,e)}}class Wa{constructor(e,t,n){this.subject=e,this.map=t,this.defaultToolset=n,this.previous=n,Fa(this.subject,this.defaultToolset)}to(e){window.log&&console.log("Control will change to",e);const t=this.previous,n=this.map[e];n&&(window.setTimeout((()=>{ja(this.subject,t),Fa(this.subject,n),window.log&&console.log("Control changed to",e)})),this.previous=n)}}class Ha{constructor(e){this.property=e}init(e,t){this.toggle=new Wa(e,t,t[this.property])}change(e){this.property=e,this.toggle&&this.toggle.to(e)}remove(){}get(){return this.property}}let Ua=0,Ya=120,Xa=0;function Va(e){const{isWheelDelta:t,wheelDelta:n,deltaMode:r,isCtrlKey:i,deltaY:o}=e,a=Math.abs(n);!function(e){e?Xa>1?(Ua>100&&Ua<200&&(Ya=Ua),Xa=0):Xa++:Xa=0}(qa(a,Ua));const s=qa(a,Ya),l=t?!i&&s||function(){const e=navigator.userAgent,t=navigator.vendor;return void 0!==t&&t.includes("Apple")&&void 0!==e&&!e.includes("CriOS")&&!e.includes("FxiOS")}()&&n!==3*-o:"pixel"!==r;return Ua=a,l}function qa(e,t){const n=Math.round(e/t)/(1/t),r=e>400&&e<1e3?1:3;return n>=e-r&&n<=e+r}function Qa(e,t,n){return e<t?t:e>n?n:e}class $a{constructor(e,t,n,r){this.transformation=e,this.originalPointer=t,this.min=n,this.max=r}changed(e){const t=function({isWheelDelta:e,wheelDelta:t,isDeltaY:n,deltaX:r,deltaY:i}){const o=e?.001*Math.abs(t)+1:n?.02*Math.abs(i)+1:.02*Math.abs(r)+1;return(e?t>0:i<0)?o:1/o}(e),n=this.transformation.get();let r=n.scale.x*t;r=Qa(r,this.min.get(),this.max.get());const i=qo(this.originalPointer.get(),r,n);this.transformation.change(i)}removed(){}}function Za(e){const{isWheelDeltaY:t,wheelDelta:n,wheelDeltaY:r,isDeltaY:i,deltaY:o}=e;return i?o:t?-r/3:-n/3}class Ka{constructor(e,t,n,r){this.transformation=e,this.originalPointer=t,this.min=n,this.max=r}changed(e){if(e.isCtrlKey){const t=function(e){return Math.exp(-Za(e)/100)}(e),n=this.transformation.get();let r=n.scale.x*t;r=Qa(r,this.min.get(),this.max.get());const i=qo(this.originalPointer.get(),r,n);this.transformation.change(i)}else{const t=function(e){const{isWheelDeltaX:t,wheelDeltaX:n,isDeltaX:r,deltaX:i}=e;return r?i:t?-n/3:0}(e),n=Za(e),{scale:r,position:i}=this.transformation.get();this.transformation.change({scale:r,position:{x:i.x-t,y:i.y-n}})}}removed(){}}class Ja{constructor(e,t,n,r,i){this.type=i,this.mouse=new $a(e,t,n,r),this.trackpad=new Ka(e,t,n,r)}removed(){}changed(e){Va(e)?(this.mouse.changed(e),this.type.change("Mouse")):(this.trackpad.changed(e),this.type.change("Trackpad"))}}function es(e){return{pointer:{wheel:new Ja(e.transformation,e.pointer.point.original,e.minScale,e.maxScale,e.pointer.type)}}}function ts(e){let t=yr[e.type];return t||(t=yr.Rectangle),function(e,t){const n=[];for(const r of e)switch(r.type){case"Arc":n.push({type:"Arc",value:(r.value,{})});break;case"CubicBezier":n.push({type:"CubicBezier",value:Vo(r.value,t)});break;case"Line":n.push({type:"Line",value:Uo(r.value,t)})}return n}(t,{position:e.position,scale:e.scale})}class ns{constructor(e,t){this.transformation=e,this.item=t}getIntersectionPointsWithLineSegment(e){const t=function(e,t){return{start:Ho(e.start,t),end:Ho(e.end,t)}}(e,this.transformation),n=this.item.getIntersectionPointsWithLineSegment(t),r=[];for(const e of n)r.push(Wo(e,this.transformation));return r}getBounds(){return Yo(this.item.getBounds(),this.transformation)}getNearestEdgePointToPoint(e){const t=Ho(e,this.transformation);return Wo(this.item.getNearestEdgePointToPoint(t),this.transformation)}isInBoundsByPoint(e){const t=Xo(e,this.transformation);return this.item.isInBoundsByPoint(t)}}class rs extends class{constructor(e){this.items=e}getIntersectionPointsWithLineSegment(e){let t=[];for(const n of this.items)t=t.concat(n.getIntersectionPointsWithLineSegment(e));return t}getNearestEdgePointToPoint(e){const t=[];for(const n of this.items){const r=n.getNearestEdgePointToPoint(e);t.push({point:r,distance:Hi(e,r)})}let n=t[0];for(const e of t)e.distance<n.distance&&(n=e);return n.point}getBounds(){const e=[];for(const t of this.items)e.push(t.getBounds());return Zo(e)}isInBoundsByPoint(e){let t=!1;for(const n of this.items)t=t||n.isInBoundsByPoint(e);return t}}{isInBoundsByPoint(e){const t=super.isInBoundsByPoint(e),n=this.getIntersectionPointsWithLineSegment({start:{x:e.left,y:e.top},end:{x:Number.MAX_VALUE/1e15,y:e.top}}),r=n.length%2!=0;return t||r}}function is(e){let t=yr[e.type];t||(t=yr.Rectangle);const n=new rs(function(e){const t=[];for(const n of e)switch(n.type){case"Line":t.push(new qi(n.value));break;case"CubicBezier":t.push(new Gi(n.value));break;case"Arc":t.push(new pi)}return t}(t)),r={position:e.position,scale:e.scale};return new ns(r,n)}class os{constructor(e){this.index=e}inserted(e,t){const n=is(t),r=n.getBounds();this.index.insert(e,Object.assign({id:e,data:this.getCanvasBoardItem(t,r),item:n},r))}getCanvasBoardItem(e,t){const n=hr(t),r=dr(t),i={path:ts(e),width:n,height:r,maxDimension:Math.max(n,r)};return Object.assign(e,i)}changed(e,t){const n=is(t),r=n.getBounds(),i=this.index.get(t.id);if(i){const e=Object.assign({id:t.id,data:this.getCanvasBoardItem(t,r),item:n},r);Object.assign(i,e),this.index.change(t.id,i)}}removed(e,t){this.index.remove(e)}batchInserted(e){for(const t of e){const e=is(t.item),n=e.getBounds();this.index.insert(t.id,Object.assign({id:t.id,data:this.getCanvasBoardItem(t.item,n),item:e},n))}}batchChanged(e){for(const t of e){const e=is(t.item),n=e.getBounds(),r=this.index.get(t.id);if(r){const i=Object.assign({data:this.getCanvasBoardItem(t.item,n),item:e},n);Object.assign(r,i),this.index.change(t.id,r)}}}}class as{constructor(e){this.tree=e}inserted(e,t){this.tree.insert(e,t)}changed(e,t){this.tree.change(e,t)}removed(e,t){this.tree.remove(e)}batchInserted(e){this.tree.batchInsert(e)}batchChanged(e){this.tree.batchChange(e)}}class ss{constructor(e,t){this.pointer=e,this.transformation=t}changed(e){this.pointer.change(Ho(e,this.transformation.get()))}removed(){}}class ls{constructor(e,t,n){this.mediator=e,this.value=t,this.timeout=n,this.timerId=-1,this.callback=this.callback.bind(this)}callback(){this.mediator.change(this.value)}set(){this.timerId&&clearTimeout(this.timerId),this.timerId=window.setTimeout(this.callback,this.timeout)}}class us{constructor(e,t,n){this.boolean=e,this.value=t,this.timeout=new ls(e,t,n)}changed(){this.boolean.get()===this.value&&(this.boolean.change(!this.value),this.timeout.set())}removed(){}}class cs{constructor(e,t){this.transformation=e,this.transformed=t}changed(e){const t=Xo(e,this.transformation.get());this.transformed.change(t)}removed(){}}class hs{constructor(e,t){this.original=e,this.transformed=t}changed(e){const t=Xo(this.original.get(),e);this.transformed.change(t)}removed(){}}class ds{constructor(e,t){this.transformed=e,this.original=t}changed(e){const t=Yo(this.transformed.get(),e);this.original.change(t)}removed(){}}class fs{constructor(e,t){this.mediator=e,this.value=t}changed(){this.mediator.change(this.value)}removed(){}}class ps{constructor(e){this.callback=e}changed(){this.callback()}removed(){}}class gs{constructor(e,t,n,r){this.condition=e,this.mediator=t,this.trueValue=n,this.falseValue=r}changed(e){this.condition(e)?this.mediator.change(this.trueValue):this.mediator.change(this.falseValue)}removed(){}}class ms{constructor(e,t,n){this.condition=e,this.mediator=t,this.trueValue=n}changed(e){this.condition(e)&&this.mediator.change(this.trueValue)}removed(){}}class ys{constructor(e){this.mediator=e}changed(e){e&&this.mediator.change(!1)}removed(){}}class vs{constructor(e){this.hover=e}changed(e){0===e.length?this.hover.board.change(void 0):(this.hover.figures.change(void 0),this.hover.items.change(void 0))}removed(){}}class bs{constructor(e,t,n,r,i,o,a){this.pointer=e,this.selection=t,this.hover=n,this.toSelection=r,this.toBoard=i,this.toItems=o,this.toFigures=a}changed(){const e=this.selection.items.get(),t=this.selection.bounds.transformed.get(),n=this.pointer.transformed.get(),r=this.hover.items.get(),i=this.selection.items.get();if(e.length>0&&function(e,t){return e.x>=t.left&&e.x<=t.right&&e.y>=t.top&&e.y<=t.bottom}(n,t)){this.toSelection.change(void 0);let e=0;for(const t of r)for(const n of i)t.id===n.id&&e++;e<r.length&&(this.toItems.change(void 0),this.toFigures.change(void 0))}else 0===r.length?this.toBoard.change(void 0):(this.toItems.change(void 0),this.toFigures.change(void 0))}removed(){}}class xs{constructor(e,t,n,r){this.items=e,this.pointer=t,this.selection=n,this.transformation=r}changed(){const e=this.pointer.get(),t=this.items.getAllInBoundsByPoint({left:e.x,top:e.y,right:e.x,bottom:e.y}),n=[],r=[],i=t[t.length-1];i&&(n.push(i.item.getBounds()),r.push(i.data));const o=Zo(n),a=Yo(o,this.transformation.get());this.selection.bounds.transformed.change(o),this.selection.bounds.original.change(a),this.selection.items.change(r)}}class ws{constructor(e,t){this.hover=e,this.selection=t}changed(){const e=this.selection.items.get(),t=this.hover.items.get()[0];if(!t)return;let n=-1;for(let r=0,i=e.length;r<i;r++)if(e[r].id===t.id){n=r;break}-1===n?e.push(t):e.splice(n,1),this.selection.items.change(e)}}class Cs{constructor(e,t,n){this.selection=e,this.index=t,this.transformation=n}changed(){const e=this.selection.items.get(),t=[];for(const n of e){const e=this.index.get(n.id);e&&t.push(e)}const n=Zo(t),r=Yo(n,this.transformation.get());this.selection.bounds.transformed.change(n),this.selection.bounds.original.change(r)}}function Ss(e){return{transformation:[new hs(e.view.original,e.view.transformed),new ds(e.selection.bounds.transformed,e.selection.bounds.original)],pointer:{type:new ps((()=>{const t=e.control.tool.get(),n=e.pointer.type.get();"SelectStepOneDrag"===t&&"Trackpad"===n?e.control.tool.change("SelectStepOneSelectBounds"):"SelectStepOneSelectBounds"===t&&"Mouse"===n&&e.control.tool.change("SelectStepOneDrag")})),point:{original:new ss(e.pointer.point.transformed,e.transformation),transformed:new xs(e.index,e.pointer.point.transformed,e.pointer.items.selection,e.transformation)},buttons:{left:{down:[new fs(e.contextPanelMenu.isOn,!1),new bs(e.pointer.point,e.selection,e.pointer.items.selection,e.pointer.items.buttons.selection.left.down,e.pointer.items.buttons.board.left.down,e.pointer.items.buttons.items.left.down,e.pointer.items.buttons.figures.left.down)],up:[new bs(e.pointer.point,e.selection,e.pointer.items.selection,e.pointer.items.buttons.selection.left.up,e.pointer.items.buttons.board.left.up,e.pointer.items.buttons.items.left.up,e.pointer.items.buttons.figures.left.up)],double:[new bs(e.pointer.point,e.selection,e.pointer.items.selection,e.pointer.items.buttons.selection.left.double,e.pointer.items.buttons.board.left.double,e.pointer.items.buttons.items.left.double,e.pointer.items.buttons.figures.left.double)]},right:{down:[new bs(e.pointer.point,e.selection,e.pointer.items.selection,e.pointer.items.buttons.selection.right.down,e.pointer.items.buttons.board.right.down,e.pointer.items.buttons.items.right.down,e.pointer.items.buttons.figures.right.down)],up:[new bs(e.pointer.point,e.selection,e.pointer.items.selection,e.pointer.items.buttons.selection.right.down,e.pointer.items.buttons.board.right.up,e.pointer.items.buttons.items.right.up,e.pointer.items.buttons.figures.right.up)],double:[new bs(e.pointer.point,e.selection,e.pointer.items.selection,e.pointer.items.buttons.selection.right.down,e.pointer.items.buttons.board.right.double,e.pointer.items.buttons.items.right.double,e.pointer.items.buttons.figures.right.double)]},middle:{down:[new bs(e.pointer.point,e.selection,e.pointer.items.selection,e.pointer.items.buttons.selection.middle.down,e.pointer.items.buttons.board.middle.down,e.pointer.items.buttons.items.middle.down,e.pointer.items.buttons.figures.middle.down)],up:[new bs(e.pointer.point,e.selection,e.pointer.items.selection,e.pointer.items.buttons.selection.middle.up,e.pointer.items.buttons.board.middle.up,e.pointer.items.buttons.items.middle.up,e.pointer.items.buttons.figures.middle.up)],double:[new bs(e.pointer.point,e.selection,e.pointer.items.selection,e.pointer.items.buttons.selection.middle.double,e.pointer.items.buttons.board.middle.double,e.pointer.items.buttons.items.middle.double,e.pointer.items.buttons.figures.middle.double)]}},items:{selection:{items:new vs(e.pointer.items.hover)}}},items:[new as(e.tree),new os(e.index)],selection:{items:[new Cs(e.selection,e.index,e.transformation),new ps((()=>{0!==e.selection.items.get().length&&e.contextPanel.isOn.change(!0)}))],bounds:{original:[new us(e.contextPanel.isOn,!0,700),new us(e.contextPanelMenu.isOn,!0,800)]}},view:{original:[new cs(e.transformation,e.view.transformed),new us(e.contextPanel.isOn,!0,700),new us(e.contextPanelMenu.isOn,!0,800)]},toolsPanelMenu:{isOn:[new ys(e.contextPanel.isOn),new ys(e.contextPanelMenu.isOn)]},contextPanel:{isOn:[new ys(e.toolsPanelMenu.isOn)]},contextPanelMenu:{isOn:[new ys(e.toolsPanelMenu.isOn)]},tool:new ps((()=>{const t=e.tool.get();"Move"===t?(e.selection.items.change([]),e.selection.bounds.original.change({left:0,top:0,right:0,bottom:0}),e.selection.bounds.transformed.change({left:0,top:0,right:0,bottom:0})):"Select"===t&&"Selection"===e.contextPanel.type.get()&&e.contextPanel.type.change("FigureEdit")})),key:{down:new ps((()=>{switch(e.key.down.get()){case"Shift":e.key.isShift.change(!0);break;case"Control":e.key.isCtrl.change(!0);break;case"Alt":e.key.isAlt.change(!0)}})),up:new ps((()=>{switch(e.key.up.get()){case"Shift":e.key.isShift.change(!1);break;case"Control":e.key.isCtrl.change(!1);break;case"Alt":e.key.isAlt.change(!1)}}))}}}class ks{constructor(e,t,n){this.delta=e,this.pointer=t,this.transformation=n}changed(){const e=this.pointer.get(),t={point:e,delta:{x:0,y:0}},n={point:Ho(e,this.transformation.get()),delta:{x:0,y:0}};this.delta.original.change(t),this.delta.transformed.change(n)}removed(){}}class _s{constructor(e,t){this.delta=e,this.point=t}changed(){this.delta.original.change(As(this.point.original.get(),this.delta.original.get().point)),this.delta.transformed.change(As(this.point.transformed.get(),this.delta.transformed.get().point))}removed(){}}function As(e,t){return{point:e,delta:{x:e.x-t.x,y:e.y-t.y}}}class Es{constructor(e,t){this.delta=e,this.point=t}changed(){this.delta.original.change({point:this.point.original.get(),delta:{x:0,y:0}}),this.delta.transformed.change({point:this.point.transformed.get(),delta:{x:0,y:0}})}removed(){}}class Ps{constructor(e){this.transformation=e}changed(e){const{position:t,scale:n}=this.transformation.get();this.transformation.change({position:{x:t.x+e.delta.x,y:t.y+e.delta.y},scale:n})}removed(){}}function Ts(e){return{pointer:{point:{original:new _s(e.pointer.delta,e.pointer.point)},delta:{original:[new Ps(e.transformation),new fs(e.control.tool,"MoveStepThree")]},buttons:{left:{up:[new xs(e.index,e.pointer.point.transformed,e.selection,e.transformation),new fs(e.contextPanel.type,"Selection"),new fs(e.control.tool,"MoveStepOne")],double:[new xs(e.index,e.pointer.point.transformed,e.selection,e.transformation),new fs(e.contextPanel.type,"FigureTextEdit"),new ps((()=>{e.tool.change("Select")})),new gs((()=>"Mouse"===e.pointer.type.get()),e.control.tool,"SelectStepOneDrag","SelectStepOneSelectBounds")]}}}}}class Ms{constructor(e,t){this.observer=e,this.done=t}changed(e){this.observer.changed(e),this.done()}}function Bs(e){return{pointer:{point:{original:new _s(e.pointer.delta,e.pointer.point)},delta:{original:new Ps(e.transformation)},buttons:{left:{up:new Ms(new Es(e.pointer.delta,e.pointer.point),(()=>{e.control.tool.change("MoveStepOne")})),double:[new xs(e.index,e.pointer.point.transformed,e.selection,e.transformation),new fs(e.contextPanel.type,"FigureTextEdit")]},middle:{up:new Ms(new Es(e.pointer.delta,e.pointer.point),(()=>{e.control.tool.change("MoveStepOne")}))}}}}}class Os{constructor(e,t,n,r){this.line=e,this.bounds=t,this.pointer=n,this.isOn=r}changed(){const e=this.pointer.get(),t={start:e,end:e};this.line.change(t),this.bounds.change(Wi(t)),this.isOn.change(!0)}removed(){}}class Ls{constructor(e,t){this.line=e,this.bounds=t}changed(e){const{start:t}=this.line.get(),n={start:t,end:e};this.line.change(n),this.bounds.change(Wi(n))}removed(){}}class zs{constructor(e,t,n,r,i,o,a){this.line=e,this.bounds=t,this.figures=n,this.id=r,this.style=i,this.tree=o,this.isOn=a}changed(){const e=this.bounds.get(),t=this.id.get(),n=this.style.get();let r=hr(e),i=dr(e);r<2&&(r=100),i<2&&(i=100);const o={x:r/100,y:i/100},a={x:e.left,y:e.top},s=this.tree.getYoungestChild("root");this.figures.insert(t,Object.assign(Object.assign({id:t,position:a,scale:o},n),{parent:"root",oldestChild:void 0,olderSibling:s?s.id:void 0,youngerSibling:void 0})),this.line.change({start:{x:0,y:0},end:{x:0,y:0}}),this.bounds.change({left:0,top:0,right:0,bottom:0}),this.isOn.change(!1)}removed(){}}function Is(e){return{pointer:{buttons:{left:{down:[new Os(e.addFigure.line,e.addFigure.bounds,e.pointer.point.transformed,e.addFigure.isOn),new fs(e.toolsPanelMenu.isOn,!1),new fs(e.control.tool,"AddFigureStepTwo")]}}}}}function Rs(e){return{pointer:{point:{transformed:new Ls(e.addFigure.line,e.addFigure.bounds)},buttons:{left:{up:[new zs(e.addFigure.line,e.addFigure.bounds,e.items,e.item.id,e.figure.style,e.tree,e.addFigure.isOn),new gs((()=>"Mouse"===e.pointer.type.get()),e.control.tool,"SelectStepOneDrag","SelectStepOneSelectBounds")]}}}}}class Ns{constructor(e,t,n){this.selection=e,this.delta=t,this.items=n}changed(){const e=this.delta.transformed.get().delta,t=this.selection.items.get(),n=[];for(const r of t){const t=this.items.get(r.id);t&&n.push({id:t.id,item:Object.assign(Object.assign({},t),{position:{x:t.position.x+e.x,y:t.position.y+e.y}})})}this.items.batchChange(n),this.selection.bounds.original.change(Ds(this.delta.original.get().delta,this.selection.bounds.original.get())),this.selection.bounds.transformed.change(Ds(this.delta.transformed.get().delta,this.selection.bounds.transformed.get()))}removed(){}}function Ds(e,t){return{left:t.left+e.x,top:t.top+e.y,right:t.right+e.x,bottom:t.bottom+e.y}}function Fs(e){return{pointer:{point:{original:new _s(e.pointer.delta,e.pointer.point)},delta:{transformed:new Ns(e.selection,e.pointer.delta,e.items)},buttons:{left:{up:[new Es(e.pointer.delta,e.pointer.point),new gs((()=>"Mouse"===e.pointer.type.get()),e.control.tool,"SelectStepOneDrag","SelectStepOneSelectBounds")],double:[new xs(e.index,e.pointer.point.transformed,e.selection,e.transformation),new fs(e.contextPanel.type,"FigureTextEdit")]}}}}}function js(e){return{pointer:{point:{original:new _s(e.pointer.delta,e.pointer.point)},delta:{original:new Ps(e.transformation)},buttons:{left:{up:[new Es(e.pointer.delta,e.pointer.point),new gs((()=>"Mouse"===e.pointer.type.get()),e.control.tool,"SelectStepOneDrag","SelectStepOneSelectBounds")],double:[new xs(e.index,e.pointer.point.transformed,e.selection,e.transformation),new fs(e.contextPanel.type,"FigureTextEdit")]},middle:{up:new fs(e.control.tool,"SelectStepOneDrag")}}}}}function Gs(e){return{pointer:{point:{original:new _s(e.pointer.delta,e.pointer.point)},delta:{transformed:[new Ns(e.selection,e.pointer.delta,e.items),new fs(e.control.tool,"SelectStepThreeDragSelection")]},buttons:{left:{up:[new xs(e.index,e.pointer.point.transformed,e.selection,e.transformation),new fs(e.contextPanel.type,"FigureEdit"),new gs((()=>"Mouse"===e.pointer.type.get()),e.control.tool,"SelectStepOneDrag","SelectStepOneSelectBounds")],double:[new xs(e.index,e.pointer.point.transformed,e.selection,e.transformation),new fs(e.contextPanel.type,"FigureTextEdit"),new gs((()=>"Mouse"===e.pointer.type.get()),e.control.tool,"SelectStepOneDrag","SelectStepOneSelectBounds")]}}}}}function Ws(e){return{pointer:{point:{original:new _s(e.pointer.delta,e.pointer.point)},delta:{original:[new Ps(e.transformation),new fs(e.control.tool,"SelectStepThreeDragBoard")]},buttons:{left:{up:[new xs(e.index,e.pointer.point.transformed,e.selection,e.transformation),new fs(e.contextPanel.type,"FigureEdit"),new gs((()=>"Mouse"===e.pointer.type.get()),e.control.tool,"SelectStepOneDrag","SelectStepOneSelectBounds")],double:[new xs(e.index,e.pointer.point.transformed,e.selection,e.transformation),new fs(e.contextPanel.type,"FigureTextEdit"),new gs((()=>"Mouse"===e.pointer.type.get()),e.control.tool,"SelectStepOneDrag","SelectStepOneSelectBounds")]}}}}}class Hs{constructor(e,t,n){this.dragItems=e,this.selection=t,this.hover=n}changed(){const e=this.hover.items.get()[0];e?(this.dragItems.items.change([e]),this.selection.items.change([]),this.selection.bounds.original.change({left:0,top:0,right:0,bottom:0}),this.selection.bounds.transformed.change({left:0,top:0,right:0,bottom:0})):this.dragItems.items.change([])}removed(){}}function Us(e){return{key:{down:[new ms((e=>"Shift"===e),e.control.tool,"SelectStepOneAddToSelection")]},pointer:{buttons:{left:{down:[new ks(e.pointer.delta,e.pointer.point.original,e.transformation)],double:[new xs(e.index,e.pointer.point.transformed,e.selection,e.transformation),new fs(e.contextPanel.type,"FigureTextEdit")]},middle:{down:[new ks(e.pointer.delta,e.pointer.point.original,e.transformation),new fs(e.control.tool,"SelectStepThreeDragBoard")]}},items:{buttons:{board:{left:{down:new fs(e.control.tool,"SelectStepTwoDragBoard")}},selection:{left:{down:new fs(e.control.tool,"SelectStepTwoDragSelection")}},items:{left:{down:[new xs(e.index,e.pointer.point.transformed,e.dragItems,e.transformation),new Hs(e.dragItems,e.selection,e.pointer.items.selection),new fs(e.control.tool,"SelectStepTwoDragItem")]}}}}}}}class Ys{constructor(e,t,n,r){this.pointer=e,this.line=t,this.bounds=n,this.isOn=r}changed(){const e=this.pointer.get(),t={start:e,end:e};this.line.change(t),this.bounds.change(Wi(t)),this.isOn.change(!0)}removed(){}}class Xs{constructor(e){this.selection=e}changed(){this.selection.bounds.transformed.change({left:0,top:0,right:0,bottom:0}),this.selection.bounds.original.change({left:0,top:0,right:0,bottom:0}),this.selection.items.change([])}removed(){}}class Vs{constructor(e,t,n,r,i){this.line=e,this.bounds=t,this.items=n,this.transformation=r,this.selection=i}changed(e){const{start:t}=this.line.get(),n={start:t,end:e};this.line.change(n);const r=Wi(n);this.bounds.change(r);const i=this.items.getAllInBoundsByPoint(r),o=[],a=[];for(const e of i)o.push(e.item.getBounds()),a.push(e.data);const s=Zo(o),l=Yo(s,this.transformation.get());this.selection.bounds.transformed.change(s),this.selection.bounds.original.change(l),this.selection.items.change(a)}removed(){}}class qs{constructor(e,t,n,r,i,o){this.line=e,this.bounds=t,this.items=n,this.selection=r,this.transformation=i,this.isOn=o}changed(){const e=this.bounds.get(),t=this.items.getAllInBoundsByPoint(e),n=[],r=[];for(const e of t)n.push(e.item.getBounds()),r.push(e.data);const i=Zo(n),o=Yo(i,this.transformation.get());this.selection.bounds.transformed.change(i),this.selection.bounds.original.change(o),this.selection.items.change(r),this.line.change({start:{x:0,y:0},end:{x:0,y:0}}),this.bounds.change({left:0,top:0,right:0,bottom:0}),this.isOn.change(!1)}removed(){}}function Qs(e){return{key:{down:[new ms((e=>"Shift"===e),e.control.tool,"SelectStepOneAddToSelection")]},pointer:{buttons:{left:{double:[new xs(e.index,e.pointer.point.transformed,e.selection,e.transformation),new fs(e.contextPanel.type,"FigureTextEdit")]}},items:{buttons:{board:{left:{down:[new Ys(e.pointer.point.transformed,e.select.line,e.select.bounds,e.select.isOn),new Xs(e.selection),new Xs(e.addToSelection),new fs(e.control.tool,"SelectStepTwoSelectBounds")]}},selection:{left:{down:[new ks(e.pointer.delta,e.pointer.point.original,e.transformation),new fs(e.control.tool,"SelectStepTwoDragSelection")]}},items:{left:{down:[new xs(e.index,e.pointer.point.transformed,e.dragItems,e.transformation),new ks(e.pointer.delta,e.pointer.point.original,e.transformation),new fs(e.control.tool,"SelectStepTwoDragItem")],double:[new xs(e.index,e.pointer.point.transformed,e.selection,e.transformation),new fs(e.contextPanel.type,"FigureTextEdit")]}}}}}}}function $s(e){return{select:{bounds:new fs(e.control.tool,"SelectStepThreeSelectBounds")},pointer:{point:{transformed:new Vs(e.select.line,e.select.bounds,e.index,e.transformation,e.selection)},buttons:{left:{up:[new xs(e.index,e.pointer.point.transformed,e.selection,e.transformation),new fs(e.contextPanel.type,"FigureEdit"),new gs((()=>"Mouse"===e.pointer.type.get()),e.control.tool,"SelectStepOneDrag","SelectStepOneSelectBounds")],double:[new xs(e.index,e.pointer.point.transformed,e.selection,e.transformation),new fs(e.contextPanel.type,"FigureTextEdit"),new gs((()=>"Mouse"===e.pointer.type.get()),e.control.tool,"SelectStepOneDrag","SelectStepOneSelectBounds")]}}}}}function Zs(e){return{pointer:{point:{transformed:new Vs(e.select.line,e.select.bounds,e.index,e.transformation,e.selection)},buttons:{left:{up:[new qs(e.select.line,e.select.bounds,e.index,e.selection,e.transformation,e.select.isOn),new fs(e.contextPanel.type,"FigureEdit"),new gs((()=>"Mouse"===e.pointer.type.get()),e.control.tool,"SelectStepOneDrag","SelectStepOneSelectBounds")],double:[new xs(e.index,e.pointer.point.transformed,e.selection,e.transformation),new fs(e.contextPanel.type,"FigureTextEdit")]}}}}}function Ks(e){return{key:{up:[new ps((()=>{"Shift"===e.key.up.get()&&("Mouse"===e.pointer.type.get()?e.control.tool.change("SelectStepOneDrag"):e.control.tool.change("SelectStepOneSelectBounds"),e.contextPanel.type.change("FigureEdit"))}))]},pointer:{buttons:{left:{down:[new Ys(e.pointer.point.transformed,e.select.line,e.select.bounds,e.select.isOn),new fs(e.control.tool,"SelectStepTwoAddToSelection")]}}}}}class Js{constructor(e,t,n,r,i,o){this.line=e,this.bounds=t,this.selection=n,this.addToSelection=r,this.isOn=i,this.contextPanelType=o}changed(){const e=[],t=[];0!==this.selection.items.get().length&&(e.push(this.selection.bounds.transformed.get()),t.push(this.selection.bounds.original.get())),0!==this.addToSelection.items.get().length&&(e.push(this.addToSelection.bounds.transformed.get()),t.push(this.addToSelection.bounds.original.get()));const n=Zo(e),r=Zo(t);this.selection.bounds.transformed.change(n),this.selection.bounds.original.change(r);const i=this.selection.items.get(),o=this.addToSelection.items.get(),a=[];let s=[];if(l=this.selection.bounds.transformed.get(),u=this.addToSelection.bounds.transformed.get(),h=u,(c=l).right<h.left||c.left>h.right||c.bottom<h.top||c.top>h.bottom)s=[...i,...o];else{for(const e of i){let t=!0;for(const n of o)if(e.id===n.id){t=!1;break}t&&a.push(e)}s=[...a,...o]}var l,u,c,h;this.selection.items.change(s),this.addToSelection.bounds.transformed.change({left:0,top:0,right:0,bottom:0}),this.addToSelection.bounds.original.change({left:0,top:0,right:0,bottom:0}),this.addToSelection.items.change([]),this.line.change({start:{x:0,y:0},end:{x:0,y:0}}),this.bounds.change({left:0,top:0,right:0,bottom:0}),this.isOn.change(!1),this.contextPanelType.change("FigureEdit")}removed(){}}function el(e){return{pointer:{point:{transformed:new Vs(e.select.line,e.select.bounds,e.index,e.transformation,e.addToSelection)},buttons:{left:{up:[new Js(e.select.line,e.select.bounds,e.selection,e.addToSelection,e.select.isOn,e.contextPanel.type),new ws(e.pointer.items.selection,e.selection),new ps((()=>{e.key.isShift.get()?e.control.tool.change("SelectStepOneAddToSelection"):"Mouse"===e.pointer.type.get()?e.control.tool.change("SelectStepOneDrag"):e.control.tool.change("SelectStepOneSelectBounds")}))]}}}}}function tl(e){return{pointer:{point:{original:new _s(e.pointer.delta,e.pointer.point)},delta:{transformed:new Ns(e.dragItems,e.pointer.delta,e.items)},buttons:{left:{up:[new Es(e.pointer.delta,e.pointer.point),new gs((()=>"Mouse"===e.pointer.type.get()),e.control.tool,"SelectStepOneDrag","SelectStepOneSelectBounds")],double:[new xs(e.index,e.pointer.point.transformed,e.selection,e.transformation),new fs(e.contextPanel.type,"FigureTextEdit")]}}}}}function nl(e){return{pointer:{point:{original:new _s(e.pointer.delta,e.pointer.point)},delta:{transformed:[new Ns(e.dragItems,e.pointer.delta,e.items),new fs(e.control.tool,"SelectStepThreeDragItem")]},buttons:{left:{up:[new xs(e.index,e.pointer.point.transformed,e.selection,e.transformation),new fs(e.contextPanel.type,"FigureEdit"),new gs((()=>"Mouse"===e.pointer.type.get()),e.control.tool,"SelectStepOneDrag","SelectStepOneSelectBounds")],double:[new xs(e.index,e.pointer.point.transformed,e.selection,e.transformation),new fs(e.contextPanel.type,"FigureTextEdit"),new gs((()=>"Mouse"===e.pointer.type.get()),e.control.tool,"SelectStepOneDrag","SelectStepOneSelectBounds")]}}}}}function rl(e,t){return Math.random()*(t-e)+e}function il(e,t,n,r){return`rgba(${Math.floor(rl(e,t))},${Math.floor(rl(e,t))},${Math.floor(rl(e,t))},${rl(n,r)})`}const ol=new class{constructor(){this.maxScale=new ya("maxScale",4),this.minScale=new ya("minScale",4e-4),this.pointer={point:{original:new ya("pointer.point.original",{x:0,y:0}),transformed:new ya("pointer.point.transformed",{x:0,y:0})},delta:{original:new ya("pointer.delta.original",{point:{x:0,y:0},delta:{x:0,y:0}}),transformed:new ya("pointer.delta.transformed",{point:{x:0,y:0},delta:{x:0,y:0}})},buttons:{left:{up:new ya("pointer.buttons.left.up",void 0),down:new ya("pointer.buttons.left.down",void 0),double:new ya("pointer.buttons.left.double",void 0)},right:{up:new ya("pointer.buttons.right.up",void 0),down:new ya("pointer.buttons.right.down",void 0),double:new ya("pointer.buttons.right.double",void 0)},middle:{up:new ya("pointer.buttons.middle.up",void 0),down:new ya("pointer.buttons.middle.down",void 0),double:new ya("pointer.buttons.middle.double",void 0)}},wheel:new ya("pointer.wheel",{isWheelDelta:!1,isWheelDeltaX:!1,isWheelDeltaY:!1,isDeltaX:!1,isDeltaY:!1,isCtrlKey:!1,isShiftKey:!1,wheelDelta:0,wheelDeltaX:0,wheelDeltaY:0,deltaX:0,deltaY:0,deltaMode:"line"}),type:new ya("pointer.type","Mouse"),items:{selection:{items:new ya("pointer.items.selection.items",[]),bounds:{original:new ya("pointer.items.selection.bounds.original",{left:0,top:0,right:0,bottom:0}),transformed:new ya("pointer.item.selection.bounds.transformed",{left:0,top:0,right:0,bottom:0})}},hover:{selection:new ya("pointer.hover.selection",void 0),board:new ya("pointer.hover.board",void 0),items:new ya("pointer.hover.items",void 0),figures:new ya("pointer.hover.figures",void 0),connections:new ya("pointer.hover.connections",void 0)},buttons:{selection:{left:{up:new ya("pointer.buttons.selection.left.up",void 0),down:new ya("pointer.buttons.selection.left.down",void 0),double:new ya("pointer.buttons.selection.left.double",void 0)},right:{up:new ya("pointer.buttons.selection.right.up",void 0),down:new ya("pointer.buttons.selection.right.down",void 0),double:new ya("pointer.buttons.selection.right.double",void 0)},middle:{up:new ya("pointer.buttons.selection.middle.up",void 0),down:new ya("pointer.buttons.selection.middle.up",void 0),double:new ya("pointer.buttons.selection.middle.up",void 0)}},board:{left:{up:new ya("pointer.buttons.board.left.up",void 0),down:new ya("pointer.buttons.board.left.down",void 0),double:new ya("pointer.buttons.board.left.double",void 0)},right:{up:new ya("pointer.buttons.board.right.up",void 0),down:new ya("pointer.buttons.board.right.down",void 0),double:new ya("pointer.buttons.board.right.double",void 0)},middle:{up:new ya("pointer.buttons.board.middle.up",void 0),down:new ya("pointer.buttons.board.middle.down",void 0),double:new ya("pointer.buttons.board.middle.double",void 0)}},items:{left:{up:new ya("pointer.buttons.items.left.up",void 0),down:new ya("pointer.buttons.items.left.down",void 0),double:new ya("pointer.buttons.items.left.double",void 0)},right:{up:new ya("pointer.buttons.items.right.up",void 0),down:new ya("pointer.buttons.items.right.down",void 0),double:new ya("pointer.buttons.items.right.double",void 0)},middle:{up:new ya("pointer.buttons.items.middle.up",void 0),down:new ya("pointer.buttons.items.middle.down",void 0),double:new ya("pointer.buttons.items.middle.double",void 0)}},figures:{left:{up:new ya("pointer.buttons.figures.left.up",void 0),down:new ya("pointer.buttons.figures.left.down",void 0),double:new ya("pointer.buttons.figures.left.double",void 0)},right:{up:new ya("pointer.buttons.figures.right.up",void 0),down:new ya("pointer.buttons.figures.right.down",void 0),double:new ya("pointer.buttons.figures.right.double",void 0)},middle:{up:new ya("pointer.buttons.figures.middle.up",void 0),down:new ya("pointer.buttons.figure.middle.down",void 0),double:new ya("pointer.buttons.figure.middle.double",void 0)}},connections:{left:{up:new ya("pointer.buttons.connections.left.up",void 0),down:new ya("pointer.buttons.connections.left.down",void 0),double:new ya("pointer.buttons.connections.left.double",void 0)},right:{up:new ya("pointer.buttons.connections.right.up",void 0),down:new ya("pointer.buttons.connections.right.down",void 0),double:new ya("pointer.buttons.connections.right.double",void 0)},middle:{up:new ya("pointer.buttons.connections.middle.up",void 0),down:new ya("pointer.buttons.connections.middle.down",void 0),double:new ya("pointer.buttons.connections.middle.double",void 0)}}}}},this.transformation=new ya("transformation",{position:{x:0,y:0},scale:{x:1,y:1}}),this.addFigure={isOn:new ya("addFigure.isOn",!1),line:new ya("addFigure.line",{start:{x:0,y:0},end:{x:0,y:0}}),bounds:new ya("addFigure.bounds",{left:0,top:0,right:0,bottom:0})},this.select={isOn:new ya("select.isOn",!1),line:new ya("select.line",{start:{x:0,y:0},end:{x:0,y:0}}),bounds:new ya("select.bounds",{left:0,top:0,right:0,bottom:0})},this.view={original:new ya("view.original",{left:0,top:0,right:0,bottom:0}),transformed:new ya("view.transformed",{left:0,top:0,right:0,bottom:0})},this.selection={items:new ya("selection.items",[]),bounds:{original:new ya("selection.bounds.original",{left:0,top:0,right:0,bottom:0}),transformed:new ya("selection.bounds.transformed",{left:0,top:0,right:0,bottom:0})}},this.addToSelection={items:new ya("addToSelection.items",[]),bounds:{original:new ya("addToSelection.bounds.original",{left:0,top:0,right:0,bottom:0}),transformed:new ya("addToSelection.bounds.transformed",{left:0,top:0,right:0,bottom:0})}},this.dragItems={items:new ya("dragItems.items",[]),bounds:{original:new ya("dragItems.bounds.original",{left:0,top:0,right:0,bottom:0}),transformed:new ya("dragItems.bounds.transformed",{left:0,top:0,right:0,bottom:0})}},this.contextPanel={isOn:new ya("contextPanel.isOn",!1),type:new ya("contextPanel.type","Selection"),menuBounds:new ya("contextPanel.menuBounds",{left:0,top:0,right:0,bottom:0}),itemBounds:new ya("contextPanel.itemBounds",{left:0,top:0,right:0,bottom:0})},this.contextPanelMenu={isOn:new ya("contextPanelMenu.isOn",!1),type:new ya("contextPanelMenu.type","ChangeFigureType"),menuBounds:new ya("contextPanelMenu.menuBounds",{left:0,top:0,right:0,bottom:0}),itemBounds:new ya("contextPanelMenu.itemBounds",{left:0,top:0,right:0,bottom:0})},this.toolsPanelMenu={isOn:new ya("toolsPanelMenu.isOn",!1),type:new ya("toolsPanelMenu.type","AddFigure"),menuBounds:new ya("toolsPanelMenu.menuBounds",{left:0,top:0,right:0,bottom:0}),itemBounds:new ya("toolsPanelMenu.itemBounds",{left:0,top:0,right:0,bottom:0})},this.contextMenuItem=new ya("contextMenuItem",{left:0,top:0,right:0,bottom:0}),this.figure={style:new ya("figure.style",{type:"Rectangle",backgroundColor:"",borderColor:"black",borderStyle:"solid",borderWidth:5,borderOpacity:1,backgroundOpacity:1,verticalAlignment:"center",horisontalAlignment:"center",fontSize:16,fontStyle:[],fontColor:"black",fontHighlight:""})},this.item={id:new Na("")},this.items=new ba,this.tree=new Da,this.index=new wa((()=>new Pa),(e=>this.tree.getZIndex(e))),this.control={device:new Ha("Default"),service:new Ha("Default"),tool:new Ha("Default"),subscriber:new Ga},this.key={down:new ya("key.down",""),up:new ya("key.up",""),isShift:new ya("key.isShift",!1),isCtrl:new ya("key.isShift",!1),isAlt:new ya("key.isShift",!1)},this.tool=new ya("tool","Move")}};ol.control.device.init(ol,function(e){return{Default:es(e)}}(ol)),ol.control.service.init(ol,function(e){return{Default:Ss(e)}}(ol)),ol.control.tool.init(ol,function(e){const t=function(e){return{pointer:{buttons:{left:{down:[new ks(e.pointer.delta,e.pointer.point.original,e.transformation),new fs(e.control.tool,"MoveStepTwo")],double:[new xs(e.index,e.pointer.point.transformed,e.selection,e.transformation),new fs(e.contextPanel.type,"FigureTextEdit")]},middle:{down:[new ks(e.pointer.delta,e.pointer.point.original,e.transformation),new fs(e.control.tool,"MoveStepTwo")]}}},key:{down:[new ps((()=>{"Shift"===e.key.down.get()&&(e.control.tool.change("SelectStepOneAddToSelection"),e.tool.change("Select"))}))]}}}(e);return{Default:t,MoveStepOne:t,MoveStepTwo:Ts(e),MoveStepThree:Bs(e),AddFigureStepOne:Is(e),AddFigureStepTwo:Rs(e),SelectStepOneDrag:Us(e),SelectStepOneAddToSelection:Ks(e),SelectStepTwoAddToSelection:el(e),SelectStepOneSelectBounds:Qs(e),SelectStepTwoDragBoard:Ws(e),SelectStepTwoDragSelection:Gs(e),SelectStepTwoDragItem:nl(e),SelectStepTwoSelectBounds:$s(e),SelectStepThreeDragBoard:js(e),SelectStepThreeDragSelection:Fs(e),SelectStepThreeDragItem:tl(e),SelectStepThreeSelectBounds:Zs(e)}}(ol)),ol.control.subscriber.init(ol);const al=function(e){const t=new ca,n=Co(e,t),r=function(e,t){const n=new aa(e,t);function r(){return new la(n)}const i=new sa(n);return{view:{transformed:r()},items:i,addFigure:{isOn:r(),bounds:r()},select:{isOn:r(),bounds:r()},selection:{items:r()},contextPanel:{isOn:r()}}}(n,(e=>{t.render(e)}));e.control.subscriber.subscribe(r);const i=new ca,o=Jo(e,i),a=function(e,t){const n=new aa(e,t);function r(){return new la(n)}return{tool:r(),transformation:r(),view:{transformed:r()},toolsPanelMenu:{isOn:r(),type:r(),itemBounds:r(),menuBounds:r()},contextPanel:{isOn:r(),type:r(),itemBounds:r(),menuBounds:r()},contextPanelMenu:{isOn:r(),type:r(),itemBounds:r(),menuBounds:r()},selection:{items:r()},select:{isOn:r()},figure:{style:r()}}}(o,(e=>{i.render(e)}));e.control.subscriber.subscribe(a);const s=oa(e);return function(){return{container:s(),canvas:n(),overlays:o()}}}(ol);al().container.resize.listener({});const sl=function(e,t){return function(){o.render(n.createElement(yo,Object.assign({},e())),t)}}(al,document.getElementById("root"));sl(),window.ignore=["pointer.point.original","pointer.point.transformed"],window.log=!1,window.mediator=()=>ol,window.mock=()=>{!function(e){const t=[];for(let e=0;e<1e4;e++){const n=""+e,r=rl(.01,100);t.push({id:n,item:Object.assign(Object.assign({id:n,position:{x:rl(-4e5,4e5),y:rl(-4e5,4e5)},scale:{x:r+rl(.01,1),y:r+rl(.01,1)}},{type:Qi[Math.floor(rl(0,Qi.length-1))],backgroundColor:il(100,255,1,1),borderColor:il(0,100,1,1),borderStyle:"solid",borderWidth:5,backgroundOpacity:1,borderOpacity:1,verticalAlignment:"center",horisontalAlignment:"center",fontStyle:[],fontSize:16,fontColor:il(100,255,1,1),fontHighlight:il(100,255,1,1)}),{parent:"root",oldestChild:void 0,olderSibling:0===e?void 0:""+(e-1),youngerSibling:void 0})})}e.items.batchInsert(t)}(ol)},window.mock()})(),i})()}));
//# sourceMappingURL=app.bundle.js.map